<odoo>

    <record id="view_project_project_inherit_kanban_views_stages" model="ir.ui.view">
        <field name="name">project.project.kanban.views.inherit</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="default_group_by">stage_id</attribute>
                <attribute name="quick_create">false</attribute>
                <attribute name="on_create">quick_create</attribute>
            </xpath>
            <xpath expr="//kanban//field[@name='partner_id']" position="before">
                <field name="stage_id"/>
            </xpath>
            <xpath expr="//div[hasclass('o_kanban_card_manage_pane')]" position="attributes">
                <attribute name="groups">project.group_project_user</attribute>
            </xpath>
            <xpath expr="//a[hasclass('o_kanban_manage_toggle_button')]" position="attributes">
                <attribute name="groups">project.group_project_user</attribute>
            </xpath>
            <xpath expr="//div[hasclass('o_kanban_card_manage_pane')]//div[hasclass('o_kanban_card_manage_section')]//div[1]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//div[hasclass('o_kanban_card_manage_pane')]//div[hasclass('o_kanban_card_manage_section')]//div[2]" position="after">
                <div role="menuitem">
                    <a type="open">Open</a>
                </div>
            </xpath>
            <xpath expr="//div[hasclass('o_kanban_card_manage_pane')]//div[hasclass('o_kanban_card_manage_section')]//div[2]" position="attributes">
                <attribute name="groups">gts_project_stages.group_project_manager_new</attribute>
            </xpath>
        </field>
    </record>

    <record id="project_task_task_inherit_views_kanban" model="ir.ui.view">
        <field name="name">project.task.inherit.kanban.views</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="quick_create">false</attribute>
                <attribute name="on_create">quick_create</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_project_project_inherit_form_views_stages" model="ir.ui.view">
        <field name="name">project.project.views.inherit.form</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <field name="stage_id" widget="statusbar" options="{'clickable': '1', 'fold_field': 'fold'}"
                       force_save="1" />
            </xpath>
            <xpath expr="//div[@name='options_active']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//div[@class='oe_title']" position="after">
                <group>
                    <group>
                        <field name="partner_id" string="Customer" widget="res_partner_many2one" required="1"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
<!--                        <label for="start_date" string="Start &amp; End Date"/>-->
<!--                        <div class="o_row">-->
<!--                            <field name="start_date" required="1"/>-->
<!--                            - -->
<!--                            <field name="end_date" required="1"/>-->
<!--                        </div>-->
                        <td class="o_td_label">
                          <label for="start_date" class="o_form_label" string="Start &amp; End Date" ></label>
                          <span style="color: #ff0000" class="mandatory">*</span>
                        </td>
                        <div class="o_row">
                            <field name="start_date" required="1" nolabel="1"/>
                            -
                            <field name="end_date" required="1"/>
                        </div>


                    </group>
                    <group>
                        <field name="outgoing_email"/>
                    </group>
                </group>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='partner_id']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
                <attribute name="options">{'no_create': True, 'no_edit': True, 'no_open': True}</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='user_id']"
                   position="attributes">
                <attribute name="options">{'no_create': True, 'no_edit': True, 'no_open': True}</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[2]//field[@name='analytic_account_id']"
                   position="attributes">
                <attribute name="options">{'no_create': True, 'no_edit': True, 'no_open': True}</attribute>
                <attribute name="attrs">{'invisible': [('analytic_account_id', '=', False)]}</attribute>
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='partner_email']"
                   position="attributes">
                <attribute name="string">Customer Email</attribute>
            </xpath>

            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='partner_phone']"
                   position="attributes">
                <attribute name="string">Customer Phone</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='partner_email']"
                   position="after">
                <span class="o_form_label o_td_label" attrs="{'invisible': [('partner_id', '=', False)]}">
                    <b>Customer Address</b>
                </span>
                <div class="o_address_format" attrs="{'invisible': [('partner_id', '=', False)]}">
                    <field name="street" placeholder="Street..." class="o_address_street"/>
                    <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                    <div class="o_row">
                        <field name="city_id" placeholder="City" domain="[('parent_id','=', False)]"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                        <field name="sub_city_id" placeholder="Sub City"
                               domain="[('parent_id','=', city_id), ('parent_id', '!=', False)]"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                    </div>
                    <div class="o_row">
                        <field name="woreda_id" placeholder="Woreda"
                               domain="[('sub_city_id','=', sub_city_id), ('sub_city_id','!=', False)]"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                        <field name="kabele_id" placeholder="Kabele"
                               domain="[('woreda_id','=', woreda_id), ('woreda_id','!=', False)]"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                    </div>
                    <div class="o_row">
                        <field name="state_id" placeholder="State"
                               options="{'no_open': True, 'no_quick_create': True}"
                               context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"
                               invisible="1"/>
                        <field name="zip" placeholder="ZIP"/>
                    </div>
                    <field name="country_id" placeholder="Country" class="o_address_country" readonly="1"
                           options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                </div>
            </xpath>
            <xpath expr="//sheet//div//field[@name='message_follower_ids']" position="after">
                <field name="activity_ids"/>
                <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='user_id']"
                   position="before">
                <field name="program_manager_ids" invisible="1"/>
                <field name="program_manager_id" domain="[('id', 'in', program_manager_ids)]"
                       options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                <field name="user_ids" invisible="1"/>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[2]//field[@name='allowed_internal_user_ids']" position="attributes">
                <attribute name="domain">[('share', '=', False), ('id', 'in', user_ids)]</attribute>
                <attribute name="options">{'no_create': True, 'no_edit': True, 'no_open': True}</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[1]//field[@name='user_id']"
                   position="attributes">
                <attribute name="domain">[('share', '=', False), ('id', 'in', user_ids)]</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[2]//field[@name='analytic_account_id']"
                   position="attributes">
                <attribute name="string">Project Account</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//div[1]//div[@id='rating_settings']//div[1]"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//div[1]//div[@id='rating_settings']//div[2]"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//div[1]//div[@id='recurring_tasks_setting']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//div[1]//div[@id='subtask_settings']"
                   position="replace">
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//div[1]//div[@id='rating_settings']" position="before">
                <div class="col-lg-6 o_setting_box" id="subtask_settings" groups="project.group_subtask_project">
                    <div class="o_setting_left_pane">
                        <field name="allow_subtasks"/>
                    </div>
                    <div class="o_setting_right_pane">
                        <label for="allow_subtasks"/>
                        <div class="text-muted">
                            Split your tasks to organize your work into sub-milestones
                        </div>
                        <div class="mt8" attrs="{'invisible': [('allow_subtasks', '=', False)]}">
                            <label for="subtask_project_id"/>
                            <field name="subtask_project_id"
                                   options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>
                        </div>
                    </div>
                </div>
            </xpath>
            <xpath expr="//notebook//page[@name='settings']//group[1]//group[2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//header//button[@name='164']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <record id="project_task_inherit_views_form" model="ir.ui.view">
        <field name="name">project.task.inherit.form.views</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='date_deadline']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//field[@name='legend_done']" position="after">
                <div class="o_td_label">
                    <label for="planned_hours" string="Initially Planned Hours"
                           attrs="{'invisible': [('encode_uom_in_days', '=', True)]}"/>
                    <label for="planned_hours" string="Initially Planned Days"
                           attrs="{'invisible': [('encode_uom_in_days', '=', False)]}"/>
                </div>
                <field name="planned_hours" widget="timesheet_uom_no_toggle" nolabel="1" required="1"/>
                <div class="o_td_label" groups="project.group_subtask_project"
                     attrs="{'invisible': ['|', ('allow_subtasks', '=', False), ('subtask_count', '=', 0)]}">
                    <label for="subtask_planned_hours" string="Sub-tasks Planned Hours"
                           attrs="{'invisible': [('encode_uom_in_days', '=', True)]}"/>
                    <label for="subtask_planned_hours" string="Sub-tasks Planned Days"
                           attrs="{'invisible': [('encode_uom_in_days', '=', False)]}"/>
                </div>
                <field name="subtask_planned_hours" widget="timesheet_uom_no_toggle" nolabel="1"
                       groups="project.group_subtask_project"
                       attrs="{'invisible': ['|', ('allow_subtasks', '=', False), ('subtask_count', '=', 0)]}"/>
                <field name="progress" widget="progressbar"/>
            </xpath>
            <xpath expr="//field[@name='user_id']" position="before">
                <field name="project_stakeholder_ids" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='user_id']" position="attributes">
                <attribute name="domain">[('id', 'in', project_stakeholder_ids)]</attribute>
            </xpath>
            <xpath expr="//field[@name='project_id']" position="replace"></xpath>
            <xpath expr="//field[@name='partner_id']" position="before">
                <field name="project_id"/>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_email']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='extra_info']//field[@name='project_privacy_visibility']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//notebook//page[@name='extra_info']//field[@name='allowed_user_ids']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='date_deadline']" position="after">
                <label for="activity_reminder_days"/>
                <div>
                    <field name="activity_reminder_days" class="oe_inline"/>Day(s)
                </div>
            </xpath>
        </field>
    </record>

    <record id="project_task_hr_task_inherit_views_form" model="ir.ui.view">
        <field name="name">project.task.hr.inherit.form.views</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@id='timesheets_tab']//group[1]//group[1]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@id='timesheets_tab']//group[1]//group[2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@id='timesheets_tab']//field[@name='timesheet_ids']//tree//field[@name='unit_amount']"
                   position="before">
                <field name="estimated_hours" widget="timesheet_uom" decoration-danger="estimated_hours &gt; 24"/>
            </xpath>
            <xpath expr="//page[@id='timesheets_tab']//field[@name='timesheet_ids']//tree//field[@name='unit_amount']"
                   position="attributes">
                <attribute name="string">Actual Hours</attribute>
            </xpath>
        </field>
    </record>

    <record id="project_task_sale_task_inherit_views_form" model="ir.ui.view">
        <field name="name">project.task.inherit.sale.form.views</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="sale_project.view_sale_project_inherit_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='sale_order_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <!--<record id="project_task_inherit_views_kanban" model="ir.ui.view">-->
    <!--<field name="name">project.task.inherit.kanban.views</field>-->
    <!--<field name="model">project.task</field>-->
    <!--<field name="inherit_id" ref="project.quick_create_task_form"/>-->
    <!--<field name="arch" type="xml">-->
    <!--<xpath expr="//field[@name='name']" position="after">-->
    <!--<field name="date_deadline"/>-->
    <!--</xpath>-->
    <!--</field>-->
    <!--</record>-->

    <!--<record id="project.project_project_view_form_simplified" model="ir.ui.view">-->
    <!--<field name="name">project.project.view.form.simplified</field>-->
    <!--<field name="model">project.project</field>-->
    <!--<field name="arch" type="xml">-->
    <!--<form string="Project">-->
    <!--<group>-->
    <!--<group>-->
    <!--<field name="name" class="o_project_name oe_inline"-->
    <!--string="Project Name" placeholder="e.g. Office Party"/>-->
    <!--<field name="user_id" invisible="1"/>-->
    <!--<field name="allow_recurring_tasks" groups="project.group_project_recurring_tasks"/>-->
    <!--</group>-->
    <!--<group>-->
    <!--<field name="start_date" required="1"/>-->
    <!--<field name="end_date" required="1"/>-->
    <!--<field name="company_id" invisible="1"/>-->
    <!--<field name="partner_id" required="1"-->
    <!--options="{'no_create': True, 'no_edit': True, 'no_open': True}"/>-->
    <!--</group>-->
    <!--</group>-->
    <!--<div name="alias_def" colspan="2" attrs="{'invisible': [('alias_domain', '=', False)]}">-->
    <!--<label for="alias_name" class="oe_inline" string="Create tasks by sending an email to"/>-->
    <!--<field name="alias_enabled" invisible="1"/>-->
    <!--<span>-->
    <!--<field name="alias_name" class="oe_inline" placeholder="e.g. office-party"/>@-->
    <!--<field name="alias_domain" class="oe_inline" readonly="1"/>-->
    <!--</span>-->
    <!--</div>-->
    <!--</form>-->
    <!--</field>-->
    <!--</record>-->

    <menuitem name="Project"
              id="project.menu_main_pm"
              groups="project.group_project_manager,gts_project_stages.group_project_manager_new,project.group_project_user"
              web_icon="project,static/description/icon.png"
              sequence="50"/>

</odoo>
