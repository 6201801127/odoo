<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="fiscal_year_filter_wizard_view">
            <field name="name">Employee Data</field>
            <field name="model">fiscal_year_filter_wizard</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="date_range" options="{&apos;no_open&apos;: True,&apos;no_create&apos;:True,&apos;no_edit&apos;:True}" required="1"/>
                        </group>
                        <footer>
                            <center>
                                <button name="get_no_declarations" type="object" string="Get Employee&apos;s Data" class="btn-primary"/>
                                <button name="delete_declarations" type="object" string="Delete Data" class="btn-danger" style="margin-left:5px"/>
                            </center>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="fiscal_year_filter_wizard_window">
            <field name="name">Get Non Declaration Data</field>
            <field name="res_model">fiscal_year_filter_wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="fiscal_year_filter_wizard_view"/>
        </record>
        <menuitem name="Get Non Declaration Data" id="menu_fiscal_year_filter_wizard" parent="base.menu_custom" sequence="105" action="fiscal_year_filter_wizard_window"/>
        <!-- non_hr_declaration tree view -->
        <record id="non_hr_declaration_view_tree" model="ir.ui.view">
            <field name="name">non_hr_declaration.view.tree</field>
            <field name="model">non_hr_declaration</field>
            <field name="arch" type="xml">
                <tree decoration-danger="(red == 1)" create="false" editable="top" delete="0" default_order="red desc">
                    <field name="date_range" string="Financial Year" readonly="1"/>
                    <field name="tax_regime" readonly="1"/>
                    <field name="employee_id" string="Name" invisible="1"/>
                    <field name="emp"/>
<!--                    <field name="emp_code" string="Employee Code" readonly="1"/>-->
<!--                    <field name="emp_type"/>-->
                    <field name="pan_number" readonly="1"/>
                    <field name="bank_account" readonly="1"/>
                    <field name="date_of_joining"/>
<!--                    <field name="last_working_day"/>-->
                    <field name="basic_salary" string="Basic Salary" readonly="1"/>
                    <field name="hra" readonly="1" string="House Rent Allowance"/>
                    <field name="other_allowance" string="Other Allowance" readonly="1"/>
                    <field name="previous_employer_income_final" string="Income from Previous Employer" readonly="1"/>
                    <field name="total" string="Gross Salary" readonly="1"/>
                    <field name="hra_exemption" string="HRA Exemption U/s - 10C (13A)" readonly="1"/>
                    <field name="professional_tax" string="Professional Tax Deduction U/s 16" readonly="1"/>
                    <field name="standard_deduction" string="Standard Deduction U/s 16" readonly="1"/>
                    <field name="income_from_salary" string="Income From Salary" readonly="1"/>
                    <field name="calculate_interest_payment" string="Income From House Property" readonly="1"/>
                    <field name="final_amount_other_income" string="Income from other sources" readonly="1"/>
                    <field name="gross_total_income" string="Gross Total Income" readonly="1"/>
                    <field name="allowed_rebate_under_80c" string="Deduction U/s 80C" readonly="1"/>
                    <field name="allowed_rebate_under_80ccd" string="Deduction U/s 80CCD" readonly="1"/>
                    <field name="allowed_rebate_under_80d" string="Deduction U/s 80D" readonly="1"/>
                    <field name="allowed_rebate_under_80dd" string="Deduction U/s 80DD" readonly="1"/>
                    <field name="allowed_rebate_under_80e" string="Deduction U/s 80E" readonly="1"/>
                    <field name="allowed_rebate_under_80g" string="Deduction U/s 80G" readonly="1"/>
                    <field name="final_amount" string="Total Deductions" readonly="1"/>
                    <field name="cal_taxable_income" string="Total Taxable Income" readonly="1"/>
                    <field name="cal_tax_payable" string="Tax Payable" readonly="1"/>
                    <field name="cal_rebate" string="Rebate U/s 87A"/>
                    <field name="cal_net_tax_payable" string="Net Tax Payable" readonly="1"/>
                    <field name="cal_additional_sub_chrg" string="Surcharge" readonly="1"/>
                    <field name="cal_additional_edu_cess" string="Education Cess" readonly="1"/>
                    <field name="cal_total_tax_payable" string="Total Tax Payable"/>
                    <field name="cal_tds_by_company" string="TDS Deducted by Current employer" readonly="1"/>
                    <field name="tds_previous_employer" string="TDS Deducted by Previous Employer" readonly="1"/>
                    <field name="tax_recovered" string="Total TDS Deducted" readonly="1"/>
                    <field name="cal_balance_tax_payable" string="Balance Tax Payable/Refundable" readonly="1"/>
                    <field name="housing_loan_institute" string="Name of Houseing Loan Institution"/>
                    <field name="housing_loan_institute_pan" string="PAN of Houseing Loan Institution"/>
                    <field name="name_of_landlord" string="Name of Landlord"/>
                    <field name="pan_of_landlord" string="PAN of Landlord"/>
                    <field name="red" string="" invisible="1"/>
                    <field name="state" readonly='1'/>
                    <button name="view_payslips" type="object" string="View Payslips" class="btn-primary"/>
                    <button name="view_yearly_hr_declaration" type="object" string="View Declaration" class="btn-primary"/>

                </tree>
            </field>
        </record>
        <record id="non_hr_declaration_view_search" model="ir.ui.view">
            <field name="name">non_hr_declaration.view.search</field>
            <field name="model">non_hr_declaration</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <field name="employee_id" string="Name"/>
                    <filter string="Submitted" name="submitted" domain="[('state', '=', 'draft')]" />
                    <filter string="Approved" name="approved" domain="[('state', '=', 'approved')]" />
                    <filter string="Not-Submitted" name="not_submitted" domain="[('state', '=', 'not_submitted')]" />
                    <group expand="0" string="Group By">
                        <filter name="tax_regime" string="Tax Regime" domain="" context="{'group_by':'tax_regime'}"/>
                    </group>
                </search>
            </field>
        </record>
        <record model="ir.actions.act_window" id="non_hr_declaration_action">
            <field name="name">Declaration</field>
            <field name="res_model">non_hr_declaration</field>
            <field name="view_mode">tree</field>
            <field name="binding_view_types">form</field>
            <field name="target">current</field>
            <field name="domain">[('basic_salary','&gt;',0)]</field>
        </record>

    </data>
</odoo>