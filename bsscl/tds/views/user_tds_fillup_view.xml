<?xml version="1.0" encoding="UTF-8"?>

<odoo>


    <record id="hr_declaration_user_form_view" model="ir.ui.view">
        <field name="name">hr.declaration.form</field>
        <field name="model">hr.declaration</field>
        <field name="priority">2</field>
        <field name="arch" type="xml">
            <form string="HR Declarations" delete='0' duplicate='0'>

                <header>
                    <field name="is_manager" invisible='1'/>
                    <button name="button_compute_tax" string="Compute Tax"
                        class="oe_highlight compute_tax" type="object"
                        attrs="{'invisible':['|',('test_css','!=',False),('is_manager','!=',True)]}" />
                    <field name="state" widget="statusbar" statusbar_visible="draft,approved" />
                </header>
                <sheet>
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#8585ad;color:#fff}
                        .btn btn-primary .o_select_file_button{}
                        .o_form_view .o_horizontal_separator{color:#108fbb}
                        .o_list_view thead > tr > th.o_list_number_th{text-align:right}
                        .o_list_view .o_list_table tfoot .o_list_number {text-align: left;}
                    </style>
                    <p style='text-align:right;color:red;font-weight:bold; margin-bottom:0'>**Please
                        filled the amount of All investment excluding of GST<br></br>
                        **Only PDF/JPG/JPEG/PNG format is allowed, and size must be below 5MB.
                    </p>
                    <group>
                        <group string='Tax Regime'>
                            <h2>
                                <field name="tax_regime" placeholder="Tax Regime" required="True" force_save = '1'
                                    string='Tax regime' attrs="{'readonly':[('state','!=','draft')]}"/>
                            </h2>
                        </group>
                    </group>
                    <field name="test_css" invisible='1' />
                    <field name="edit_hide_css" attrs="{'invisible':[('state','=','draft')]}" />
                    <field name="check_month" invisible='1' />
                    <field name="tax_recovered" invisible='1' />
                    <field name="emp_age" invisible='1' />
                    <group>
                        <table id="o_employee_container" style="width:100%; margin-top: 14px;">
                            <tbody style='border-left: 1px solid #eee;width:100%'>
                                <tr style='border-left: 1px solid #eee;width:50%'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Financial
                                        Year :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="date_range" required='1'
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            attrs="{'readonly': ['|',('tax_freeze_bool','=',True),('state','!=','draft')]}"
                                            force_save='1' />
                                        <field name="tax_freeze_bool" invisible='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Date
                                        of Joining :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="date_of_joining"
                                            required='1'
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Assessment
                                        Year :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="comming_date_range"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Gender</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="gender"
                                            readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Department:</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="department_name"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Bank
                                        A/c No.:</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="bank_account" readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Employee
                                        Name :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="employee_id"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>PAN
                                        No: </th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="pan_number" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </group>
                    <notebook>
                        <page string='Income' class="tds_page">

                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Previous
                                                                    Employer Details</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Actual</th>

                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Document</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Income From
                                                                    Previous
                                                                    Employer</th>
                                                                <td style="text-align: center;">
                                                                    <field
                                                                        name="previous_employer_income"
                                                                        attrs="{'readonly': [('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="income_from_pre_employer_doc"
                                                                        attrs="{'readonly': [('state','!=','draft')],'required':[('check_month','=',True)]}"
                                                                        filename="doc_file_name_pre_emp" />
                                                                    <field
                                                                        name="doc_file_name_pre_emp"
                                                                        invisible='1' />
                                                                    <field
                                                                        name="check_previous_emp_income"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">TDS Paid</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="tds_previous_employer"/>
                                                                </td>
                                                                <td style="text-align:center">

                                                                </td>

                                                                <td style="text-align:center">
                                                                    <field name="tds_doc"
                                                                        attrs="{'required':[('check_month','=',True)]}"/>
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>

                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Income
                                                                    From House Property</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Actual</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%'>
                                                                    Document</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Gross Annual
                                                                    Value / Rent Income</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="gross_annual_value"
                                                                        force_save='1' attrs="{'readonly':[('state','!=','draft')]}"/>
                                                                </td>
                                                                <td style="text-align:center">

                                                                </td>

                                                                <td style="text-align:center">

                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Less: Municipal
                                                                    Taxes
                                                                    paid</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="municipal_taxes"
                                                                        force_save='1'
                                                                        attrs="{'readonly': [('gross_annual_value','&lt;=',0)]}" />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>

                                                                <td style="text-align:center">
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                                                                <th scope="row">Less: Interest
                                                                    on House
                                                                    Loan</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="temp_interest_payment"
                                                                        attrs="{'readonly': ['|',('tax_regime','=','new_regime'),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_interest_payment"
                                                                        attrs="{'required':[('check_month','=',True),('temp_interest_payment','>',0)],'readonly':['|',('tax_regime','=','new_regime'),('state','=','approved')]}"
                                                                        force_save='1' />
                                                                </td>

                                                                <td>
                                                                    <field name="house_loan_doc"
                                                                        attrs="{'required':[('actual_interest_payment','>',0)],'readonly': [('state','!=','draft')]}"
                                                                        filename='house_loan_doc_file_name' />
                                                                    <field
                                                                        name="house_loan_doc_file_name"
                                                                        invisible='1' />
                                                                    <field name="invisible"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>

                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Income
                                                                    From Other Sources</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Actual</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%'>
                                                                    Document</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Interest
                                                                    Received From
                                                                    Bank</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="interest_received_from_bank"
                                                                        attrs="{'readonly': [('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_interest_received"
                                                                        attrs="{'required':[('check_month','=',True),('interest_received_from_bank','>',0)],'readonly':[('state','=','approved')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="interest_received_doc"
                                                                        filename='interest_received_file_name'
                                                                        widget="binary"
                                                                        attrs="{'required':[('actual_interest_received','>',0)],'readonly': [('state','!=','draft')]}"
                                                                    />
                                                                    <field
                                                                        name="interest_received_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Any Other Income</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="income_from_other_sources"
                                                                        attrs="{'readonly': [('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_income_from_other_sources"
                                                                        attrs="{'required':[('check_month','=',True)],'readonly':[('state','=','approved')]}"
                                                                        force_save='1' />

                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="income_from_other_sources_doc"
                                                                        filename='other_source_income_file_name'
                                                                        widget="binary"
                                                                        attrs="{'required':[('actual_income_from_other_sources','>',0)],'readonly': [('state','!=','draft')]}"
                                                                    />
                                                                    <field
                                                                        name="other_source_income_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>


                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                        </page>
                        <page string='Exemption' class="tds_page"
                            attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                            <group attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:50%'>HRA
                                                                    Exemption u/s 10(13A)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:25%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:25%;text-align:center'>
                                                                    Actual</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">House Rent Paid
                                                                </th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="house_rent_paid"
                                                                        attrs="{'readonly': ['|',('state','!=','draft'),('tax_regime','=','new_regime')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_house_rent_paid"
                                                                        attrs="{'readonly': ['|',('tax_regime','=','new_regime'),('state','!=','draft')]}" />
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <th scope="row">PAN of House
                                                                    Owner</th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="pan_of_landlord"
                                                                        attrs="{'readonly': [('state','!=','draft'),('actual_house_rent_paid','&lt;',100000)],'required':[('actual_house_rent_paid','&gt;=',100000)]}" />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Rent Receipt</th>
                                                                <td>
                                                                    <field name="pan_landlord"
                                                                        attrs="{'required':[('tax_regime','=','old_regime'),('actual_house_rent_paid','>',0)],'readonly': [('state','!=','draft')]}"
                                                                        filename='pan_landlord_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="pan_landlord_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <group
                                attrs="{'invisible':['|',('tax_regime','=','new_regime'),('lta','=',0)]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>LTA
                                                                    Exemption u/s 10(5)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Actual</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%'>
                                                                    Document</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">A. Actual LTA
                                                                    offered by
                                                                    the employer
                                                                </th>
                                                                <td style="text-align:center">
                                                                    <field name="lta"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <th scope="row">B. LTA Spend By
                                                                    the
                                                                    Employee
                                                                </th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="lta_spent_by_employee"
                                                                        attrs="{'readonly': [('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_lta_spent_by_employee"
                                                                        attrs="{'required':[('check_month','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field name="lta_document"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': [('state','!=','draft')]}"
                                                                        filename='lta_document_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="lta_document_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>


                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <group
                                attrs="{'invisible':['|',('tax_regime','=','new_regime'),('prof_persuit','=',0)]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Professional
                                                                    Pursuit Exemption u/s 10(14)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:center'>
                                                                    Declaration</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Actual</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%'>
                                                                    Document</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">A. Actual
                                                                    Professional
                                                                    Pursuit offered by the
                                                                    employer
                                                                </th>
                                                                <td style="text-align:center">
                                                                    <field name="prof_persuit"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                                <td style="text-align:center">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">B. Professional
                                                                    Pursuit
                                                                    Spend By the Employee
                                                                </th>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="prof_persuit_spent_by_employee"
                                                                        attrs="{'readonly': [('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="actual_prof_persuit_spent_by_employee"
                                                                        attrs="{'required':[('check_month','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="prof_persuit_document"
                                                                        attrs="{'required':[('actual_prof_persuit_spent_by_employee','>',0)],'readonly': [('state','!=','draft')]}"
                                                                        filename='prof_persuit_document_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="prof_persuit_document_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                        </page>

                        <page string='Deductions' class="tds_page"
                            attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                            <field name="slab_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}">
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master" string="Section 80C"
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration'
                                     />
                                    <field name="actual_amt" sum="Total"
                                        force_save='1'
                                    />
                                    <field name="document" widget="binary" filename='file_name'/>
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2">
                                <field name="slab_80c_limit"
                                    class="oe_subtotal_footer_separator" widget="monetary"
                                    options="{'currency_field': 'currency_id'}" />
                            </group>

                            <field name="slab_ccd_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_ccd_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' string='Section 80CCD (NPS)' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" force_save='1'
                                        string='Declaration' />
                                    <field name="actual_amt" sum="Total"
                                        string='Actual'
                                    />
                                    <field name="document"
                                        widget="binary" filename='file_name' string='Document' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2">
                                <field name="slab_80ccd_limit"
                                    class="oe_subtotal_footer_separator" widget="monetary"
                                    options="{'currency_field': 'currency_id'}" />
                            </group>
                            <field name="slab_80d_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80d_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80D (Health Insurance)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration'
                                        force_save='1'
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual'
                                    />
                                    <field name="document"
                                        widget="binary" filename='file_name' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2">
<!--                                <label for="slab_80d_limit"-->
<!--                                    string="Maximum amount allowed: 1,00,000.00"-->
<!--                                    class="oe_subtotal_footer oe_right" />-->
                            </group>
                            <field name="slab_80ddb_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 DDB Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80ddb_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80DDB (Payments made towards Medical treatment specified diseases)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration'
                                        force_save='1'
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual'
                                    />
                                    <field name="document"
                                        widget="binary" filename='file_name' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                Maximum amount allowed : Deduction limit of  40,000 ( 1,00,000 if
                                Senior
                                Citizen)</p>

                            <field name="slab_80dd_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0' create='0'>
                                    <field name="slab_80dd_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80DD (Contribution to Rehabilitation of Handicapped Dependents)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="handicapped_percent" required='1'
                                    />
                                    <field name="investment" sum="Total" string='Amount'
                                        readonly='1'
                                        force_save='1' />
                                    <field name="actual_handicapped_percent" />
                                    <field name="actual_amt" />
                                    <field name="document"
                                        widget="binary" filename='file_name' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                Maximum amount allowed : 125,000</p>


                            <field name="slab_80e_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80e_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80E (Interest payments made on loan for higher education)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration'
                                        force_save='1'
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual'
                                    />
                                    <field name="document"
                                        widget="binary" filename='file_name' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                <field name="slab_80e_limit" colspan="2" string=''
                                    class="oe_subtotal_footer_separator oe_right "
                                    style="color:#4c4c4c;font-weight:bold;font-size:12px" />
                            </group>
                            <field name="slab_80g_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80g_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        string='Section 80G (Donation)'
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration'
                                        force_save='1'
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual'
                                    />
                                    <field name="document" widget="binary" filename='file_name' />
                                    <field name="file_name" invisible="1" />
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                <field name="slab_80g_limit" colspan="2" string=''
                                    class="oe_subtotal_footer_separator oe_right "
                                    style="color:#4c4c4c;font-weight:bold;font-size:12px" />
                            </group>
                        </page>
                    </notebook>


                </sheet>
                <div class="oe_chatter" groups="tds.group_manager_hr_declaration">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="activity_ids" widget="mail_activity" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>

    <!-- hr.declaration action window -->
    <record id="hr_declaration_user_action" model="ir.actions.act_window">
        <field name="name">Declaration</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.declaration</field>
        <field name="view_mode">tree,form</field>
        <field name="binding_view_types">form</field>
        <field name="domain">[('employee_id.user_id.id','=',uid)]</field>
        <field name="view_ids"
            eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('tds.hr_declaration_tree_view')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('tds.hr_declaration_user_form_view')})]" />
    </record>




</odoo>