<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="view_hr_employee_inherit_search" model="ir.ui.view">
            <field name="name">hr_employee.search</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//search/filter[@name='activities_upcoming_all']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//search/filter[@name='activities_today']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//search/filter[@name='activities_overdue']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
        <record id="view_employee_tree_for_onboarding" model="ir.ui.view">
            <field name="name">hr.employee.tree</field>
            <field name="model">hr.employee</field>
            <field name="arch" type="xml">
                <tree string="Employees" create='false' import='false' edit='false' delete='false'>
                    <field name="emp_code" string="Emp. Code"/>
                    <field name="name" string="Name"/>
                    <field name="department_id" string="Department"/>
                    <field name="division"/>
                    <field name="section"/>
                    <field name="practise"/>
                    <field name="job_id" string="Designation"/>
                    <field name="job_branch_id"/>
                    <field name="parent_id" string="Administrative Authority"/>
                    <field name="work_email" string="Email" invisible="context.get('outsourced', False)"/>
                    <field name="mobile_phone" string="Mobile"/>
                    <field name="epbx_no" string="Extn." invisible="context.get('outsourced', False)"/>
                    <field name="base_branch_name" invisible="1"/>

                    <field name="date_of_joining" string="Joining Date" invisible="context.get('outsourced', False)"/>
                    <field name="blood_group" string="Blood Group" invisible="context.get('outsourced', False)"/>
                    <field name="start_date" invisible="not context.get('outsourced', False)"/>
                    <field name="end_date" invisible="not context.get('outsourced', False)"/>
                    <field name="emp_project_id" invisible="not context.get('outsourced', False)"/>
                    <field name="vendor_id" invisible="not context.get('outsourced', False)"/>
                    <button name="button_employee_document" class="oe_highlight" type="object" icon="fa-download fa-lg"
                            groups="kw_onboarding.group_kw_onboarding_manager,kw_onboarding.group_kw_onboarding_officer"/>
                </tree>
            </field>
        </record>
        <record id="wemployee_onboarding_view_action" model="ir.actions.act_window">
            <field name="name">Employee Directory</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree</field>
            <field name="priority" eval="499"/>
            <field name="view_type">form</field>
            <field name="view_ids" eval="[(5, 0, 0),
(0, 0, {'view_mode': 'tree', 'view_id': ref('view_employee_tree_for_onboarding')})]"/>
        </record>
        <menuitem name="Employee Directory"
                  id="kwonboard_employee_directory"
                  action="kw_onboarding.wemployee_onboarding_view_action"
                  parent="kw_onboarding.postonboarding_parent_menu"
                  groups="group_kw_onboarding_manager,group_kw_onboarding_officer"
                  sequence="1"/>
    </data>
</odoo>