<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <menuitem id="bsscl_grievance_master_parent_menu" web_icon="bsscl_grievance,static/description/icon.png" name="Grievance" sequence="15" />
    <menuitem id="employee_grievance_menu" name="Grievance" sequence="1" parent="bsscl_grievance_master_parent_menu" />


    <record id="employee_applied_action" model="ir.actions.act_window">
        <field name="name">Apply</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">bsscl.grievance</field>
        <field name="view_mode">kanban,tree,form</field>
        <!-- <field name="context">{'search_default_draft':1}</field> -->
        <!-- <field name="domain">['|',('state','!=','draft'),'&amp;',('create_uid','=',uid),('state','=','draft')]</field> -->
        <field name="domain">[('employee_id.user_id','=',uid)]</field>
        <field name="view_ids" eval="[(5, 0, 0), 
            (0, 0, {'view_mode': 'tree', 'view_id': ref('bsscl_grievance.bsscl_emp_grievance_tree_view')}),
            (0, 0, {'view_mode': 'kanban', 'view_id': ref('bsscl_grievance.bsap_grievance_apply_kanban')})]"/>
    </record>

    <record model="ir.actions.act_window" id="grievance_take_action">
        <field name="name">Take Action</field>
        <field name="res_model">bsscl.grievance</field>
        <field name="view_mode">kanban,tree</field> 
        <!-- <field name="domain">['|',('state','!=','draft'),'&amp;',('create_uid','=',uid),('state','=','draft')]</field> -->
        <field name="domain">[('state','=','apply'),('employee_id.parent_id.user_id','=',uid)]</field>

        <!-- <field name="context">{'take_action': True}</field> -->
        <field name="view_ids" eval="[(5, 0, 0), 
            (0, 0, {'view_mode': 'tree', 'view_id': ref('bsscl_grievance.bsscl_grievance_view_all_tree')}),
            (0, 0, {'view_mode': 'kanban', 'view_id': ref('bsscl_grievance.bsscl_grievance_kanban')})]"/>
    </record>

	<menuitem id="employee_grievance_applied" name="Apply" sequence="1" parent="employee_grievance_menu" action="employee_applied_action" />
	<menuitem id="grievance_take_action_menu" name="Take Action" sequence="3" parent="employee_grievance_menu" action="grievance_take_action"/>


	<menuitem id="bsscl_grievance_master_child_menu" name="Master" parent="bsscl_grievance_master_parent_menu" sequence="2" groups="hr.group_hr_manager"/>
	<menuitem id="bsscl_grievance_type_master_child_menu" name="Grievance Master" parent="bsscl_grievance_master_child_menu" sequence="2" action="bsscl_grievance_master_action_window" />

    

</odoo>
