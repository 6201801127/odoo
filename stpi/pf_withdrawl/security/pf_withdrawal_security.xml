<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- pre function to write no update false -->
        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('module', '=', 'pf_withdrawl'), ('name', 'in', ['group_pf_withdraw_user','group_pf_withdraw_approver','pf_branch_record_rule','pf_user_record_rule','pf_manager_record_rule','pf_employeebranch_record_rule','pf_employeeuser_record_rule','pf_employeemanager_record_rule','pf_ledger_reportbranch_record_rule','pf_ledger_reportuser_record_rule','pf_ledger_reportmanager_record_rule'])]"/>
            </function>
            <value eval="{'noupdate': False}" />
        </function>

        <!-- start : category and groups -->
        <record model="ir.module.category" id="module_pf_withdrawal">
            <field name="name">PF Withdraw</field>
            <field name="description">PF Withdraw</field>
            <field name="sequence">23</field>
        </record>

        <record id="group_pf_withdraw_user" model="res.groups">
            <field name="name">Officer</field>
            <field name="category_id" ref="module_pf_withdrawal"/>
        </record>

        <record id="group_pf_withdraw_approver" model="res.groups">
            <field name="name">Manager</field>
            <field name="category_id" ref="module_pf_withdrawal"/>
        </record>

        <record id="groups_inherit.group_employee_type_regular" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('pf_withdrawl.group_pf_withdraw_user')),(3, ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>

      <!--   <record id="group_pf_withdraw_chairperson" model="res.groups">
            <field name="name">PF Commitee Chairperson</field>
            <field name="category_id" ref="module_pf_withdrawal"/>
        </record> -->
        <!-- end : category and groups -->

        <!-- start : Record Rules -->
        <!-- <record id="pf_branch_record_rule" model="ir.rule">
            <field name="name">PF</field>
            <field name="model_id" ref="model_pf_widthdrawl"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="global" eval="True"/>
        </record> -->

        <record id="pf_user_record_rule" model="ir.rule">
            <field name="name">PF : User(officer) own records only.</field>
            <field name="model_id" ref="model_pf_widthdrawl"/>
            <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_user'))]"/>
        </record>

        <record id="pf_manager_record_rule" model="ir.rule">
            <field name="name">PF : Manager record of allowed branches</field>
            <field name="model_id" ref="model_pf_widthdrawl"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>

        <record id="pf_refund_user_record_rule" model="ir.rule">
            <field name="name">PF : User(officer) own records only.</field>
            <field name="model_id" ref="model_pf_refund"/>
            <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_user'))]"/>
        </record>

        <record id="pf_refund_manager_record_rule" model="ir.rule">
            <field name="name">PF Refund: Manager record of allowed branches</field>
            <field name="model_id" ref="model_pf_refund"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>

        <!-- <record id="pf_employeebranch_record_rule" model="ir.rule">
            <field name="name">PF Employee</field>
            <field name="model_id" ref="model_pf_employee"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="global" eval="True"/>
        </record> -->

        <record id="pf_employeeuser_record_rule" model="ir.rule">
            <field name="name">PF Employee : User own records only.</field>
            <field name="model_id" ref="model_pf_employee"/>
            <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_user'))]"/>
        </record>

        <record id="pf_employeemanager_record_rule" model="ir.rule">
            <field name="name">PF Employee : Manager record of allowed branches</field>
            <field name="model_id" ref="model_pf_employee"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>

        <!-- <record id="pf_ledger_reportbranch_record_rule" model="ir.rule">
            <field name="name">PF Ledger Report</field>
            <field name="model_id" ref="model_pf_ledger_report"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="global" eval="True"/>
        </record> -->

        <record id="pf_ledger_reportuser_record_rule" model="ir.rule">
            <field name="name">PF Ledger : User own record only</field>
            <field name="model_id" ref="model_pf_ledger_report"/>
            <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_user'))]"/>
        </record>

        <record id="pf_ledger_reportmanager_record_rule" model="ir.rule">
            <field name="name">PF Ledger : Manager record of allowed branches</field>
            <field name="model_id" ref="model_pf_ledger_report"/>
            <field name="domain_force">['|', ('branch_id','=',False), ('branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>

        <record id="pf_employee_details_user_record_rule" model="ir.rule">
            <field name="name">PF Employee Details : User own record only</field>
            <field name="model_id" ref="model_pf_employee_details"/>
            <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_user'))]"/>
        </record>

        <record id="pf_employee_details_manager_record_rule" model="ir.rule">
            <field name="name">PF Employee Details : Manager record of allowed branches</field>
            <field name="model_id" ref="model_pf_employee_details"/>
            <field name="domain_force">['|', ('employee_id.branch_id','=',False), ('employee_id.branch_id','in',[g.id for g in user.branch_ids])]</field>
            <field name="groups" eval="[(4,ref('pf_withdrawl.group_pf_withdraw_approver'))]"/>
        </record>
        <!-- end : Record Rules -->

    </data>
</odoo>