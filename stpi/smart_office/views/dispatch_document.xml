<odoo>
    <record id="document_dispatch_form_view" model="ir.ui.view">
        <field name="name">dispatch.document.form</field>
        <field name="model">dispatch.document</field>
        <field name="arch" type="xml">
            <form string="File">
                <header>
                    <!-- <button name="action_send_dispatch_approval" string="Request Approval" class="oe_highlight" type="object" states="draft" confirm="Are you sure to request approval ?"/> -->
                    <!-- <button name="button_dispatch" string="Dispatch" confirm="Are you sure to dispatch ?" class="oe_highlight" type="object" states="ready_for_dispatched" groups="smart_office.outward_dispatch_smart_office"/> -->
                    <button name="button_dispatch" string="Dispatch" confirm="Are you sure to dispatch ?" class="oe_highlight" type="object" states="ready_for_dispatched"/>
                    <button name="print_dispatch_document" string="Print Details" confirm="Are you sure to print details ?" type="object" states="dispatched" class="oe_highlight"/>
                    <button name="button_reset_to_draft" string="Reopen" confirm="Are you sure to reopen ?" class="oe_highlight" type="object" states="ready_for_dispatched"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,ready_for_dispatched,dispatched"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="version_str" invisible="1"/>
                            <field name="prev_version_str" invisible="1"/>
                            <field name="print_heading" required="1" attrs="{'readonly':[('state','=', 'dispatched')]}"/>
                            <field name="current_user_id" invisible="1"/>
                            <field name="branch_id" invisible="1"/>
                            <field name="department_id" invisible="1"/>
                            <field name="job_id" invisible="1"/>
                            <field name="created_on" readonly="1"/>
                            <field name="approved_by" readonly="1" attrs="{'invisible':[('state','!=','dispatched')]}" options="{'no_open':True,'no_create_edit': True, 'no_create': True,'no_edit':True}"/>
                            <field name="approved_on" readonly="1" attrs="{'invisible':[('state','!=','dispatched')]}"/>
                            <field name="secondary_employee_ids" widget="many2many_tags" invisible="1"/>
                        </group>
                        <group>
                            <field name="dispatch_mode" invisible="1"/>
                            <field name="enter_mode" invisible="1"/>
                            <field name="select_template" invisible="context.get('default_select_template',False)" attrs="{'readonly':[('state','!=', 'draft')]}" options="{'no_open':True,'no_create_edit': True, 'no_create': True,'no_edit':True}"/>
                            <field name="version" invisible="1"/>
                            <field name="basic_version" invisible="1"/>
                            <field name="previousversion" invisible="1"/>
                            <field name="part_file_id" invisible="1" attrs="{'invisible': [('part_file_id','=',False)]}"/>
                            <field name="folder_id" invisible="1" attrs="{'invisible': [('part_file_id','!=',False)]}"/>
                            <!-- <field name="cooespondence_ids" widget="many2many_tags" readonly="1"/> -->
                        </group>
                        <field name="template_html" attrs="{'readonly':[('state','!=', 'draft')]}"/>
                    </group>
                    <notebook>
                        <page name="tracking_info" string="Tracking Info">
                            <field name="tracking_ids" readonly="1"/>
                                <!-- <tree editable="bottom">
                                    <field name="dispatch_id" invisible="1"/>
                                    <field name="dispatch_number" readonly="1"/>
                                    <field name="dispatch_mode" required="1"/>
                                    <field name="enter_mode" required="1"/>
                                </tree>
                            </field> -->
                        </page>
                        <page name="dispatch_mode" string="Dispatch Mode" attrs="{'readonly':[('state','!=','dispatched')],'invisible':[('state','!=','dispatched')]}">
                            <field name="dispatch_mode_ids" attrs="{'readonly':[('state','!=','dispatched')],'invisible':[('state','!=','dispatched')]}">
                                <tree editable="bottom">
                                    <field name="dispatch_id" invisible="1"/>
                                    <field name="dispatch_number" readonly="1"/>
                                    <field name="dispatch_mode" required="1"/>
                                    <field name="enter_mode" required="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="document_dispatch_revise_form_view" model="ir.ui.view">
        <field name="name">dispatch.document.revise.form</field>
        <field name="model">dispatch.document</field>
        <field name="arch" type="xml">
            <form string="File">
                <header>
                    <!-- <button name="action_send_dispatch_approval" string="Request Approval" class="oe_highlight" type="object" states="draft" confirm="Are you sure to request approval ?"/> -->
                    <!-- <button name="button_dispatch" string="Dispatch" confirm="Are you sure to dispatch ?" class="oe_highlight" type="object" states="ready_for_dispatched" groups="smart_office.outward_dispatch_smart_office"/> -->
                    <button name="button_dispatch" string="Dispatch" confirm="Are you sure to dispatch ?" class="oe_highlight" type="object" states="ready_for_dispatched"/>
                    <button name="print_dispatch_document" string="Print Details" confirm="Are you sure to print details ?" type="object" states="dispatched" class="oe_highlight"/>
                    <button name="button_reset_to_draft" string="Reopen" confirm="Are you sure to reopen ?" class="oe_highlight" type="object" states="ready_for_dispatched"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,ready_for_dispatched,dispatched"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="version_str" invisible="1"/>
                            <field name="previousversion" invisible="1"/>
                            <field name="print_heading" required="1" attrs="{'readonly':[('state','=', 'dispatched')]}"/>
                            <field name="current_user_id" invisible="1"/>
                            <field name="branch_id" invisible="1"/>
                            <field name="department_id" invisible="1"/>
                            <field name="job_id" invisible="1"/>
                            <field name="created_on" invisible="1"/>
                        </group>
                        <group>
                            <field name="dispatch_mode" invisible="1"/>
                            <field name="enter_mode" invisible="1"/>
                            <field name="select_template" invisible="1"/>
                            <field name="version" invisible="1"/>
                            <field name="basic_version" invisible="1"/>
                            <field name="prev_version_str" readonly="1" />
                            <field name="part_file_id" invisible="1"/>
                            <field name="folder_id" invisible="1"/>
                            <!-- <field name="cooespondence_ids" widget="many2many_tags" readonly="1"/> -->
                        </group>
                        <field name="template_html" attrs="{'readonly':[('state','!=', 'draft')]}"/>
                    </group>
                    <notebook>
                        <page name="dispatch_mode" string="Dispatch Mode" attrs="{'invisible':[('state','!=','dispatched')]}">
                            <field name="dispatch_mode_ids" attrs="{'invisible':[('state','!=','dispatched')]}">
                                <tree editable="bottom">
                                    <field name="dispatch_id" invisible="1"/>
                                    <field name="dispatch_number" readonly="1"/>
                                    <field name="dispatch_mode" required="1"/>
                                    <field name="enter_mode" required="1"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <footer class="text-center">
                        <button name="revise_dispatch_letter" type="object" class="btn btn-primary mr-3" string="Revise"/>
                        <button string="Cancel" class="btn btn-danger" special="cancel"/>
                    </footer>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="document_dispatch_approve_remark_view" model="ir.ui.view">
        <field name="name">dispatch.document.approve.remark.form</field>
        <field name="model">dispatch.document</field>
        <field name="priority" eval="99"/>
        <field name="arch" type="xml">
            <form string="File">
                <sheet>
                    <field name="state" invisible="1"/>
                    <h3>
                    Are you sure to approve ?
                    </h3>
                </sheet>
                <footer>
                    <button name="action_approve_dispatch_letter" string="Confirm" states="sent_approval" type="object" class="btn btn-primary"/>
                    <button special="cancel" string="Cancel" class="btn btn-danger"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="document_dispatch_reject_remark_view" model="ir.ui.view">
        <field name="name">dispatch.document.approve.remark.form</field>
        <field name="model">dispatch.document</field>
        <field name="priority" eval="99"/>
        <field name="arch" type="xml">
            <form string="File">
                <sheet>
                    <field name="state" invisible="1"/>
                    <h3>
                    Are you sure to reject ?
                    </h3>
                </sheet>
                <footer>
                    <button name="action_reject_dispatch_letter" string="Yes" states="sent_approval" type="object" class="btn btn-primary"/>
                    <button special="cancel" string="Cancel" class="btn btn-danger"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="dispatch_document_tree_view1" model="ir.ui.view">
        <field name="name">dispatch.document.tree</field>
        <field name="model">dispatch.document</field>
        <field name="arch" type="xml">
            <tree string="Folder">
                <field name="forwarded" invisible="1"/>
                <field name="current_user_id"/>
                <field name="branch_id"/>
                <field name="dispatch_mode" invisible="1"/>
                <field name="department_id"/>
                <field name="created_on"/>
                <field name="select_template"/>
                <field name="template_html" invisible="1"/>
                <field name="version_str"/>
                <field name="prev_version_str"/>
                <field name="state"/>
                <button name="button_edit" string=" Revise" class="fa fa-history btn-primary" type="object" attrs="{'invisible':['|',('state','not in',['draft','ready_for_dispatched']),('forwarded','=',False)]}"/>
                <button name="%(edit_doc_dispatch_button_wizard_action_view)d" attrs="{'invisible':['|',('state','!=','draft'),('forwarded','=',True)]}" string=" Edit" class="fa fa-pencil btn-primary" type="action" context="{'default_doc_dispatch': id, 'default_select_template': select_template, 'default_template_html': template_html}"/>
                <button name="action_send_dispatch_approval" string=" Send Approval" type="object" states="draft" class="fa fa-thumbs-up btn-primary"/>
                <!-- <button name="action_delete_correspondence" string=" Delete" type="object" states="draft,ready_for_dispatched" class="fa fa-trash btn-danger"/> -->
                <!--  <button name="%(edit_doc_dispatch_mode_button_wizard_action_view)d" states="draft,ready_for_dispatched" string="Edit Dispatch Mode" icon="fa-paper-plane-o" type="action" context="{'default_doc_dispatch': id, 'default_dispatch_mode': dispatch_mode}"/>-->
                <!-- <button name="action_send_dispatch_approval" string=" Request Approval" type="object" states="draft" class="fa fa-check btn-primary"/> -->
                <button name="button_dispatch" string=" Approve" type="object" states="approve" class="fa fa-thumbs-up btn-primary"/>
            </tree>
        </field>
    </record>

    <record id="dispatch_document_approval_tree" model="ir.ui.view">
        <field name="name">dispatch.document.approval.tree</field>
        <field name="model">dispatch.document</field>
        <field name="priority" eval="99"/>
        <field name="arch" type="xml">
            <tree>
                <field name="forwarded" invisible="1"/>
                <field name="current_user_id"/>
                <field name="branch_id"/>
                <field name="dispatch_mode" invisible="1"/>
                <field name="department_id"/>
                <field name="created_on"/>
                <field name="select_template"/>
                <field name="template_html" invisible="1"/>
                <field name="version_str"/>
                <field name="prev_version_str"/>
                <field name="state"/>
                <button name="action_open_dispatch_approve_form" string=" Approve" type="object" states="sent_approval" class="fa fa-thumbs-up btn-primary"/>
                <button name="action_open_dispatch_reject_form" string=" Reject" type="object" states="sent_approval" class="fa fa-times btn-primary"/>
                <button name="button_dispatch" string=" Dispatch" type="object" states="approve" class="fa fa-thumbs-up btn-primary"/>
            </tree>
        </field>
    </record>

    <record id="dispatch_document_draft_action_view" model="ir.actions.act_window">
        <field name="name">Draft</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="domain">[('state','=','draft')]</field>
        <field name="context">{'create':False}</field>
    </record>

    <record id="dispatch_document_pending_approval_action_view" model="ir.actions.act_window">
        <field name="name">Pending Approval</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="domain">[('state','=','sent_approval')]</field>
        <field name="context">{'create':False,'edit':False,'delete':False}</field>
    </record>

    <record id="dispatch_document_approved_action_view" model="ir.actions.act_window">
        <field name="name">Approved</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="domain">[('state','=','approve')]</field>
        <field name="context">{'create':False,'delete':False}</field>
    </record>

    <record id="dispatch_document_dispatched_action_view" model="ir.actions.act_window">
        <field name="name">Dispatched</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="domain">[('state','=','dispatched')]</field>
        <field name="context">{'create':False,'delete':False}</field>
    </record>

    <record id="dispatch_document_obsolete_action_view" model="ir.actions.act_window">
        <field name="name">Obsolete</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="domain">[('state','=','obsolete')]</field>
        <field name="context">{'create':False,'edit':False,'delete':False}</field>
    </record>
    <record id="dispatch_document_rejected_action_view" model="ir.actions.act_window">
        <field name="name">Rejected</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dispatch.document</field>
        <field name="domain">[('state','=','reject')]</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('dispatch_document_approval_tree')})]"/>
        <field name="context">{'create':False,'edit':False,'delete':False}</field>
    </record>

    <menuitem id="menuitem_dispatch_doc_fol" parent="muk_dms.main_menu_muk_dms" name="Dispatch" sequence="3" active="False"/>
    <menuitem name="Draft" sequence="1" id="menuitem_dispatch_document_draft" action="dispatch_document_draft_action_view" parent="menuitem_dispatch_doc_fol"/>
    <menuitem name="Pending Approval" sequence="2" id="menuitem_dispatch_document_pending_approval" action="dispatch_document_pending_approval_action_view" parent="menuitem_dispatch_doc_fol"/>
    <menuitem name="Approved" sequence="3" id="menuitem_dispatch_document_approved" action="dispatch_document_approved_action_view" parent="menuitem_dispatch_doc_fol"/>
    <menuitem name="Dispatched" sequence="4" id="menuitem_dispatch_document_dispatched" action="dispatch_document_dispatched_action_view" parent="menuitem_dispatch_doc_fol"/>
    <menuitem name="Obsolete" sequence="5" id="menuitem_dispatch_document_obsolete" action="dispatch_document_obsolete_action_view" parent="menuitem_dispatch_doc_fol"/>
    <menuitem name="Rejected" sequence="6" id="menuitem_dispatch_document_rejected" action="dispatch_document_rejected_action_view" parent="menuitem_dispatch_doc_fol"/>

</odoo>