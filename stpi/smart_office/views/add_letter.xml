<odoo>
    <data>
        <record id="view_add_files_doc_form_inheriting" model="ir.ui.view">
            <field name="name">Deal With File</field>
            <field name="model">muk_dms.file</field>
            <field name="inherit_id" ref="muk_dms.view_dms_file_form"/>
            <field name="arch" type="xml">
                <field name="create_uid" position="after">
                    <field name="is_current_user" invisible="1"/>
                    <field name="id" invisible="1"/>
                    <field name="can_preview_attachment" invisible="1"/>
                    <field name="id" invisible="1"/>
                    <field name="last_owner_id" readonly="1" options="{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}"/>
                    <field name="current_owner_id" readonly="1" options="{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}"/>
                    
                    <!-- <field name="sec_owner_one" invisible="1"/>
                    <field name="sec_owner_two" invisible="1"/>
                    <field name="sec_owner_three" invisible="1"/> -->
                    <!-- <field name="sec_owner" readonly="1" widget="many2many_tags" options="{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}"/> -->
                    <!-- <field name="previous_owner" invisible="0" widget="many2many_tags"/> -->

                    <field name="previous_owner_emp" readonly="1" widget="many2many_tags" options="{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}"/>
                    <field name="content_binary" invisible="1"/>
                </field>
                <field name="create_uid" position="attributes">
                    <attribute name="options">{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}</attribute>
                </field>
                <field name="write_uid" position="attributes">
                    <!-- <attribute name="options">{'no_open':True,'no_create':True,'no_edit':True,'no_create_edit':True}</attribute> -->
                    <attribute name="invisible">1</attribute>
                </field>
                <xpath expr="//field[@name='write_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="attributes">
                    <attribute name="class">oe_button_box w-100</attribute>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button name="%(forward_button_wizard_action_view)d" type="action" string="Forward" icon="fa-forward" context="{'default_defid': id}" attrs="{'invisible':['|',('is_current_user','=',False),('folder_id','!=', False)]}"/>
                    <button name="%(createfolder_wizard_action_view)d" type="action" string="Create File" icon="fa-folder-open-o" context="{'default_deffolderid': id}" attrs="{'invisible':['|',('is_current_user','=',False),('folder_id','!=', False)]}" groups="smart_office.smart_office_file_create"/>
                    <button name="%(add_to_existing_wizard_action_view)d" type="action" string="Add to existing File" attrs="{'invisible':['|',('is_current_user','=',False),('folder_id','!=', False)]}" icon="fa-file" context="{'default_deffolderid': id}"/>
                    <button type="object" class="oe_stat_button" icon="fa-folder-open-o" attrs="{'invisible':['|',('is_current_user','=',False),('id','=',False)]}" name="tracker_view_letter" string="Tracking info" invisible="1"/>
                </xpath>
                <xpath expr="//button[@name='toggle_active']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='category']" position="attributes">
                    <attribute name="placeholder"></attribute>
                </xpath>
                <xpath expr="//field[@name='tags']" position="attributes">
                    <attribute name="options">{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True,'color_field': 'color'}</attribute>
                </xpath>
                <xpath expr="//field[@name='directory']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//group[@name='settings']/group[2]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='content']" position="after">
                    <field name="name" string="Letter Number" invisible="1"/>
                    <field name="subject"/>
                    <field name="sender_type" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="sender_type_related" invisible="1"/>
                    <field name="other_st" attrs="{'invisible':[('sender_type_related','!=', 'Others')],'required':[('sender_type_related','=', 'Others')]}"/>
                    <field name="delivery_mode" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="delivery_mode_related" invisible="1"/>
                    <field name="other_dm" attrs="{'invisible':[('delivery_mode_related','!=', 'Others')],'required':[('delivery_mode_related','=', 'Others')]}"/>
                    <field name="language_of_letter" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="language_of_letter_related" invisible="1"/>
                    <field name="other_lol" attrs="{'invisible':[('language_of_letter_related','!=', 'Others')],'required':[('language_of_letter_related','=', 'Others')]}"/>
                    <field name="letter_type" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="letter_type_related" invisible="1"/>
                    <field name="other_lt" attrs="{'invisible':[('letter_type_related','!=', 'Others')],'required':[('letter_type_related','=', 'Others')]}"/>
                    
                </xpath>
                <xpath expr="//field[@name='extension']" position="after">
                    <field name="category" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="tags" required="0" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                    <field name="directory" invisible="1"/>
                    <field name="letter_date"/>
                    <field name="letter_no"/>
                    <field name="doc_reciept_date"/>
                    <field name="letter_number" readonly="1"/>
                    <field name="php_letter_id" invisible="1"/>
                    <field name="folder_id" attrs="{'invisible':[('folder_id','=', False)]}" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                </xpath>
                <xpath expr="//field[@name='custom_thumbnail']" position="attributes">
                    <attribute name="attrs">{'invisible':[('can_preview_attachment','=',False),('id','!=',False)]}</attribute>
                </xpath>
                <xpath expr="//field[@name='thumbnail']" position="attributes">
                    <attribute name="attrs">{'invisible':[('can_preview_attachment','=',False),('id','!=',False)]}</attribute>
                </xpath>
                <xpath expr="//field[@name='path_json']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='content']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='storage']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='extension']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='mimetype']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='size']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//button[@name='lock']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <!--<xpath expr="//field[@name='directory']" position="attributes">-->
                <!--    <attribute name="attrs">{'invisible':[('directory','=', False)],'readonly':[('directory','!=', False)]}</attribute>-->
                <!--</xpath>-->

                <label for="name" position="replace">
                    <label for="content" class="oe_edit_only" string="Content"/>
                </label>
                <xpath expr="//field[@name='name']" position="before">
                    <field name="content" filename="name" attrs="{'invisible':[('can_preview_attachment','=',False),('id','!=',False)]}"/>
                </xpath>
                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <page name="page_meta" position="before">
                    <page name='pdf_viewer' string="Preview" attrs="{'invisible':[('can_preview_attachment','=',False),('id','!=',False)]}">
                        <!-- <field name="pdf_text" readonly="1"/> -->
                        <field name="pdf_file" widget="pdf_viewer" readonly="1"/>
                        <button name="action_preview_correspondence" type="object" attrs="{'invisible':['|',('id','=',False),('pdf_file','!=',False)]}" string="Preview" class="btn btn-primary"/>
                    </page>
                    <page name="sender_details" string="Sender Details">
                        <group>
                            <group string="Sender Information">

                                <field name="sender_ministry" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_department" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_name"/>
                                <field name="sender_designation" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_organisation"/>
                            </group>
                            <group string="Sender Address">
                                <field name="sender_address" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_address_text"/>
                                <field name="sender_country" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_state" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_city" options="{'no_create':True,'no_edit':True,'no_open':True,'no_create_edit': True}"/>
                                <field name="sender_pincode"/>
                            </group>
                            <group string="Sender Contact Details">
                                <field name="sender_landline"/>
                                <field name="sender_mobile"/>
                                <field name="sender_fax"/>
                                <field name="sender_email"/>
                            </group>
                            <group>
                                <field name="sender_enclosures" required="0"/>
                                <field name="sender_remarks"/>
                            </group>
                        </group>
                    </page>
                    <page name="letter_info" string="Letter Info" invisible="1">
                        <group>
                            <group>
                                <field colspan="2" name="document_type" widget="radio"/>
                                <field colspan="2" name="doc_enclosure"/>
                                <field colspan="2" name="doc_enclosure_detail"/>
                                <field colspan="2" name="doc_receive_m2o" options="{'no_open': True, 'no_create': True}"/>
                                <field colspan="2" name="doc_type_m2o" domain="[('doc_receive_id', '=', doc_receive_m2o)]" options="{'no_open': True, 'no_create': True}"/>
                                <field colspan="2" name="doc_recieve_from" widget="radio" invisible="1"/>
                                <field colspan="2" name="doc_type" invisible="1"/>
                                <field colspan="2" name="doc_state" attrs="{'invisible': [('doc_recieve_from', '=', 'private')]}" domain="[('country_id.name', '=', 'India')]" options="{'no_open': True, 'no_create': True}"/>
                                <field colspan="2" name="doc_department_id" attrs="{'invisible': [('doc_recieve_from', '=', 'private')]}" options="{'no_open': True, 'no_create': True}"/>
                            </group>
                            <group>
                                <field colspan="2" name="doc_organisation_id" options="{'no_open': True, 'no_create': True}"/>
                                <field colspan="2" name="doc_sender_id" options="{'no_open': True, 'no_create': True}"/>
                                <field colspan="2" name="reciept_mode"/>
                                <field colspan="2" name="doc_reciept_date"/>
                                <field colspan="2" name="doc_subject"/>
                                <field colspan="2" name="doc_remark"/>
                                <field colspan="2" name="doc_letter_details"/>
                                <field name="reference_ids" widget="many2many_tags" options="{'no_open': True, 'no_create': True}"/>
                            </group>
                        </group>
                    </page>
                </page>
                <xpath expr="//page[@name='page_meta']" position="after">
                    <page name="tracking_info" string="Tracking Info">
                        <group>
                            <field name="tracking_info_ids" readonly="1" style="pointer-events:none;">
                                <tree default_order="action_time desc">
                                    <field name="action_time"/>
                                    <field name="action_by_user_id"/>
                                    <field name="action_stage_id"/>
                                    <field name="action_to_user_id"/>
                                    <field name="remark"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                    <!-- <page name="tracking_info" string="Userwise Tracking Info" invisible="0">
                        <group>
                            <field name="userwise_tracking_ids" readonly="1" style="pointer-events:none;">
                                <tree default_order="action_time desc">
                                    <field name="action_time"/>
                                    <field name="action_by_user_id"/>
                                    <field name="action_stage_id"/>
                                    <field name="user_id"/>
                                    <field name="action_to_user_id"/>
                                    <field name="remark"/>
                                </tree>
                            </field>
                        </group>
                    </page> -->
                </xpath>
                <xpath expr="//page[@name='page_meta']/group/group" position="after">
                    <group>
                        <field name="forward_from_id" options="{'no_open': True}" readonly="1"/>
                        <field name="forward_to_id" options="{'no_open': True}" readonly="1"/>
                        <field name="forwarded_date" readonly="1"/>
                        <!-- <field name="letter_number" attrs="{'invisible':[('letter_number','=', False)],'readonly':[('letter_number','!=', False)]}"/> -->
                        <field name="size" widget="binary_size" readonly="1"/>
                    </group>
                </xpath>
                <xpath expr="//form" position="attributes">    
                    <attribute name="duplicate">0</attribute>
                    <attribute name="migrate">0</attribute>
                </xpath>
                <page name="page_technical" position="after">
                    <!--<page name="letter_info" string="File Movement">-->
                    <!--    <field name="tracker_ids">-->
                    <!--        <tree string="File Movement">-->
                    <!--            <field name="type"/>-->
                    <!--            <field name="from_id"/>-->
                    <!--            <field name="to_id"/>-->
                    <!--        </tree>-->
                    <!--    </field>-->
                    <!--</page>-->
                    <page string="Coorespondance Tracking Information" name="file_track" invisible="1">
                        <!-- <field name="file_track_ids" readonly="1"/> -->
                    </page>
                </page>
                <xpath expr="//page[@name='page_access']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

            </field>
        </record>

        <record id="seq_letter_dms" model="ir.sequence">
            <field name="name">eFile sequence</field>
            <field name="code">muk_dms.file</field>
            <field name="padding">5</field>
            <field name="company_id" eval="False"/>
        </record>

        <record id="view_muk_dms_file_tracker_tree" model="ir.ui.view">
            <field name="name">view.muk_dms.file.tracker.tree</field>
            <field name="model">muk_dms.file</field>
            <field name="priority" eval="99"/>
            <field name="arch" type="xml">
                <tree>
                    <field name="letter_number"/>
                    <field name="subject"/>
                    <field name="incoming_source"/>
                    <field name="action_by_uid"/>
                    <field name="action_date"/>
                    <field name="current_owner_id"/>
                    <field name="folder_id"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_muk_dms_file_inherited_search">
            <field name="name">view.muk_dms_file_inherited.search</field>
            <field name="model">muk_dms.file</field>
            <field name="inherit_id" ref="muk_dms.search_dms_file"/>
            <field name="arch" type="xml">
                <field name="name" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <xpath expr="//filter[@name='all']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='filter_user']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
               
                <xpath expr="//filter[@name='filter_active']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='filter_create']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='filter_write']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='group_color']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='group_category']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='group_storage']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//filter[@name='group_directory']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
               
                <field name="name" position="after">
                    <field name="subject"/>
                    <field name="letter_number"/>
                    <field name="sender_name"/>
                    <field name="sender_designation"/>
                    <field name="sender_organisation"/>
                    <field name="letter_no"/>
			        <filter string="Letter Date" name="filter_letter_date" date="letter_date"/>
                    <field name="incoming_source"/> 
                    <field name="action_by_uid"/>
			        <filter string="Action Date" name="filter_action_date" date="action_date"/>
                </field>
                
            </field>

        </record>

        <record id="view_dms_file_tree_inherit_cust" model="ir.ui.view">
            <field name="name">muk_dms_file.tree</field>
            <field name="model">muk_dms.file</field>
            <field name="inherit_id" ref="muk_dms.view_dms_file_tree"/>
            <field name="arch" type="xml">
                <field name="name" position="replace">
                    <field name="subject"/>
                </field>

                <xpath expr="//field[@name='write_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='size']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='mimetype']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='path_names']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <field name="actions" position="after">
                    <field name="letter_number"/>
                    <field name="sender_name"/>
                    <field name="sender_designation"/>
                    <field name="sender_organisation"/>
                    <field name="letter_no"/>
                    <field name="letter_date"/>
                    <field name="incoming_source"/>
                    <field name="action_by_uid"/>
                    <field name="action_date"/>
                    <field name="action_time" invisible="1"/>
                    <!-- <field name="forward_from_id" string="Forwarded by"/>
                    <field name="forwarded_date"/> -->
                    <field name="current_owner_id" invisible="context.get('action_location', False)"/>
                </field>
                <xpath expr="//field[@name='actions']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//tree" position="attributes">
                    <attribute name="default_order">action_time desc</attribute>
                </xpath>
            </field>
        </record>

        <record id="action_add_my_letter" model="ir.actions.act_window">
            <field name="name">Add Correspondences</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.file</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('current_owner_id', '=', uid),('folder_id', '=', False)]</field>
            <field name="context">{'action_location':'add_correspondence'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No correspondence found.
                </p>
            </field>
        </record>

        <record id="action_muk_dms_file_my_inbox" model="ir.actions.act_window">
            <field name="name">Correspondence: My Inbox</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.file</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[("current_owner_id",'=',uid),('folder_id', '=', False)]</field>
            <field name="context">{"create":False,'action_location':'inbox'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Correspondence Found.
                </p>
            </field>
        </record>

        <record id="action_muk_dms_file_subordinates_inbox" model="ir.actions.act_window">
            <field name="name">Correspondence: Subordinates Inbox</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.file</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('folder_id', '=', False),("current_owner_id",'!=',uid)]</field>
            <field name="context">{"create":False,"edit":False,"delete":False,"filter_subordinates":1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Correspondence Found.
                </p>

            </field>
        </record>

        <record id="action_muk_dms_file_outgoing" model="ir.actions.act_window">
            <field name="name">Sent Correspondences</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.file</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[("previous_owner_emp.user_id",'in',[uid]),('folder_id','=',False)]</field>
            <field name="context">{"create":False,'edit':False,'delete':False}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Correspondence Found.
                </p>
            </field>
        </record>

        <record id="action_muk_dms_file_all_inbox" model="ir.actions.act_window">
            <field name="name">Correspondence: All Inbox</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.file</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="domain">[('folder_id', '=', False),("current_owner_id",'!=',uid)]</field>
            <field name="context">{"create":False,"edit":False,"delete":False,'filter_subordinates':1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Correspondence Found.
                </p>
            </field>
        </record>

        <menuitem id="menu_muk_dms_file_incoming" name="Incoming Correspondence" parent="muk_dms.menu_dms_file" sequence="1"/>


        <menuitem id="menu_muk_dms_file_my_inbox" name="My Inbox" action="action_muk_dms_file_my_inbox" parent="menu_muk_dms_file_incoming" sequence="2"/>

        <menuitem id="menu_muk_dms_file_subordinates_inbox" name="Subordinates Inbox" action="action_muk_dms_file_subordinates_inbox" parent="menu_muk_dms_file_incoming" sequence="3"/>

        <menuitem id="menu_muk_dms_file_all_inbox" name="All Inbox" action="action_muk_dms_file_all_inbox" parent="menu_muk_dms_file_incoming" sequence="4" groups="smart_office_pull_manager"/>

        <menuitem id="menuitem_add_my_letter" parent="muk_dms.menu_dms_file" action="action_add_my_letter" name="Add Correspondence" sequence="2"/>

        <menuitem id="menu_muk_dms_file_outgoing" name="Sent Correspondences" action="action_muk_dms_file_outgoing" parent="muk_dms.menu_dms_file" sequence="3"/>

    </data>
</odoo>