<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="smart_office_pdf_report_template">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <t t-foreach="docs" t-as="report">
                    <div class="page mt-0">
                        <div class="text-center">
                            <h5><b><u>SOFTWARE TECHNOLOGY PARKS OF INDIA</u></b></h5>
                            <h5><b><u><t t-esc="report.folder_id.branch_id.code=='HQ' and 'Head Quarter' or report.folder_id.branch_id.name"/></u></b></h5>
                        </div>
                        <div class="text-right">
                            <h5>File No: <t t-esc="report.folder_id.number"/></h5>
                            <h5>Date: <t t-esc="report.folder_id.date.strftime('%d/%m/%Y')"/></h5>
                        </div>
                        <div>
                            <h5>Sub: <b><t t-esc="report.subject"/></b></h5>
                        </div>
                        <div t-raw="report.content"/>
                        <div class="text-right mt-3">
                            <h5><t t-esc="report.create_uid.name"/></h5>
                            <h5 t-esc="report.create_uid.employee_ids and report.create_uid.employee_ids[0].job_title.name or ''"/>
                        </div>
                        <h5 t-esc="report.get_user_timezone_time()"/>
                        <hr style="height:2px;background-color:black"/>
                        <div class="mt-3" t-foreach="report.comment_ids" t-as="comment">
                            <div t-raw="comment.name"/>
                            <div class="text-right">
                                <h5><t t-esc="comment.employee_id.name"/></h5>
                                <h5><t t-esc="comment.employee_id.job_title.name"/></h5>
                            </div>
                            <h5><t t-esc="comment.get_user_timezone_time()"/></h5>
                            <hr style="height:2px;background-color:black"/>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>

    <report id="smart_office_noting_report" string="Download Noting" model="smart_office.noting" report_type="qweb-pdf" name="smart_office.smart_office_pdf_report_template" file="smart_office.smart_office_pdf_report_template" print_report_name="'Noting  '+ str(object.folder_id.number)"/>

    <record id="smart_office_noting_paperformat" model="report.paperformat">
        <field name="name">eFile Noting : Page</field>
        <field name="default" eval="False"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">10</field>
        <field name="margin_right">10</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">90</field>
        <field name="report_ids" eval="[(4, ref('smart_office.smart_office_noting_report'))]"></field>
    </record>

</odoo>
