<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_holidays_public_tree" model="ir.ui.view">
        <field name="name">hr.holidays.public.tree</field>
        <field name="model">hr.holidays.public</field>
        <field name="arch" type="xml">
            <tree string="Public Holidays">
                <field name="display_name"/>
            </tree>
        </field>
    </record>

    <record id="view_holidays_public_form" model="ir.ui.view">
        <field name="name">hr.holidays.public.form</field>
        <field name="model">hr.holidays.public</field>
        <field name="arch" type="xml">
            <form string="Public Holidays">
                <group name="group_main">
                    <group name="group_main_left">
                        <field name="id" invisible="1" />
                        <field name="year"  widget="integer" attrs="{'readonly':[('id', '!=', False)]}"/>
                        <field name="holiday_assign_type" />
                    </group>
                    <group name="group_main_right">
                        <!-- Left empty for extensions -->
                    </group>
                </group>
                <group string="Public Holidays" name="group_detail">
                    <field name="line_ids" nolabel="1" required="1">
                        <tree string="Public Holidays"
                            editable="bottom">
                            <field name="date" attrs="{'readonly':[['variable_date', '=', False]]}"  widget="date"/>
                            <field name="name" />
                            <!-- <field name="optional_holiday" /> -->
                            <field name="branch_ids" widget="many2many_tags"/>
                            <field name="variable_date" invisible="1"/>

                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>

    <record id="resource_calendar_leave_form_inherited" model="ir.ui.view">
        <field name="name">resource.calendar.leaves.form_inherited</field>
        <field name="model">resource.calendar.leaves</field>
        <field name="inherit_id" ref="resource.resource_calendar_leave_form"/>
        <field name="arch" type="xml">
            <field name='date_from' position="attributes">
                <attribute name="widget">date</attribute>
            </field>
            <field name='date_to' position="attributes">
                <attribute name="widget">date</attribute>
            </field>
        </field>
    </record>


    <record id="view_holidays_public_line_tree" model="ir.ui.view">
        <field name="name">hr.holidays.public.line.tree</field>
        <field name="model">hr.holidays.public.line</field>
        <field name="arch" type="xml">
            <tree string="Holiday List">
                <field name="date" widget="date"/>
                <field name="name" />
               <!--  <field name="optional_holiday" /> -->
                <field name="branch_ids" widget="many2many_tags"/>
            </tree>
        </field>
    </record>

    <record id="view_holidays_public_line_tree1" model="ir.ui.view">
        <field name="name">hr.holidays.public.line.tree1</field>
        <field name="model">hr.holidays.public.line</field>
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
            <tree string="Holiday List" default_order="date desc">
                <field name="date" />
                <field name="name" />               
            </tree>
        </field>
    </record>

    <record id="open_holidays_public_view" model="ir.actions.act_window">
        <field name="name">CSM Holidays</field>
        <field name="res_model">hr.holidays.public</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('holiday_assign_type','=','csm_holiday')]</field>
    </record>

   <menuitem id="menu_hr_public_holidays"
              name="Holidays"
              parent="hr_attendance.menu_hr_attendance_settings"
              sequence="20"/>

    <menuitem action="open_holidays_public_view"
              id="menu_holidays_public_view"
              name="CSM Holidays"
              parent="menu_hr_public_holidays"
              sequence="10"/>
</odoo>