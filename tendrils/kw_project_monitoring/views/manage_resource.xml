<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Add Project Member Form View -->
        <record id="manage_project_resources_form" model="ir.ui.view">
            <field name="name">Manage Resource Form</field>
            <field name="model">manage_project_resources</field>
            <field name="arch" type="xml">
                <form string="Manage Resource">
                    <sheet>
                        <style>
                            .table-container {
                                display: flex;
                                justify-content: space-around;
                                background-color: white;
                                margin-top: 20px;
                            }
                            .use-case-table {
                                width: 100%;
                                border-collapse: collapse;
                                border: 2px solid black;
                            }
                            .use-case-table th, .use-case-table td {
                                border: 1px solid black;
                                padding: 8px;
                                font-family: Arial, sans-serif;
                                text-align: left;
                            }
                            .header-row {
                                background-color: #108fbb;
                                color: white;
                                font-weight: bold;
                            }
                            .use-case-table th {
                                background-color: #108fbb;
                                color: white;
                                font-weight: bold;
                            }
                            .use-case-table td {
                                background-color: #f9f9f9;
                            }
                        </style>
                        <div class="oe_title">
                            <h1 style="color:teal">Manage Resources</h1>
                        </div>
                        <group>
                            <group>
                                <field name="project_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <b>
                            <span class="text-black-bold b" style="background-color: #D8E3E0;"><u>View Tagged Resource against Project Role</u></span>
                        </b>
                        <group>
                            <group>
                                <field name="account_holder_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="delivery_person_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="project_reviewer_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="sbu_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <group attrs="{'invisible': [('project_id', '=',False)]}">
                            <div class="table-container">
                                <table class="use-case-table">
                                    <thead>
                                        <tr class="header-row">
                                            <th>Sl#</th>
                                            <th>Project Role</th>
                                            <th>Resource(s)</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><field name="sl_no" readonly="1"/></td>
                                            <td><field name="project_role" options="{'no_open': True,'no_create':True,'no_edit':True}" readonly="1"/></td>
                                            <td><field name="project_user_ids" widget="many2many_tags" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True}"/></td>
                                            <td><button name="edit_button" string="Edit" type="object" class="oe_highlight"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </group>
                        <b>
                            <span class="text-black-bold" style="background-color: #D8E3E0;"><u>Tag Resource against Project Role</u></span>
                        </b>
                        <group>
                            <group>
                                <field name="project_role" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="project_user_ids" widget="many2many_tags" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- Add Project Member Tree View -->

        <record model="ir.ui.view" id="manage_project_resources_list">
            <field name="name">Manage Resource List</field>
            <field name="model">manage_project_resources</field>
            <field name="arch" type="xml">
                <tree import='0' class='customer_tree'>
                    <field name="project_id"/>
                    <field name="project_reviewer_id" />
                    <field name="sbu_id"/>

                </tree>
            </field>
        </record>

         <!-- Add Project Member Action -->

        <record id="manage_project_resources_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Manage Resource</field>
            <field name="res_model">manage_project_resources</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="manage_project_resources_list"/>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('manage_project_resources_list')}),
         (0, 0, {'view_mode': 'form', 'view_id': ref('manage_project_resources_form')})]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No Record found...
                </p>
            </field>
        </record>

        <!-- Project Team Info Form View -->

        <record id="project_team_info_form" model="ir.ui.view">
            <field name="name">Manage Resource Form</field>
            <field name="model">manage_project_resources</field>
            <field name="arch" type="xml">
                <form string="Manage Resource">
                    <sheet>
                        <style>
                            .table-container {
                                display: flex;
                                justify-content: space-around;
                                background-color: white;
                                margin-top: 20px;
                            }
                            .use-case-table {
                                width: 100%;
                                border-collapse: collapse;
                                border: 2px solid black;
                            }
                            .use-case-table th, .use-case-table td {
                                border: 1px solid black;
                                padding: 8px;
                                font-family: Arial, sans-serif;
                                text-align: left;
                            }
                            .header-row {
                                background-color: #108fbb;
                                color: white;
                                font-weight: bold;
                            }
                            .use-case-table th {
                                background-color: #108fbb;
                                color: white;
                                font-weight: bold;
                            }
                            .use-case-table td {
                                background-color: #f9f9f9;
                            }
                        </style>
                        <group>
                            <group>
                                <field name="project_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <group attrs="{'invisible': [('project_id', '=',False)]}">
                            <group>
                                <field name="project_resource_type"  widget="radio" options="{'horizontal':true}" />
                                <field name="plan_start_date" readonly='1' />
                                <field name="plan_end_date" readonly='1' />
                            </group>
                        </group>
                        <group attrs="{'invisible': [('project_id', '=',False)]}">
                            <div class="table-container">
                                <table class="use-case-table">
                                    <thead>
                                        <tr class="header-row">
                                            <th>Sl#</th>
                                            <th>Full Name</th>
                                            <th>Role</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Days</th>
                                            <th>Activity Leader Status</th>
                                            <th></th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                            <td>Demo ***</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </group>
                        <b attrs="{'invisible': [('project_id', '=',False)]}">
                            <span class="text-black-bold" style="background-color: #D8E3E0;"><u>Update Project Team Member InfoMember Info</u></span>
                        </b>
                        <group attrs="{'invisible': [('project_id', '=',False)]}">
                            <group>
                                <field name="action_type"  widget="radio" options="{'horizontal':true}"/>
                                <field name="all_date_from"/>
                                <field name="all_date_to"/>
                                <field name="allocate_days"/>
                            </group>
                        </group>
                        <center>
                            <button name="allocate_resource" string="Allocate" type="object" class="oe_highlight" attrs="{'invisible': ['|',('project_id', '=',False),('action_type','=','resource_release')]}"/>
                            <button name="release_resource" string="Release" type="object" class="oe_highlight ml-3" attrs="{'invisible': ['|',('project_id', '=',False),('action_type','=','resource_allocation')]}"/>
                            <button name="edit_button" string="Cancel" type="object" class="btn-danger ml-3" attrs="{'invisible': [('project_id', '=',False)]}"/>
                        </center>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Project Team Info Action -->

        <record id="project_team_info_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Team Info</field>
            <field name="res_model">manage_project_resources</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="project_team_info_form"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No Record found...
                </p>
            </field>
        </record>


    </data>
</odoo>
