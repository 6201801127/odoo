<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <record model="ir.module.category" id="module_category_kw_local_visit">
            <field name="name">Local Visit</field>
            <field name="description">Access for local visit.</field>
            <field name="sequence">5</field>
        </record>

        <record id="group_kw_local_visit_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="kw_local_visit.module_category_kw_local_visit"/>
        </record>

        <record id="group_kw_local_visit_settlement" model="res.groups">
            <field name="name">Settlement User</field>
            <field name="category_id" ref="kw_local_visit.module_category_kw_local_visit"/>
            <!-- <field name="implied_ids" eval="[(4, ref('group_kw_local_visit_user'))]"/> -->
        </record>

        <record id="group_kw_local_visit_travel_desk" model="res.groups">
            <field name="name">Travel Desk</field>
            <field name="category_id" ref="kw_local_visit.module_category_kw_local_visit"/>
            <!-- <field name="implied_ids" eval="[(4, ref('group_kw_local_visit_user'))]"/> -->
        </record>

        <record id="group_kw_local_visit_manager" model="res.groups">
            <field name="name">Manager</field>
            <field name="category_id" ref="kw_local_visit.module_category_kw_local_visit"/>
            <!-- <field name="implied_ids" eval="[(4, ref('group_kw_local_visit_user'))]"/> -->
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
        </record>
            <!-- Local visit Rule -->
        <record id = "user_local_visit_rule" model = "ir.rule">
            <field name = "name">User Local Visit  Rule</field>
            <field name = "model_id" ref = "model_kw_lv_apply" />
            <field name = "domain_force"> ['|',('emp_name','=',user.employee_ids.id),('emp_name','child_of',[user.employee_ids.id])] </field>
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_user'))]" />
            <!-- <field name = "active">False</field> -->
        </record>
        <record id = "settle_user_local_visit_rule" model = "ir.rule">
            <field name = "name">Settle User Local Visit  Rule</field>
            <field name = "model_id" ref = "model_kw_lv_apply" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_settlement'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <!-- <field name = "active">True</field> -->
        </record>
        <record id = "traveldesk_local_visit_rule" model = "ir.rule">
            <field name = "name">Travel Desk Local Visit  Rule</field>
            <field name = "model_id" ref = "model_kw_lv_apply" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_travel_desk'))]" />
            <field name = "domain_force"> [('emp_name','=',user.employee_ids.id)] </field>
            <field name = "active">False</field>
        </record>
        <record id = "manager_local_visit_rule" model = "ir.rule">
            <field name = "name">Manager Local Visit  rule</field>
            <field name = "model_id" ref = "model_kw_lv_apply" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
        <!-- Local visit Settlement Rule -->
        <record id = "user_local_visit_settlment_rule" model = "ir.rule">
            <field name = "name">User Local Visit Settlement  Rule</field>
            <field name = "model_id" ref = "model_kw_lv_settlement" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_user'))]" />
            <field name = "domain_force"> [('emp_name','=',user.employee_ids.id)] </field>
        </record>
        <record id = "settle_user_local_visit_settlment_rule" model = "ir.rule">
            <field name = "name">Settle User Local Visit Settlement  rule</field>
            <field name = "model_id" ref = "model_kw_lv_settlement" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_settlement'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
        <record id = "help_desk_local_visit_settlment_rule" model = "ir.rule">
            <field name = "name">Travel Desk Local Visit Settlement  rule</field>
            <field name = "model_id" ref = "model_kw_lv_settlement" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_travel_desk'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
        <record id = "manager_local_visit_settlment_rule" model = "ir.rule">
            <field name = "name">Manager Local Visit Settlement  rule</field>
            <field name = "model_id" ref = "model_kw_lv_settlement" />
            <field name = "groups" eval = "[(4, ref ('kw_local_visit.group_kw_local_visit_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
        
        <record id="base.default_user" model="res.users">
            <field name="groups_id" eval="[(4,ref('kw_local_visit.group_kw_local_visit_user'))]"/>
        </record>
    </data>
</odoo>