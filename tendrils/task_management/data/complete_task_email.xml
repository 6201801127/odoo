<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="task_management_complete_task_email_template" model="mail.template">
            <field name="name">Complete Task</field>
            <field name="subject">Ticket | ${object.assign_task_id.reference_no_txt} | Task Completed</field>
            <field name="email_from">${ctx['email_from']}</field>
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="model_id" ref="model_report_wizard"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                <table>
                    <thead>
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Dear</span>
                                        ${object.assign_task_id.assigned_to.name},
                                    </h5>

                                    % if ctx['mail_for'] == 'Complete':
                                        <p>
                                            Ticket ${object.assign_task_id.reference_no_txt} <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">closure</span> has been acknowledged by ${ctx['acknowledge_by']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'Reopen':
                                        <p>
                                            Ticket ${object.assign_task_id.reference_no_txt} has been Reopened by ${ctx['acknowledge_by']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'Reject':
                                        <p>
                                            Ticket ${object.assign_task_id.reference_no_txt} has been Rejected by ${ctx['acknowledge_by']}.
                                        </p>
                                    %endif
                                </div>
    
                            </td>
                        </tr>
                    </thead>
                </table>
                    ]]>
            </field>
        </record>
    </data>
</odoo>