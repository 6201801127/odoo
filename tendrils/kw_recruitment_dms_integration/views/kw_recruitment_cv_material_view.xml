<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
         <!--<record id="kw_recruitmemt_cv_material_dms_integration_view_form" model="ir.ui.view">
            <field name="name">kw_recruitmemt_cv_material.dms.form</field>
            <field name="model">ir.attachment</field>
            <field name="inherit_id" ref="base.view_attachment_form" />
            <field name="arch" type="xml">
                <field name="datas" position="replace">
                    
                    <field name="datas" string="Attachment"  filename="datas_fname" widget="binary" required="1"/>
                    
                </field>
                <label for="name" position="attributes">
                    <attribute name="groups">base.group_no_one</attribute>
                </label>  
                <field name="name" position="attributes">
                    <attribute name="groups">base.group_no_one</attribute>
                </field>             
                <field name="type" position="attributes">
                    <attribute name="attrs">{'invisible':True}</attribute>
                </field>
            </field> 
        </record>  -->
        <record id="recruitment_applicant_inherited_dms_integration" model="ir.ui.view">
            <field name="name">DMS integration attachment</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.crm_case_form_view_job"/>
            <field name="arch" type="xml">
                <xpath expr="//group/group[2]/field[@name='categ_ids']" position="after">
                <!-- <xpath expr="//group/group[2]" position="inside"> -->
                    <!-- <field name="attachment_ids" string="attachment"></field> -->
                    <field name="document_number" string="Document count" invisible='1'/>
                    <field name="document_ids" string="Upload CV">
                        <tree>
                            <field name="content_file" filename="file_name" widget="binary" string="File"/>
                            <field name="file_name" invisible="1"/>
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="content_file" filename="file_name" widget="binary" string="File"/>
                                    <field name="file_name" invisible="1"/>
                                </group>
                            </sheet>
                        </form>
                    </field>
                </xpath>
                <!-- <xpath expr="//button[@name='action_get_attachment_tree_view']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath> -->
            </field>
        </record>

        <record id="recruitment_applicant_internal_job_position_dms_integration" model="ir.ui.view">
            <field name="name">DMS IJP integration attachment</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="kw_recruitment.ijp_applicant_job_openings_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//group/group[2]/field[@name='employee_referred']" position="after">
                    <field name="document_number" string="Document count" invisible='1'/>
                    <field name="document_ids" string="Upload CV">
                        <tree>
                            <field name="content_file" filename="file_name" widget="binary" string="File"/>
                            <field name="file_name" invisible="1"/>
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="content_file" filename="file_name" widget="binary" string="File"/>
                                    <field name="file_name" invisible="1"/>
                                </group>
                            </sheet>
                        </form>
                    </field>
                </xpath>
            </field>
        </record>

        <record id="recruitment_applicant_screening_dms_integration" model="ir.ui.view">
            <field name="name">DMS Screening integration attachment</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="kw_recruitment.applicant_screening_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//group/group[2]" position="inside">
                    <field name="document_ids" string="Upload CV">
                        <tree>
                            <field name="content_file" filename="file_name" widget="binary" string="File"/>
                            <field name="file_name" invisible="1"/>
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="content_file" filename="file_name" widget="binary" string="File"/>
                                    <field name="file_name" invisible="1"/>
                                </group>
                            </sheet>
                        </form>
                    </field>
                </xpath>
            </field>
        </record>

        <record id="applicant_screening_document_download_view" model="ir.ui.view">
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="kw_recruitment.applicant_screening_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='source_id']" position="after">
                    <button name="action_get_documents" string="Download CV" type="object" class="oe_highlight" attrs="{}"/>
                </xpath>
                <xpath expr="//button[@name='action_get_documents']" position="after">
                    <button name="shortlist_applicant" string="Shortlisted" type="object"  class="btn-success" attrs="{}"/>
                </xpath>
                <xpath expr="//button[@name='shortlist_applicant']" position="after">
                    <button name="mismatch_applicant" string="Profile Mismatch" type="object"  class="btn-danger" attrs="{}"/>
                </xpath>
            </field>
        </record>
        <record id="applicant_cv_screening_document_download_view" model="ir.ui.view">
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="kw_recruitment.applicant_cv_screening_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='source_id']" position="after">
                    <button name="action_get_documents" string="Download CV" type="object" class="oe_highlight" attrs="{}"/>
                </xpath>
                <xpath expr="//button[@name='action_get_documents']" position="after">
                    <button name="shortlist_applicant" string="Shortlist" type="object"  class="btn-success" attrs="{}"/>
                </xpath>
                <xpath expr="//button[@name='shortlist_applicant']" position="after">
                    <button name="mismatch_applicant" string="Profile Mismatch" type="object"  class="btn-danger" attrs="{}"/>
                </xpath>
            </field>
        </record> 

        <record model="ir.ui.view" id="kw_hr_applicant_kanban_inherited_kanban_view">
            <field name="name">hr.applicant.kanaban.inherited</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_kanban_view_applicant"/>
            <field name="arch" type="xml">
                <xpath expr="//a[@name='action_get_attachment_tree_view']" position="replace">
                </xpath>
                <xpath expr="//kanban/field[@name='color']" position="after">
                    <field name="document_number" invisible="1"/>
                </xpath>
                <xpath expr="//div[@class='oe_kanban_bottom_right']" position="before">
                    <a name="action_get_documents_count" type="object" class="pt-1">
                        <span title='Documents Count'><i class='fa fa-book oe_read_only' role="img" aria-label="Documents"/>
                            <t t-esc="record.document_number.raw_value" class='oe_read_only'/>
                        </span>
                    </a>
                </xpath>
            </field>
        </record>

<!--         <record id="kw_recruitment_attachment_tree_inherited" model="ir.ui.view">
            <field name="name">view.kw_recruitment_attachment.tree inherited</field>
            <field name="model">ir.attachment</field>
            <field name="inherit_id" ref="kw_recruitment.kw_recruitment_view_attachment_tree"/>
            <field name="type">tree</field>
            <field name="active" eval="True" />
            <field name="arch" type="xml">  
                <xpath expr="//field[@name='datas']" position="replace">
                    <field name="content_file" filename="file_name" widget="binary" string="Attachment"/>
                    <field name="file_name" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='datas_fname']" position="replace">
                    
                </xpath>
            </field>
        </record> -->
        <record id="crm_case_tree_view_job_kw_button" model="ir.ui.view">
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="kw_recruitment.crm_case_tree_view_job_kw_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='user_id']" position="after">
                    <button name="action_get_documents" string="Download" type="object" class="oe_highlight" attrs="{}"/>
                </xpath>
            </field>
        </record>       
        
        
    </data>
</odoo>
