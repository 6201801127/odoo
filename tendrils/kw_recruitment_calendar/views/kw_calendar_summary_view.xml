<?xml version="1.0"?>
<odoo>
	<record model="ir.ui.view" id="kw_calendar_summary_tree">
		<field name="name">Recruitment calender Details</field>
		<field name="model">kw_calendar_summary</field>
		<field name="arch" type="xml">
			<tree create="false" edit="false" import="false">
				<field name="dept_id"/>
				<field name="designation"/>
				<field name="technology"/>
                <field name="total_resource"/>
                <field name="planned_budget"/>
                <field name="hire_till_date"/>
                <field name="incurred_annual"/>
                <field name="offered_to_join"/>
                <field name="remaining_to_hire"/>
                <field name="remaining_budget"/>
			</tree>
		</field>
	</record>
	        <!-- Search view for "model" -->
        <record id="calendar_summary_search_view" model="ir.ui.view">
            <field name="name">view.calendar_summary.search</field>
            <field name="model">kw_calendar_summary</field>
            <field name="type">search</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <search string="Calendar Summary Search">
                    <field name="dept_id" string="Department" />
                    <field name="designation" string="Designation" />
                    <field name="technology" string="Technology"/>
                    <field name="fy_id" string="Fiscal Year" />

                    <filter string="Fiscal Year"
							domain="['&amp;',('fy_id.date_start', '&lt;=',context_today().strftime('%Y-%m-%d')),('fy_id.date_stop', '&gt;=',context_today().strftime('%Y-%m-%d'))]"
							name="fiscalyear"/>
                    <group>
                        <filter name="group_by_dept_id" string="Department" context="{'group_by':'dept_id'}" />
                        <filter name="group_by_designation" string="Designation" context="{'group_by':'designation'}" />
                        <filter name="group_by_technology" string="Technology" context="{'group_by':'technology'}" />
                        <filter name="group_by_fy_id" string="Fiscal Year" context="{'group_by':'fy_id'}" />

                    </group>
                </search>
            </field>
        </record>
	<record id="action_calendar_summary_report" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Recruitment Calender Summary</field>
            <field name="res_model">kw_calendar_summary</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <field name="domain">[]</field>
            <!-- <field name="context">{'group_by':'fy_id'}</field> -->
            <field name="search_view_id" ref="calendar_summary_search_view" />
        </record>

</odoo>
