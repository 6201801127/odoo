<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record model="ir.module.category" id="module_reward_and_recognition">
            <field name="name">STARLIGHT</field>
            <field name="description">User access level for STARLIGHT</field>
            <field name="sequence">5</field>
        </record>

        <record id="rnr_sbu" model="res.groups">
            <field name="name">SBU/HOD</field>
            <field name="category_id" ref="kw_reward_and_recognition.module_reward_and_recognition"/>
        </record>

        <record id="rnr_reviewer" model="res.groups">
            <field name="name">Reviewer</field>
            <field name="category_id" ref="kw_reward_and_recognition.module_reward_and_recognition"/>
        </record>

        <record id="rnr_manager" model="res.groups">
            <field name="name">Manager</field>
            <field name="category_id" ref="kw_reward_and_recognition.module_reward_and_recognition"/>
        </record>

        <record id="rnr_report_manager" model="res.groups">
            <field name="name">Reporting</field>
            <field name="category_id" ref="kw_reward_and_recognition.module_reward_and_recognition"/>
        </record>

        <record id="rnr_final_reviewer" model="res.groups">
            <field name="name">Publisher</field>
            <field name="category_id" ref="kw_reward_and_recognition.module_reward_and_recognition"/>
        </record>
<!-- 
        <record id="ir_rule_sbu_security" model="ir.rule">
            <field name="name">SBU/Dept.Head Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name = "domain_force"> [('state','=','sbu'),('pending_at.user_id','=',user.id),('show_btn_scrutinize','=',True)] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_sbu'))]"/>
        </record>

        <record id="ir_rule_review_security" model="ir.rule">
            <field name="name">Scrutinize Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name = "domain_force"> [('state','=','review'),('pending_at.user_id','=',user.id),('show_btn_final_review','=',True)] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_reviewer'))]"/>
        </record>

        <record id="ir_rule_final_review_security" model="ir.rule">
            <field name="name">Review Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name = "domain_force"> [('state','in',['finalise','award','reject'])] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_final_reviewer'))]"/>
        </record> -->

        <!-- <record id="ir_rule_finalise_review_security" model="ir.rule">
            <field name="name">Final Review Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name = "domain_force"> ['|',('state','=','finalise'),('show_btn_award','=',True)] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_final_reviewer'))]"/>
        </record> -->
        <!-- <record id="ir_rule_award_security" model="ir.rule">
            <field name="name">Award Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name ="domain_force"> [('state','=','award')] </field>
            <field name="perm_read" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="1" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_final_reviewer'))]"/>
        </record>
        <record id="ir_rule_reject_security" model="ir.rule">
            <field name="name">Reject Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name ="domain_force"> [('state','=','reject')] </field>
            <field name="perm_read" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="1" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_final_reviewer'))]"/>
        </record> -->
        
        <!-- <record id="ir_rule_report_manager_security" model="ir.rule">
            <field name="name">Report Manager Security Rule</field>
            <field name="model_id" ref="kw_reward_and_recognition.model_reward_and_recognition"/>
            <field name = "domain_force"> [] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0" />
            <field name="groups" eval="[(4, ref('kw_reward_and_recognition.rnr_report_manager'))]"/>
        </record> -->

        <!-- <record id="kw_reward_and_recognition.kw_reward_and_recognition_config_menu" model="ir.ui.menu">
            <field name="groups_id" eval="[(4,ref('kw_reward_and_recognition.rnr_manager'))]"/>
        </record> -->

        <record id ="manager_starlight_access_security" model = "ir.rule">
            <field name = "name">Manager Starlight Security Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="1" />
        </record>

        <record id ="manager_starlight_configuration_access_security" model = "ir.rule">
            <field name = "name">Manager Starlight configuration Security Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_kw_starlight_general_configuration" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id ="manager_starlight_grade_configuration_access_security" model = "ir.rule">
            <field name = "name">Manager Starlight configuration Security Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_kw_starlight_grade_configuration" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id ="manager_starlight_reason_master_access_security" model = "ir.rule">
            <field name = "name">Manager Starlight reason master Security Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_starlight_reason_master" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_manager'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="1" />
        </record>

        <record id ="manager_starlight_reason_master_access_security_reviewer" model = "ir.rule">
            <field name = "name">Reviewer Starlight reason master Security Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_starlight_reason_master" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_reviewer'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id = "ir_rule_sbu_group_security" model = "ir.rule">
            <field name = "name">SBU/HOD Group Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_sbu'))]" />
            <field name = "domain_force"> [('create_uid','=',user.id)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <!-- <record id = "ir_rule_sbu_group__take_action_security" model = "ir.rule">
            <field name = "name">SBU/HOD Group Take action Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_sbu'))]" />
            <field name = "domain_force"> [('create_uid','=',user.id),('take_action','=','True')] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0" />
        </record> -->

        <record id = "ir_rule_reviewer_group" model = "ir.rule">
            <field name = "name">Reviewer Group Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_reviewer'))]" />
            <!-- <field name = "domain_force"> ['|','&amp;','&amp;',('state','in',['nominate','review','award','reject']),('pending_at.user_id','=',user.id),('show_btn_scrutinize','=',True),('pending_at.user_id','=',False),('state','in',['nominate','review','award','reject'])] </field> -->
            <field name = "domain_force"> [('state','in',['nominate']),('pending_at.user_id','=',user.id)] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id = "ir_rule_final_reviewer_group" model = "ir.rule">
            <field name = "name">Publisher Group Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_final_reviewer'))]" />
            <field name = "domain_force"> ['|',('state','in',['award']),('pending_at.user_id','=',user.id)] </field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id = "ir_rule_starlight_log_access" model = "ir.rule">
            <field name = "name">Starlight log Access to all groups</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_recognition_action_log" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_final_reviewer')),(4, ref ('kw_reward_and_recognition.rnr_report_manager'))]" />
            <field name = "domain_force"> [(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>

        <record id = "ir_rule_starlight_division_configuration_access" model = "ir.rule">
            <field name = "name">Starlight Division configuration Access to manager/publisher groups</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_kw_division_config" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_final_reviewer')),(4, ref ('kw_reward_and_recognition.rnr_report_manager'))]" />
            <field name = "domain_force"> [(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="0" />
        </record>
        

        <record id = "ir_rule_report_manager_group" model = "ir.rule">
            <field name = "name">Report Manager Group Rule</field>
            <field name = "model_id" ref = "kw_reward_and_recognition.model_reward_and_recognition" />
            <field name = "groups" eval = "[(4, ref ('kw_reward_and_recognition.rnr_report_manager'))]" />
            <field name = "domain_force"> [(1, '=', 1)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0" />
        </record>

    </data>
</odoo>