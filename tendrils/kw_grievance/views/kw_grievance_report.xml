<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="kw_grievance_report_view">
        <field name="name">Employee Grievance Report tree view</field>
        <field name="model">kw.grievance</field>
        <field name="arch" type="xml">
            <tree create='false' import='false'>
                <field name="sort" invisible='1'/>
                <field name="grievance_code"/>
                <field name="employee_id"/>
                <field name="designation"/>
                <field name="department"/>
                <field name="grievance_type_id"/>
                <field name="state"/>
                <field name="create_date" widget="date" string='Applied on'/>
                <!-- <field name="pending_at" /> -->
                <field name="check_user" invisible='1'/>
                <field name="spoc_user" invisible='1'/>

            </tree>
        </field>
    </record>


    <record id="grievance_report_action" model="ir.actions.act_window">
        <field name="name">Report</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">kw.grievance</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('state','!=','draft')]</field>
        <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_grievance.kw_grievance_report_view')})]"/>
    </record>

    <menuitem id="employee_grievance_report_menu" name="Report" parent="kw_grievance_master_parent_menu" action="grievance_report_action"
    groups="kw_griev_manager_group"/>


</odoo>
