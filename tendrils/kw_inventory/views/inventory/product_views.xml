<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="kw_inventory_product_template">
			<field name="name">product.template.product.form.inherit</field>
			<field name="model">product.template</field>
			<field name="inherit_id" ref="product.product_template_only_form_view"/>
			<field name="arch" type="xml">
				<xpath expr="//page[@name='sales']" position="replace">
				</xpath>
				<xpath expr="//page[@name='purchase']" position="replace">
				</xpath>
				<xpath expr="//field[@name='default_code'][1]" position="replace">
					<!-- <field name="code" readonly='0'/> -->
				</xpath>
				<!-- <xpath expr="//label[@class='oe_edit_only']" position="before">
					<label class="oe_edit_only" for="default_code" string="Product Code"/>
					<h1>
						<field name="default_code" attrs="{'invisible': [('product_variant_count', '>', 1)]}"
						       placeholder="Product Code" invisible='1'/>
					</h1>
				</xpath> -->
				<xpath expr="//field[@name='type']" position="before">
					<field name="alias_name" string='Product Alias Name' required='1'/>
				</xpath>
				<xpath expr="//h1/field[@name='name']" position="after">
					<field name="uom_id" groups="uom.group_uom" options="{'no_create': True}"/>

					<!-- <field name="product_qutetion_ids" /> -->
				</xpath>
				<xpath expr="//field[@name='barcode']" position="replace">
				</xpath>
				<xpath expr="//field[@name='company_id']" position="attributes">
					<attribute name="options">{'no_create': True, 'no_open': True}</attribute>
				</xpath>												
				<xpath expr="//field[@name='type']" position="replace">
					<!-- <attribute name="placeholder">Select Any one</attribute> -->
					<field name="type" placeholder="Select Any one"/>
				</xpath>
				<xpath expr="//field[@name='name']" position="replace">
					<field name="name" style="width:700px" required="1" placeholder="Product Name"
					       string="Product Name"/>
				</xpath>
				<xpath expr="//field[@name='categ_id']"  position="attributes">
					<attribute name="readonly">1</attribute>
                    <attribute name="options">{'no_create': True, 'no_open': True}</attribute>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="kw_inventory_product_template_list_inherited">
			<field name="name">product.template.product.list.inherit</field>
			<field name="model">product.template</field>
			<field name="inherit_id" ref="product.product_template_tree_view"/>
			<field name="arch" type="xml">
				<!-- <xpath expr="//field[@name='default_code']" position="replace">
					<field name="default_code" string="Product Code"/>
				</xpath> -->
				<xpath expr="//field[@name='default_code']" position="replace">
					<field name="code" string="Code"/>
				</xpath>

				<xpath expr="//field[@name='list_price']" position="replace">
				</xpath>

				<xpath expr="//field[@name='standard_price']" position="replace">
				</xpath>

				<xpath expr="//field[@name='uom_id']" position="replace">
				</xpath>

				<xpath expr="//field[@name='name']" position="after">
					<field name="alias_name" readonly='0'/>
					<field name="uom_id"/>
				</xpath>

				<xpath expr="//field[@name='qty_available']" position="replace">
					<field name="qty_available" force_save='1'/>
				</xpath>
				<xpath expr="//field[@name='qty_available']" position="after">
					<field name="qty_ordered" invisible='1'/>
					<field name="qty_indented" invisible='1'/>
					<field name="type"/>

				</xpath>

				<xpath expr="//field[@name='type']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//field[@name='categ_id']" position="replace"/>
				<!-- <xpath expr="//field[@name='virtual_available']" position="replace">
					<field name="categ_id"/>
				</xpath> -->

			</field>
		</record>

		<record model="ir.ui.view" id="kw_inventory_product_modified_template">
			<field name="name">product.template.common.form.inherit</field>
			<field name="model">product.template</field>
			<field name="inherit_id" ref="product.product_template_form_view"/>
			<field name="arch" type="xml">
				<xpath expr="//page[@name='general_information']/group[2]" position="replace">
					<group string="Description">
						<field name="varient_description" nolabel="1" placeholder="This note is only for internal purposes."/>
					</group>
				</xpath>
				<!-- <xpath expr="//page[@name='general_information']/group/group[2]/label[@for='standard_price']" position="replace">
				</xpath> -->
				<!-- <xpath expr="//page[@name='general_information']/group/group[2]/div[@name='standard_price_uom']" position="replace">
				</xpath> -->

				<xpath expr="//page[@name='general_information']/group/group[1]/field[@name='categ_id']"
				       position="after">
					<field name="critical_item"/>
					<field name="temporary_item"/>
					<field name="is_asset" invisible='1'/>
					<field name="old_item_code"/>
					<field name="equipment_code"/>
					<field name="ledger_number"/>
					<field name="folio_number"/>
				</xpath>
				<!-- <xpath expr="//page[@name='general_information']/group/group[2]/div/field[@name='standard_price']" position="replace">
					<field name="standard_price" widget='monetary' options="{'currency_field': 'cost_currency_id'}" string="Current Price"/>
				</xpath> -->
				<xpath expr="//page[@name='general_information']/group/group[2]/field[@name='uom_id']"
				       position="before">
					<field name="purchase_price" widget='monetary' string="Purchase Price"/>
					<!-- <field name="salvage_value" placeholder="1-100%"/> -->
					<field name="current_price" widget='monetary' string="Current Price"/>
					<field name="average_price" widget='monetary' string="Average Price"/>
					<field name="barcode" attrs="{'invisible': [('product_variant_count', '>', 1)]}"/>
					<field name="opening_balance_price" string="Year OB Price"/>
					<field name="closing_balance_price" string="Year CB Price"/>
					<field name="opening_balance_qty" string="Year OB Qty"/>
					<field name="closing_balance_qty" string="Year CB Qty"/>
				</xpath>
				<!--<xpath expr="//page[@name='general_information']/group/group[1]/field[@name='l10n_in_hsn_code']" position="replace">
				</xpath>-->
				<!--				 <xpath expr="//page[@name='general_information']/group/group[2]/field[@name='barcode']"
									   position="after">
										<field name="l10n_in_hsn_code"/>
								</xpath>-->
				<xpath expr="//field[@name='sale_ok']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//label[@for='sale_ok']" position="replace">
				</xpath>
				<xpath expr="//field[@name='purchase_ok']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//label[@for='purchase_ok']" position="replace">
				</xpath>
				<xpath expr="//field[@name='taxes_id']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>

				<xpath expr="//field[@name='uom_id']" position="attributes">
					<attribute name="options">{'no_create': True, 'no_open': True}</attribute>
				</xpath>
				<xpath expr="//field[@name='list_price']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//button[@name='%(product.product_attribute_value_action)d']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>

			</field>
		</record>

		<record id="kw_product_template_search_form_view_stock" model="ir.ui.view">
			<field name="name">product.template.search.kw.inherit</field>
			<field name="model">product.template</field>
			<field name="mode">primary</field>
			<field name="inherit_id" ref="product.product_template_search_view"/>
			<field name="arch" type="xml">
				<xpath expr="//filter[@name='consumable']" position="replace">
					<filter string="Consumable" name="kwconsumable" domain="[('type','=','consu')]"/>
					<filter string="Storable Product" name="kwproducts" domain="[('type','=','product')]"/>
				</xpath>
			</field>
		</record>

		<record id="generate_code_product_tree_view_inherited" model="ir.ui.view">
            <field name="name">product.product</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_product_tree_view" />
            <field name="arch" type="xml">
                <data>
					<xpath expr="//tree" position="attributes">
						<attribute name="create">false</attribute>
					</xpath>
                    <xpath expr="//field[@name='barcode']" position="after">
						<button string="Generate code" name="generate_code" type="object" class="btn-primary" groups='kw_inventory.group_store_manager' />
                    </xpath>
					<xpath expr="//field[@name='uom_id']" position="after">
						<field name="salvage_value" string='Residual Percentage(%)' placeholder="1-100%"/>
                    </xpath>
					<xpath expr="//field[@name='lst_price']" position="attributes">
						<attribute name="invisible">1</attribute>
                    </xpath>
					<xpath expr="//field[@name='standard_price']" position="attributes">
						<attribute name="invisible">1</attribute>
                    </xpath>
					<xpath expr="//field[@name='barcode']" position="attributes">
						<attribute name="invisible">1</attribute>
                    </xpath>
					<xpath expr="//field[@name='default_code']" position="attributes">
						<attribute name="string">Item Code</attribute>
					</xpath>
					<xpath expr="//field[@name='qty_available']" position="replace">
						<field name="qty_available" force_save='1'/>
					</xpath>
                </data>
            </field>
        </record>

		<record id="stock_product_tree_inherited" model="ir.ui.view">
            <field name="name">product.product</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="stock.view_stock_product_tree" />
            <field name="arch" type="xml">
                <data>
					<xpath expr="//field[@name='virtual_available']" position="attributes">
						<attribute name="invisible">1</attribute>
                    </xpath>
                </data>
            </field>
        </record>

		<record id="view_stock_product_template_tree_inherited" model="ir.ui.view">
            <field name="name">product.template</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="stock.view_stock_product_template_tree" />
            <field name="arch" type="xml">
                <data>
					<xpath expr="//field[@name='virtual_available']" position="attributes">
						<attribute name="invisible">1</attribute>
                    </xpath>
                </data>
            </field>
        </record>
		<record id="stock.product_template_action_product" model="ir.actions.act_window">
			<field name="name">Products</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">product.template</field>
			<field name="view_mode">tree,kanban,form</field>
			<field name="view_type">form</field>
			<field name="search_view_id" ref="kw_product_template_search_form_view_stock"/>
			<field name="context">{"search_default_consumable": 1, 'default_type': 'product'}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new product
				</p>
			</field>
		</record>

		<record model="ir.ui.view" id="kw_inventory_stock_warehouse_template">
			<field name="name">stock.warehouse.orderpoint.form.inherit</field>
			<field name="model">stock.warehouse.orderpoint</field>
			<field name="inherit_id" ref="stock.view_warehouse_orderpoint_form"/>
			<field name="arch" type="xml">
				<xpath expr="//group[3]/group[2]" position="replace">
				</xpath>
			</field>
		</record>

		<!-- <record model="ir.ui.view" id="kw_inventory_remove_button_template">
			<field name="name">product.template_procurement.inherit</field>
			<field name="model">product.template</field>
			<field name="inherit_id" ref="stock.product_template_form_view_procurement_button"/>
			<field name="arch" type="xml">
				<xpath expr="//button[@name='action_view_sales']" position="replace">
				</xpath>
			</field>
		</record> -->

		<record model="ir.ui.view" id="kw_inventory_uom_template">
			<field name="name">uom.uom.form.inherit</field>
			<field name="model">uom.uom</field>
			<field name="inherit_id" ref="uom.product_uom_form_view"/>
			<field name="arch" type="xml">
				<xpath expr="//group/group[2]/field[@name='active']" position="replace">
				</xpath>
				<xpath expr="//group/group[2]/field[@name='rounding']" position="after">
					<field name="active"/>
				</xpath>
				<xpath expr="//group/group[2]/field[@name='rounding']" position="before">
					<field name="description"/>
				</xpath>
			</field>
		</record>

		<record id="kw_quotation_design_approve_remark_form_view" model="ir.ui.view">
			<field name="model">kw_quotation_items</field>
			<field name="arch" type="xml">
				<form>
					<script>
						$(document).ready(function(){
						$(".modal-footer").hide();
						$(".modal-title").show();
						$(".o_form_statusbar").hide();
						});
					</script>
					<div class="row">
						<div class="text-center col-sm-12 mx-auto">
							<p class="h6 font-weight-light text-left text-justify">
								<field name="remark"/>
							</p>
							<button type="object" name="btn_quotation_remark_approve"
							        class="text-center btn btn-primary ">Submit
							</button>
						</div>
					</div>
				</form>
			</field>
		</record>

		<record id="kw_quotation_design_reject_remark_form_view" model="ir.ui.view">
			<field name="model">kw_quotation_items</field>
			<field name="arch" type="xml">
				<form>
					<script>
						$(document).ready(function(){
						$(".modal-footer").hide();
						$(".modal-title").show();
						$(".o_form_statusbar").hide();
						});
					</script>
					<div class="row">
						<div class="text-center col-sm-12 mx-auto">
							<p class="h6 font-weight-light text-left text-justify">
								<field name="remark"/>
							</p>
							<button type="object" name="btn_quotation_remark_reject"
							        class="text-center btn btn-primary ">Submit
							</button>
						</div>
					</div>
				</form>
			</field>
		</record>

		<!-- <record model="ir.ui.view" id="kw_inventory_stock_inventory_template">
			<field name="name">stock.inventory.form.inherit</field>
			<field name="model">stock.inventory</field>
			<field name="inherit_id" ref="stock.view_inventory_form"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='line_ids']/tree/field[@name='product_qty']" position="after">
					<field name="opening_balance" />
				</xpath>
			</field>
		</record> -->

		<!-- product.template form view -->
		<record id="kw_product_template_view_form" model="ir.ui.view">
			<field name="name">product.template.view.form</field>
			<field name="priority" eval="25"/>
			<field name="model">kw_quotation_items</field>
			<field name="arch" type="xml">
				<form string="Product Form">
					<sheet>
						<group>
							<!-- <field name="name" string="Name" /> -->
							<!-- <field name="product_qutetion_ids" string="Quotation Id" widget="many2many" > -->
							<!-- <tree> -->
							<field name="vendor_id" string="Vendor" widget="many2many_tags"/>
							<field name="price_unit" string="Unit Price"/>
							<field name="product_qty" string="Quantity"/>
							<field name="price_subtotal" string="Total"/>
							<field name="status" invisible="1"/>
							<field name="compute_stages" invisible="1"/>
							<!-- <button name="btn_approve" string="Approve" type="object" class="text-center btn btn-primary" attrs="{'invisible':['|',('status','in',['approved','rejected']),('compute_stages','=',False)]}"/>
							<button name="btn_reject" string="Reject" type="object" class="text-center btn btn-primary" attrs="{'invisible':['|',('status','in',['approved','rejected']),('compute_stages','=',False)]}"/> -->
							<!-- </tree> -->
							<!-- </field> -->
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<record id="kw_product_view_tree" model="ir.ui.view">
			<field name="name">kw_product_view_tree</field>
			<field name="priority" eval="25"/>
			<field name="model">kw_quotation_items</field>
			<field name="arch" type="xml">
				<tree>
					<field name="final_price" string="Final Price" invisible="1"/>
					<!-- <field name="product_qutetion_ids" string="Quotation Id" widget="many2many_tags"/> -->
					<field name="quotation_number" string="Quotation Number"/>
					<field name="vendor_id" string="Vendor" widget="many2many_tags"/>
					<field name="price_unit" string="Unit Price"/>
					<field name="product_qty" string="Quantity"/>
					<field name="price_subtotal" string="Total"/>
					<field name="status" invisible="1"/>
					<field name="compute_stages" invisible="1"/>
					<button name="btn_approve" string="Approve" type="object" class="text-center btn btn-primary"
					        attrs="{'invisible':[('final_price','=','false')]}"/>
					<button name="btn_reject" string="Reject" type="object" class="text-center btn btn-primary"
					        attrs="{'invisible':[('final_price','=','false')]}"/>
					<field name="remark" string="Remark"/>
				</tree>
			</field>
		</record>

		<!-- <record id="view_kw_quotation_filter" model="ir.ui.view">
			<field name="name">kw_quotation_filter_records</field>
			<field name="model">product.template</field>
			<field name="arch" type="xml">
				<search string="Search Quotation">
					<field name="name"/>
					<group expand="0" string="Group By">
						<filter name="group_name" string="Name" context="{'group_by':'name'}"/>
					</group>
				</search>
			</field>
		</record> -->

		<record id="kw_product_action_window" model="ir.actions.act_window">
			<field name="name">Quotation Design</field>
			<field name="res_model">kw_quotation_items</field>
			<field name="view_mode">tree</field>
			<field name="domain">[('quotation_state','=','negotiation'),('final_price','=',True)]</field>
			<field name="view_type">form</field>
		</record>

		<record model="ir.actions.act_window.view" id="kw_product_act_window_view_tree">
			<field name="sequence" eval="1"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="kw_product_view_tree"/>
			<field name="act_window_id" ref="kw_product_action_window"/>
		</record>

		<record model="ir.actions.act_window.view" id="kw_product_act_window_view_form">
			<field name="sequence" eval="2"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="kw_product_template_view_form"/>
			<field name="act_window_id" ref="kw_product_action_window"/>
		</record>

	</data>
</odoo>
