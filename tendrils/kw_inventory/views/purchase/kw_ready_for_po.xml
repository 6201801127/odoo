<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        
        	<record id="kw_ready_for_po_view_tree" model="ir.ui.view">
            <field name="name">kw_ready_for_po.view.tree</field>
            <field name="model">kw_quotation_consolidation_items</field>
            <field name="arch" type="xml">
                <tree editable="bottom" create="false" 
                delete="false"
                >
                    <field name="state" invisible="1"/>
                    <field name="product_id" string="Item Code" />
                    <field name="name" string="Description" invisible='1'/>
                    <field name="partner_id"/>
                    <field name="name" string="Item Name" />
                    <field name="date_planned" string="Date" />
                    <field name="product_qty" string="Quantity" />
                    <field name="product_uom" string="UoM"  />
                    <field name="price_unit"  string="Quoted Price" />
                    <field name="last_pp"  string="Last Procurement Price" />
                    <field name="po_create" invisible="1"/>
                    <button string="Move To Negotiation" name="negotiation_reject" type="object" class="oe_highlight" attrs="{'invisible': [('state', 'in', ['reject'])]}"/>
                </tree>
            </field>
        </record>

        <record id="kw_ready_for_po_action_window" model="ir.actions.act_window">
			<field name="name">Ready For PO</field>
			<field name="res_model">kw_quotation_consolidation_items</field>
            <field name="context">{'group_by': 'order_id'}</field>
            <field name="domain">[('state','=','approve'),('po_create','=',False)]</field>
			<field name="view_mode">tree</field>
			<field name="view_type">form</field>
			<field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_ready_for_po_view_tree')})]"/>
		</record>

    </data>
</odoo>