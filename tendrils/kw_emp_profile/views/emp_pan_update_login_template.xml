<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="0">

        <template id="employee_pan_update_view" name="Employee PAN Description">
            <t t-call="website.layout">
                <style>
                    #top_menu_collapse, header{display:none !important;}
                    #oe_main_menu_navbar { visibility: hidden;}
                    .file-upload {display:block;text-align:center;font-family: Helvetica, Arial, sans-serif;font-size:
                    12px;}
                    .file-upload .file-select{display:block;color:
                    #34495e;cursor:pointer;line-height:32px;text-align:left;background:#FFFFFF;overflow:visible;position:relative;max-height:32px;}
                    .file-upload .file-select .file-select-button{background:#108fbb;padding:0
                    10px;display:inline-block;height:32px;line-height:32px; font-size: 14px;color: #fff;}
                    .file-upload .file-select .file-select-name{line-height:40px;display:none;padding:0 10px; font-size:
                    14px;}
                    .file-upload .file-select:hover{border-color:#34495e;transition:all .2s
                    ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s
                    ease-in-out;-o-transition:all .2s ease-in-out;}
                    .file-upload .file-select:hover .file-select-button{background:#34495e;color:#FFFFFF;transition:all
                    .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s
                    ease-in-out;-o-transition:all .2s ease-in-out;}
                    .file-upload.active .file-select{border-color:#3fa46a;transition:all .2s
                    ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s
                    ease-in-out;-o-transition:all .2s ease-in-out;}
                    .file-upload.active .file-select .file-select-button{background:#3fa46a;color:#FFFFFF;transition:all
                    .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s
                    ease-in-out;-o-transition:all .2s ease-in-out;}
                    .file-upload .file-select
                    input[type=file]{z-index:100;cursor:pointer;position:absolute;height:100%;width:100%;top:0;left:0;opacity:0;filter:alpha(opacity=0);}
                    .file-upload .file-select.file-select-disabled{opacity:0.65;}
                    .file-upload .file-select.file-select-disabled:hover{cursor:default;display:block;border: 2px solid
                    #dce4ec;color:
                    #34495e;cursor:pointer;height:40px;line-height:40px;margin-top:5px;text-align:left;background:#FFFFFF;overflow:hidden;position:relative;}
                    .file-upload .file-select.file-select-disabled:hover
                    .file-select-button{background:#dce4ec;color:#666666;padding:0
                    10px;display:inline-block;height:40px;line-height:40px;}
                    .file-upload .file-select.file-select-disabled:hover
                    .file-select-name{line-height:40px;display:inline-block;padding:0 10px;}
                    .file-upload .file-select .error{position: absolute; right: 0px; top:30px;line-height:18px;}
                    .txt-filename{font-size:12px; margin:0px; padding:0px;position: absolute;left: 120px;top: 20px;font-size: 14px;max-width: 100%; text-align: left;}
                </style>
                <div class="container mt-0 mx-auto">
                    <div class="row">
                        <div class="offset-md-1 col-sm-10 offset-md-1">
                            <t t-if="emp_pan != 'NA'">
                                <div class="card" id="pan_info_box">
                                    <div class="badge-dark card-header mb-9">
                                        <img src="/kwantify_theme/static/src/img/csm_logo.png" class="" alt="logo"/>
                                    </div>
                                    <div class="card-body p-2">
                                        <div class="d-flex justify-content-center">
                                            <div class="col-12 col-7 text-center">
                                                <div class=" px-md-4">
                                                    <h2 class="text-left  pt-2 pb-2 mt-2">
                                                        Dear
                                                        <strong>
                                                            <span style="color:black;" t-esc="emp_name"/>,
                                                        </strong>

                                                    </h2>


                                                    <div class="d-flex justify-content-left mb-4">
                                                        <span style="font-size:16px;color:black;">
                                                            Please confirm if the mentioned PAN (as updated in Tendrils) is accurate:
                                                        </span>
                                                    </div>

                                                    <h1 class="text-center pt-1 pb-3">
                                                        <strong>
                                                            <span style="" t-esc="emp_pan"/>
                                                        </strong>
                                                    </h1>
                                                    <p class="text-left">
                                                        <span style="font-size:16px;color:black;">

                                                        </span>
                                                    </p>

                                                    <div>
                                                        <a t-attf-href="/employee-pan-submit" target="_self"
                                                           class="btn btn-success mr-6 btn-md">
                                                            <span style="font-size:13px;color:white;">
                                                                Yes
                                                            </span>
                                                        </a>
                                                        <button type="button" style="font-size:13px;color:white;"
                                                                id="btnNo"
                                                                class="btn btn-danger"
                                                                onclick="$('#pan_info_box').hide();$('#pan_file_upload_box').slideDown();">
                                                            No
                                                        </button>

                                                        <!-- <t t-if="skips_check &lt; 3">
                                                            <a class="btn btn-primary btn-md"
                                                               t-attf-href="/employee-pan-skip">
                                                                <span style="font-size:13px;">Skip for this time &amp;nbsp;
                                                                    <i class="fa fa-arrow-circle-right"/>
                                                                </span>
                                                            </a>
                                                        </t> -->

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </t>
                            <t t-set='style' t-value=""/>
                            <t t-if="emp_pan != 'NA'">
                                <t t-set='style' t-value="'display:none'"/>
                            </t>
                            <div class="container card mt-5 mb-2" t-att-style="style" id="pan_file_upload_box">
                                <div class="badge-dark card-header mb-9">
                                    <img src="/kwantify_theme/static/src/img/csm_logo.png" class="" alt="logo"/>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <div class="col-12 col-7 text-center">
                                        <div class=" px-md-4">
                                            <h2 class="text-left  pt-2 pb-2 mt-2">
                                                Dear
                                                <strong style="color:black;">
                                                    <t  t-esc="emp_name"/>,
                                                </strong>

                                            </h2>
                                            <div class="d-flex justify-content-center mb-0 card-body h3">
                                                <span style="color:black;">Please update your Correct PAN.</span>
                                            </div>
                                            <form name="frm_emp_pan" id="frm_emp_pan" class="form-horizontal"
                                                  method="post" action="/employee-pan-update" autocomplete="off"
                                                  enctype="multipart/form-data">
                                                <div class="md-form row col-sm-6  offset-sm-3 ">
                                                    <div class="col-sm-12 mb-3" id="txtPAN">
                                                        <input type="text" t-att-value="txtPAN" id="txtPAN"
                                                               minlength="10" maxlength="10"
                                                               name="txtPAN" class="form-control special"
                                                               onKeyPress="if(this.value.length==10) return false;"
                                                               required="true"/>
                                                        <label for="txtPAN">
                                                            New PAN:
                                                            <i class="mandatory">*</i>
                                                        </label>
                                                    </div>


                                                    <div class="col-sm-12  ">
                                                        <div class="file-upload mt-3">
                                                            <div class="file-select">
                                                                <div class="file-select-button" id="fileName">Choose
                                                                    file
                                                                </div>
                                                                <div class="file-select-name" id="noFile">No file
                                                                    chosen...
                                                                </div>
                                                                <input type="file" id="pandoc" name="pandoc"
                                                                       accept="image/jpg,image/png,image/jpeg"
                                                                       class="form-control " required="true"/>

                                                            </div>
                                                        </div>

                                                        <span name="pandocFile" id="pandocFile"
                                                              class="col-sm-3 text-success txt-filename">
                                                            <t t-esc="hiddenimage"/>
                                                        </span>
                                                        <br/>
                                                        <input type="hidden" id="hdnimagename" name="hiddenimage"
                                                               class="form-control" t-att-value="hiddenimage"/>
                                                        <label for="pandoc" class="mdb-main-label active">
                                                            Upload Doc:
                                                            <i class="mandatory">*</i>
                                                            <i class="fa fa-info-circle" data-rel="tooltip"
                                                               title="(Only .jpeg, .jpg, .png format and maximum file size 1MB is allowed.)"/>
                                                        </label>
                                                    </div><!-- Upload Photo end -->

                                                    <!-- <a t-attf-href="/employee-pan-update" target="_self" class="btn btn-success mr-3 btn-md">
                                                        <span style="font-size:15px;color:white;">
                                                            Submit &amp;nbsp;
                                                        </span>
                                                    </a> -->

                                                    <button type="submit" target="_self" class="btn btn-success mr-3 ">
                                                        Submit
                                                    </button>
                                                    <t t-if="emp_pan != 'NA'">
                                                    <button type="button" style="font-size:13px;color:white;" id="btnNo"
                                                            class="btn btn-danger"
                                                            onclick="$('#pan_file_upload_box').hide();$('#pan_info_box').slideDown();">
                                                        Cancel
                                                    </button>
                                                    </t>
                                                    <!-- <t t-else="">
                                                    <t t-if="skips_check &lt; 3">
                                                            <a class="btn btn-primary btn-md"
                                                               t-attf-href="/employee-pan-skip">
                                                                <span style="font-size:13px;">Skip for this time &amp;nbsp;
                                                                    <i class="fa fa-arrow-circle-right"/>
                                                                </span>
                                                            </a>
                                                        </t>
                                                    </t> -->
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
            <script>
                //console.log(' ------------- called');
             $(document).on("change","#pandoc",function(){
             //console.log('>>>>>>>>>>>>> called 2');
                 var fname = $("#pandoc").val();
                 //console.log(fname);
                 if (/^\s*$/.test(fname)) {
                   $(".file-up").addClass('active');
                   $("#noFile").text("No file chosen...");
                   $("#pandocFile").text("");
                   $("#hdnimagename").val("");
                 } else {
                   $(".file-up").addClass('active');
                   $("#noFile").text(fname.replace("C:\\fakepath\\", ""));
                   $("#pandocFile").text(fname.replace("C:\\fakepath\\", ""));
                   $("#hdnimagename").val(fname.replace("C:\\fakepath\\", ""));
                 }
             });
            </script>
        </template>

        <template id="assets_employee_pan" inherit_id="kw_emp_profile.employee_pan_update_view">
            <xpath expr="." position="inside">

                <link href='https://fonts.googleapis.com/css?family=Noto Sans' rel='stylesheet'/>
                <link href="/kwantify_theme/static/src/mdb/css/mdb.min.css" rel="stylesheet"/>
                <script type="text/javascript"
                        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
                <script type="text/javascript" src="/kwantify_theme/static/src/mdb/js/mdb.min.js"/>
                <script type="text/javascript" src="/kw_emp_profile/static/src/js/profile.js"/>
                <link href="/kwantify_theme/static/src/lib/bootstrap-sweetalert/dist/sweetalert.css" rel="stylesheet"/>
                <script type="text/javascript"
                        src="/kwantify_theme/static/src/lib/bootstrap-sweetalert/dist/sweetalert.js"/>
            </xpath>
        </template>


    </data>
</odoo>
