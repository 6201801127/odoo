<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="view_kw_emp_profile_summary_tree" model="ir.ui.view">
            <field name="name">kw_emp_profile_summary_tree</field>
            <field name="model">kw_emp_profile</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="Profile Summary" create='false' edit='false' delete='false' import='false'>
                    <!-- <field name="resignation_id"/> -->
                    <field name="department_name"/>
                    <field name="employee_code"/>
                    <field name="name" class="font-weight-bold"/>
                    <field name="job_position"/>
                    <field name="personal_info_percentage" string="Personal Info (%)" class="text-center"/>
                    <field name="identification_percentage" string="Identification (%)" class="text-center"/>
                    <field name="education_percentage" string="Educational (%)" class="text-center"/>
                    <field name="workinfo_percentage" string="Work Experience (%)" class="text-center"/>
                    <field name="cv_info_percentage" string="CV Info (%)" class="text-center"/>
                    <!--                    <field name="display_personal_percentage" invisible="1"/>-->
                    <!-- <field name="stage_id"/> -->
                </tree>
            </field>
        </record>

        <record id="kw_emp_profile_search_view" model="ir.ui.view">
            <field name="name">kw_emp_profile_search_view</field>
            <field name="model">kw_emp_profile</field>
            <field name="priority">200</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="department_name"/>
                    <field name="job_position"/>
                    <!--                    <field name="employee_code"/>-->
                    <!--                    <field name="personal_info_percentage"/>-->
                    <!--                    <field name="identification_percentage"/>-->
                    <!--                    <field name="education_percentage"/>-->
                    <!--                    <field name="workinfo_percentage"/>-->
                    <!--                    <field name="cv_info_percentage"/>-->

                    <separator/>

                    <filter name="group_by_personal" string="Personal Info (0-80%)"
                            domain="[('personal_info_percentage', '&gt;=', 0), ('personal_info_percentage', '&lt;=', 80)]"/>
                    <filter name="group_by_personal" string="Personal Info (80-100%)"
                            domain="[('personal_info_percentage', '&gt;', 80), ('personal_info_percentage', '&lt;', 100)]"/>
                    <filter name="group_by_personal" string="Personal Info (100%)"
                            domain="[('personal_info_percentage', '=', 100)]"/>
                    <separator/>
                    <filter name="group_by_identification" string="Identification Info (0-80%)"
                            domain="[('identification_percentage', '&gt;=', 0), ('identification_percentage', '&lt;=', 80)]"/>
                    <filter name="group_by_identification" string="Identification Info (80-100%)"
                            domain="[('identification_percentage', '&gt;', 80), ('identification_percentage', '&lt;', 100)]"/>
                    <filter name="group_by_identification" string="Identification Info (100%)"
                            domain="[('identification_percentage', '=', 100)]"/>
                    <separator/>
                    <filter name="group_by_education" string="Educational Info (0-80%)"
                            domain="[('education_percentage', '&gt;=', 0), ('education_percentage', '&lt;=', 80)]"/>
                    <filter name="group_by_education" string="Educational Info (80-100%)"
                            domain="[('education_percentage', '&gt;', 80), ('education_percentage', '&lt;', 100)]"/>
                    <filter name="group_by_education" string="Educational Info (100%)"
                            domain="[('education_percentage', '=', 100)]"/>
                    <separator/>
                    <filter name="group_by_workinfo" string="Work Info (0-80%)"
                            domain="[('workinfo_percentage', '&gt;=', 0), ('workinfo_percentage', '&lt;=', 80)]"/>
                    <filter name="group_by_workinfo" string="Work Info (80-100%)"
                            domain="[('workinfo_percentage', '&gt;', 80), ('workinfo_percentage', '&lt;', 100)]"/>
                    <filter name="group_by_workinfo" string="Work Info (100%)"
                            domain="[('workinfo_percentage', '=', 100)]"/>
                    <separator/>
                    <filter name="group_by_cv_info" string="CV Info (0-80%)"
                            domain="[('cv_info_percentage', '&gt;=', 0), ('cv_info_percentage', '&lt;=', 80)]"/>
                    <filter name="group_by_cv_info" string="CV Info (80-100%)"
                            domain="[('cv_info_percentage', '&gt;', 80), ('cv_info_percentage', '&lt;', 100)]"/>
                    <filter name="group_by_cv_info" string="CV Info (100%)"
                            domain="[('cv_info_percentage', '=', 100)]"/>
                    <separator/>
                </search>
            </field>
        </record>


        <!-- action for profile summary -->
        <record id="kw_view_profile_summary_action" model="ir.actions.act_window">
            <field name="name">Profile Summary</field>
            <field name="res_model">kw_emp_profile</field>
            <field name="view_mode">tree</field>
            <field name="search_view_id" ref="kw_emp_profile_search_view"/>
            <field name="view_id" ref="view_kw_emp_profile_summary_tree"/>
            <field name="view_type">form</field>
        </record>

        <!-- menu for profile summary -->
        <menuitem id="profile_summary_approval_menu"
                  name="Profile Summary"
                  sequence="107"
                  action="kw_view_profile_summary_action"
                  parent="kw_employee_info_system.employee_mis_report_menu"
                  groups="kw_emp_profile.group_kw_emp_profile_manager,hr.group_hr_manager"/>
    </data>
</odoo>