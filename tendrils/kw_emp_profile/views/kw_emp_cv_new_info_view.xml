<odoo>
    <data>
        <record id="kw_emp_profile_new_cv_view_tree" model="ir.ui.view">
            <field name="name">kw_emp_profile_cv_new_data.view.tree</field>
            <field name="model">kw_emp_cv_profile</field>
            <field name="arch" type="xml">
                <tree create="false" edit='false' delete='0'>
                    <field name="name" string="Employee Name"/>
                    <field name="employee_code"/>
                    <field name="designation"/>
                    <field name="department"/>
                    <field name="state"/>
                    <button name="cv_take_action" type="object" string="Take Action" class="oe_highlight"/>

                </tree>
            </field>
        </record>
        <record id="kw_emp_profile_new_cv_view_form" model="ir.ui.view">
            <field name="name">kw_emp_profile_new_data.view.form</field>
            <field name="model">kw_emp_cv_profile</field>
            <field name="arch" type="xml">
                <form string="" create="false" edit='false' delete='0'>
                    <header>
                        <button name="btn_approve_by_authority" style="margin-right:10px;" type="object" string="Approve"
                        class="btn btn-success"
                        attrs="{'invisible':['|',('state','=','approved'),('state','=','rejected')]}"/>
                        
                        <button name="button_reject_cv" type="object" string="Reject" class="btn btn-danger"
                                attrs="{'invisible':['|',('state','=','approved'),('state','=','rejected')]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="approved,rejected,pending"/>

                    </header>
                    <sheet>
                        <group>
                            <group string="Old Data" class="text-left">
                            </group>
                            <group string="New Data" class="text-left">
                            </group>
                        </group>
                        <group string="CV Info Details" attrs = "{'invisible':[('cv_info_boolean','=',False)]}">
                            <group>
                                <field name="cv_info_boolean" invisible="1"/>
                                <field name="emp_cv_info_ids" attrs="{'invisible':[('cv_info_boolean','=',False)]}">
                                    <tree>
                                        <field name="project_of"/>
                                        <field name="compute_project" string='Project Name'/>
                                        <field name="location"/>
                                        <field name="start_month_year"/>
                                        <field name="end_month_year"/>
                                        <field name="project_feature_text" widget="dynamic_popover_text"/>
                                        <field name="role"/>
                                        <field name="responsibility_activity_text" widget="dynamic_popover_text"/>
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="profile_cv_info_ids" attrs="{'invisible':[('cv_info_boolean','=',False)]}">
                                    <tree>
                                        <field name="project_of"/>
                                        <field name="compute_project" string='Project Name'/>
                                        <field name="location"/>
                                        <field name="start_month_year" />
                                        <field name="end_month_year"/>
                                        <field name="project_feature_text" widget="dynamic_popover_text"/>
                                        <field name="role"/>
                                        <field name="responsibility_activity_text" widget="dynamic_popover_text"/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="profile_new_cv_approval_action" model="ir.actions.server">
            <field name="name">Take Action</field>
            <field name="model_id" ref="model_kw_emp_cv_profile"/>
            <field name="state">code</field>
            <field name="domain">[('state','=','pending')]</field>
            <field name="code">
                    action = model.redirect_cv_details_page()
            </field>
        </record>

        <menuitem id="menu_kw_emp_cv_approval_report" name="Take Action"
              parent="employee_profile_cv_root_menu"
              sequence="4"
              action="profile_new_cv_approval_action"/>
    </data>
</odoo>