<?xml version='1.0' encoding='utf-8'?>
<odoo>
	<record id="list_view_zoom_meeting" model="ir.ui.view">
        <field name="name">Zoom Meetings</field>
        <field name="model">kw_meeting_events</field>
        <field name="arch" type="xml">
        	<tree string="Meetings" decoration-bf="message_needaction==True"
            default_order="final_date,stop desc" import="false" create="false" >
                <field name="name" string="Subject"/>
                <field name="allday" invisible="True"/>
                <field name="start" string="Start Date" invisible="True"/>
                <field name="stop" string="End Date" invisible="True"/>
                <field name="display_time" />
                <field name="recurrency" />
                <field name="rrule_type" />
                <field name="final_date" />
                <field name="meeting_room_id" />
                <field name="agenda_ids" invisible="True"/>
                <field name="state" invisible="True"/>
                <field name="duration" widget="float_time"/>
                <field name="message_needaction" invisible="1"/>
                <field name="organiser_id" string="Organiser" />
                <button string="Update Attendance"  type="object" name="action_update_attendance" class="btn btn-success" />
                <button string="View Attendance"  type="object" name="action_view_attendance" class="btn btn-primary" />
            </tree>
        </field>
    </record>

    <record id="action_window_zoom_meeting" model="ir.actions.act_window">
		  <field name="name">Zoom Meeting Schedule</field>
		  <field name="res_model">kw_meeting_events</field>
		  <field name="view_mode">tree</field>
		  <field name="context">{}</field>
		  <field name="domain">[('online_meeting','=','zoom'),('meeting_type_id.name','=','Monday Meeting')]</field>
		  <field name="view_ids" eval="[(5, 0, 0),
		(0, 0, {'view_mode': 'tree', 'view_id': ref('list_view_zoom_meeting')})]"/>
	  </record>

    <record id="kw_meeting_zoom_attendance_form" model="ir.ui.view">
            <field name="name">Meeting Zoom Attendance Form</field>
            <field name="model">kw_meeting_events</field>
            <field name="arch" type="xml">
                <form string="Meeting Zoom Attendance Wizard Form" create='false' >
                    <sheet>
                        <group>
                            <group>
                                <field name="name" style="pointer-events:none;" readonly="1"/>
                                <label for="kw_start_meeting_date" string="Date &amp; Time" />
                                    <div class="address_format">
                                        <field name="kw_start_meeting_date" style="width: 50%; pointer-events:none;" autocomplete="off" readonly="1"/>
                                        <field name="kw_start_meeting_time" style="width: 50%; pointer-events:none;" readonly="1"/>
                                    </div>
                                <field name="kw_duration" style="pointer-events:none;" readonly="1"/>
                            </group>
                        </group>
                        <group>
                            <field name="attendee_ids" >
                                <tree editable="bottom">
                                    <field name="employee_id" options="{'no_create': True, 'no_create_edit':True, 'no_open': True}"/>
                                    <field name="attendance_status"/>
                                </tree>
                            </field>
                        </group>
                        <group>
                            <field name="other_attendees" >
                                <tree editable="bottom">
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
</odoo>