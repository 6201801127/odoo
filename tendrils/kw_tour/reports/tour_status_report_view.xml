<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="kw_tour_status_report_view_tree" model="ir.ui.view">
            <field name="name">view.kw_tour_settlement_report.tree</field>
            <field name="model">kw_tour_status_report</field>
            <field name="type">tree</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <tree edit="false" create="false" duplicate="false" import="false">
                    <field name="code" />
                    <field name="employee_id"/>
                    <field name="department"/>
                    <field name="division"/>                                                                                                                                
                    <field name="section"/>
                    <field name="tour_type_id"/>
                     <field name="project_id"/>
                    <field name="budget_head_id"/>
                     <field name="applied_date" />
                    <field name="date_travel"/>
                    <field name="date_return"/>
                    <field name="state"/>
                    <!-- <field name="total_budget_expense" sum="Total"/> -->
            
                </tree>
            </field>
        </record>

  
        <record id="kw_tour_status_report_search" model="ir.ui.view">
            <field name="name">Tour Status Search View</field>
            <field name="model">kw_tour_status_report</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <field name="date_travel"/>
                    <field name="employee_id"/>
                    <field name="department"/>
                    <field name="division"/>                                                                                                                                
                    <field name="section"/>
                    <filter string="Apply Date" name="filter_apply_tour_date" date="applied_date"/>
                    <filter string="Date of Travel" name="filter_apply_tour_date" date="date_travel"/>
                    <filter string="Date of Return" name="filter_apply_tour_date" date="date_return"/>
                    <filter string="This Month" name="filter_current_month" domain="[('applied_date', 'like',context_today().strftime('%Y-%m'))]"/>
                    <filter name="fiscalyr_filter" string="Current Fiscal Year"
                            domain="['&amp;',('fiscal_year_id.date_start', '&lt;=',context_today().strftime('%Y-%m-%d')),('fiscal_year_id.date_stop', '&gt;=',context_today().strftime('%Y-%m-%d'))]"
                            context="{}" readonly="1"/>
                    <group expand="0" string="Group By">
                        <filter name="state" string="Status" context="{'group_by':'state'}"/>
                        <filter name="group_by_tour_type_id" string="Type of Tour" context="{'group_by':'tour_type_id'}"/>
                    </group>
                </search>
            </field>
        </record>
    
        <record id="action_kw_tour_status_report_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Tour Status Report</field>
            <field name="res_model">kw_tour_status_report</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
            <field name="context">{'search_default_fiscalyr_filter':1}</field>
            <field name="target">current</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No tour status report found...
                </p>
            </field>
        </record>
<!-- 
        <menuitem id="menu_kw_tour_status_report" name="Tour summary Report" 
        parent="kw_tour_report" sequence="5" action="action_kw_tour_status_report_act_window"/> -->

    </data>
</odoo>