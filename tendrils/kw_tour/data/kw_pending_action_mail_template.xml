<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="kw_tour_pending_action_email_template" model="mail.template">
            <field name="name">Pending Action Tour E-mail Template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Tour || Pending Action(s)</field>
            <field name="email_to">${(ctx.get('emails') or ''|safe)}</field>
<!--            <field name="email_cc">${(ctx.get('cc_emails') or ''|safe)}</field>-->
            <field name="email_cc"></field>
            <field name="model_id" ref="kw_tour.model_kw_tour"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(ctx.get('users') or ''|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Following tours are pending to take action.
                                    </p>
                                    <table style="border-collapse: collapse;font-size: 16px;font-family:Segoe UI; color: #454748; width: 100%;" border="1">
                                        <tr align="middle" style="background-color: #F1F1F1;" height="35px;">
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Reference No.</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Employee Name</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Applied Date</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Status</th>
                                        </tr>
                                        % if ctx.get('tours'):
                                            % for tour in ctx.get('tours'):
                                            <tr align="middle">
                                                <td width="25%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${tour.code}
                                                </td>
                                                <td width="25%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${tour.employee_id.name}
                                                </td>
                                                <td width="20%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;">
                                                    ${format_tz(tour.create_date, format='%d-%b-%Y')}
                                                </td>
                                                <td width="15%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;">
                                                    ${tour.state}
                                                </td>
                                            </tr>
                                            % endfor
                                        % endif
                                    </table>
                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please log into the Tendrils to see details.
                                    </p>
                                    <p style="color: #676767;line-height: 170%;margin: 10px 0 0 0;font-size: 16px;">
                                        <hr/>
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>

        <record id="kw_tour_settlement_pending_action_email_template" model="mail.template">
            <field name="name">Settlement Pending Action  Reminder Mail Template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Tour Settlement || Pending Action(s)</field>
            <field name="email_to">${(ctx.get('emails') or ''|safe)}</field>
            <field name="email_cc">${(ctx.get('cc_emails') or ''|safe)}</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(ctx.get('users') or ''|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Following tour settlement(s) are pending to take action.
                                    </p>
                                    <table style="border-collapse: collapse;font-size: 16px;font-family:Segoe UI; color: #454748; width: 100%;" border="1">
                                        <tr align="middle" style="background-color: #F1F1F1;" height="35px;">
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Tour Reference No.</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Employee Name</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Applied Date</th>
                                            <th style="color:#676767;border-bottom: 1px solid #ebe5e5;">Status</th>
                                        </tr>
                                        % if ctx.get('settlements'):
                                            % for settlement in ctx.get('settlements'):
                                            <tr align="middle">
                                                <td width="25%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${settlement.tour_id.code}
                                                </td>
                                                <td width="25%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${settlement.employee_id.name}
                                                </td>
                                                <td width="20%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;">
                                                    ${format_tz(settlement.create_date, format='%d-%b-%Y')}
                                                </td>
                                                <td width="15%" style="color:#167b9e;border-bottom: 1px solid #ebe5e5;">
                                                    ${settlement.state}
                                                </td>
                                            </tr>
                                            % endfor
                                        % endif
                                    </table>
                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please log into the Tendrils to see details.
                                    </p>
                                    <p style="color: #676767;line-height: 170%;margin: 10px 0 0 0;font-size: 16px;">
                                        <hr/>
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>
        
    </data>
</odoo>