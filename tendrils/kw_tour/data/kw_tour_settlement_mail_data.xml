<?xml version="1.0"?>
<odoo>
    <data>

        <record id="kw_tour_settlement_applied_mail" model="mail.template">
            <field name="name">Tour Settlement Applied Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Applied</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <!--            <field name="email_to" >${(object.employee_id.parent_id.work_email if object.employee_id and object.employee_id.parent_id else ''|safe)}</field>-->
            <field name="email_to" >${(ctx.get('email') or ''|safe)}</field>
            <field name="email_cc" >${(object.employee_id.coach_id.work_email if object.employee_id and object.employee_id.coach_id else ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
<!--                                            Dear ${(object.employee_id.parent_id.name if object.employee_id and object.employee_id.parent_id else ''|safe)}-->
                                            Dear ${(ctx.get('name') or ''|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been applied by ${(object.employee_id.name if object.employee_id else ''|safe)}.
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Employee Name
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.employee_id.name}
                                        </td>
                                    </tr>

                                    %if object.employee_id.department_id:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Department
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.department_id.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.division:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Division
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.division.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.section:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Section
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.section.name}
                                            </td>
                                        </tr>
                                    %endif

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Start Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_travel, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            End Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_return, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Budget Head
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            %if object.budget_head_id:
                                                ${object.budget_head_id.name}
                                            %else
                                                ${object.budget_head}
                                            %endif
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Origin & Destination  
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.destination_str}
                                        </td>
                                    </tr>

                                   
                                    %if object.can_apply_inr:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Advance Taken(Domestic)
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.advance_inr}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.can_apply_usd:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Advance Taken(USD)
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.advance_usd}
                                            </td>
                                        </tr>
                                    
                                    %endif
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark  
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.comment or '' | safe}
                                        </td>
                                    </tr>

                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

        <record id="kw_tour_settlement_applied_without_ra_mail" model="mail.template">
            <field name="name">Tour Settlement Applied Without RA Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Applied</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to">${(ctx.get('email_users','') |safe)}</field>
            <field name="email_cc">${(object.employee_id.coach_id.work_email if object.employee_id else ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Hi
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been applied by ${(object.employee_id.name if object.employee_id else ''|safe)}.
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>

                                    %if object.employee_id.department_id:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Department
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.department_id.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.division:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Division
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.division.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.section:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Section
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.section.name}
                                            </td>
                                        </tr>
                                    %endif

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Start Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_travel, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            End Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_return, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Budget Head
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            %if object.budget_head_id:
                                                ${object.budget_head_id.name}
                                            %else
                                                ${object.budget_head}
                                            %endif
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Origin & Destination  
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.destination_str}
                                        </td>
                                    </tr>
                                    %if object.can_apply_inr:
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Advance Taken(Domestic)
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.advance_inr}
                                        </td>
                                    </tr>
                                   
                                    %endif
                                    %if object.can_apply_usd:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Advance Taken(USD)
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.advance_usd}
                                            </td>
                                        </tr>
                                   
                                    %endif
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Remark  
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.comment or '' | safe}
                                        </td>
                                    </tr>
                                    
                                </table>
                            </td>
                        </tr>
                    </table>
                           
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

        <record id="kw_tour_settlement_approved_mail" model="mail.template">
            <field name="name">Tour Settlement Approved Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Approved</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to" >${(object.employee_id.work_email if object.employee_id else object.create_uid.email |safe)}</field>
            <!--            <field name="email_cc">${(object.employee_id.parent_id.work_email if object.employee_id and object.employee_id.parent_id else ''|safe)}</field>-->
            <field name="email_cc">${(ctx.get('email') or ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been approved by 
                                        % if ctx.get('action_user'):
                                            ${(ctx.get('action_user').employee_ids[-1].name if ctx.get('action_user') and ctx.get('action_user').employee_ids else ctx.get('action_user').name|safe)}.
                                        % endif
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Start Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_travel, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            End Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_return, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Budget Head
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            %if object.budget_head_id:
                                                ${object.budget_head_id.name}
                                            %else
                                                ${object.budget_head}
                                            %endif
                                        </td>
                                    </tr>
                                   
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Origin & Destination  
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.destination_str}
                                        </td>
                                    </tr>
                                    %if object.can_apply_inr:
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Advance Taken(Domestic)
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.advance_inr}
                                        </td>
                                    </tr>
                                   
                                    %endif
                                    %if object.can_apply_usd:
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Advance Taken(USD)
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.advance_usd}
                                        </td>
                                    </tr>
                                   
                                    %endif

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('remark','') |safe)}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

        <record id="kw_tour_settlement_rejected_mail" model="mail.template">
            <field name="name">Tour Settlement Rejected Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Rejected</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to" >${(object.employee_id.work_email if object.employee_id else object.create_uid.email |safe)}</field>
            <!--            <field name="email_cc">${(object.employee_id.parent_id.work_email if object.employee_id and object.employee_id.parent_id else ''|safe)}</field>-->
            <field name="email_cc">${(ctx.get('email') or ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been rejected by 
                                        % if ctx.get('action_user'):
                                            ${(ctx.get('action_user').employee_ids[-1].name if ctx.get('action_user') and ctx.get('action_user').employee_ids else ctx.get('action_user').name|safe)}.
                                        % endif
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Applied Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.create_date, format='%d-%b-%Y %H %M %S')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Employee Name
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Status
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.state}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('remark','') |safe)}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

        <record id="kw_tour_settlement_settled_mail" model="mail.template">
            <field name="name">Tour Settlement Completed Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Granted</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to" >${(object.employee_id.work_email if object.employee_id else object.create_uid.email |safe)}</field>
            <!--            <field name="email_cc">${(object.employee_id.parent_id.work_email if object.employee_id and object.employee_id.parent_id else ''|safe)}</field>-->
            <field name="email_cc">${(ctx.get('email') or ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been granted by 
                                        % if ctx.get('action_user'):
                                            ${(ctx.get('action_user').employee_ids[-1].name if ctx.get('action_user') and ctx.get('action_user').employee_ids else ctx.get('action_user').name|safe)}.
                                        % endif
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Applied Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.create_date, format='%d-%b-%Y %H %M %S')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Employee Name
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Status
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.state}
                                        </td>
                                    </tr>   
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('remark','') |safe)}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

        <record id="kw_tour_settlement_forwarded_user_mail" model="mail.template">
            <field name="name">Tour Settlement Forwarded Mail Template</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Forwarded</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to" >${(object.final_approver_id.work_email if object.final_approver_id else '' |safe)}</field>
            <!--            <field name="email_cc">${(object.employee_id.parent_id.work_email if object.employee_id and object.employee_id.parent_id else ''|safe)}</field>-->
            <field name="email_cc">${(ctx.get('email') or ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.final_approver_id.name}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been forwarded by 
                                        % if ctx.get('action_user'):
                                            ${(ctx.get('action_user').employee_ids[-1].name if ctx.get('action_user') and ctx.get('action_user').employee_ids else ctx.get('action_user').name|safe)}.
                                        % endif
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Applied Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.create_date, format='%d-%b-%Y %H %M %S')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Employee Name
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(object.employee_id.name if object.employee_id else object.create_uid.name|safe)}
                                        </td>
                                    </tr>
                                    %if object.employee_id.department_id:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Department
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.department_id.name}
                                            </td>
                                        </tr>
                                    %endif

                                    %if object.employee_id.division:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Division
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.division.name}
                                            </td>
                                        </tr>
                                    %endif

                                    %if object.employee_id.section:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Section
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.section.name}
                                            </td>
                                        </tr>
                                    %endif

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Status
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.state}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('remark','') |safe)}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>


        <!--        Mail Template for c-suite members for tour settlemenet apply-->

        <record id="kw_tour_settlement_applied_mail_c_suite" model="mail.template">
            <field name="name">Tour Settlement Applied Mail Template c-Suite</field>
            <field name="model_id" ref="kw_tour.model_kw_tour_settlement"/>
            <field name="subject">Tour Settlement Request of ${object.employee_id.name} (${object.employee_id.emp_code}) | Additional Expenses incurred for ${(ctx.get('ex_key') or ''|safe)}.</field>
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="email_to" >${(ctx.get('email') or ''|safe)}</field>
            <field name="email_cc">${(ctx.get('email_cc') or ''|safe)}</field>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${(ctx.get('name') or ''|safe)}
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Tour settlement has been applied by ${(object.employee_id.name if object.employee_id else ''|safe)}
                                         Additional Expenses incurred for ${(ctx.get('ex_key') or ''|safe)}.
                                    </p>
                                </div>

                                <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Code
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.tour_id.code}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Employee Name
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.employee_id.name}
                                        </td>
                                    </tr>

                                    %if object.employee_id.department_id:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Department
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.department_id.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.division:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Division
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.division.name}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.employee_id.section:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Section
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.employee_id.section.name}
                                            </td>
                                        </tr>
                                    %endif

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Tour Start Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_travel, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            End Date
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${format_tz(object.date_return, format='%d-%b-%Y')}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Budget Head
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            %if object.budget_head_id:
                                                ${object.budget_head_id.name}
                                            %else
                                                ${object.budget_head}
                                            %endif
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Origin & Destination
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.destination_str}
                                        </td>
                                    </tr>


                                    %if object.can_apply_inr:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Advance Taken(${(ctx.get('domestic_curr') or ''|safe)})
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.advance_inr}
                                            </td>
                                        </tr>
                                    %endif
                                    %if object.can_apply_usd:
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Advance Taken(USD)
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                ${object.advance_usd}
                                            </td>
                                        </tr>

                                    %endif
                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Additional Expenses(${(ctx.get('domestic_curr') or ''|safe)})
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('ex_amount') or ''|safe)}
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Additional Expenses(USD)
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${(ctx.get('ex_amount_usd') or ''|safe)}
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                            Remark
                                        </td>
                                        <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                            ${object.comment or '' | safe}
                                        </td>
                                    </tr>

                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
        </record>

    </data>
</odoo>