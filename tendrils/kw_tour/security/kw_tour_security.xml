<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="0">

        <record model="ir.module.category" id="module_category_kw_tour">
            <field name="name">Tour</field>
            <field name="description">User access level for tour module</field>
            <field name="sequence">3</field>
        </record>

        <record id="group_kw_tour_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_travel_desk" model="res.groups">
            <field name="name">Travel Desk</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>
        <record id="group_kw_tour_travel_desk_notify" model="res.groups">
            <field name="name">Travel Desk Notify</field>
        </record>

        <record id="group_kw_tour_finance" model="res.groups">
            <field name="name">Finance</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_admin" model="res.groups">
            <field name="name">Configuration Manager</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_kw_tour_management" model="res.groups">
            <field name="name">Management</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
            <field name="implied_ids" eval="[(4, ref('group_kw_tour_user'))]"/>
        </record>

        <record id="group_kw_tour_it" model="res.groups">
            <field name="name">IT</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
            <field name="implied_ids" eval="[(4, ref('group_kw_tour_user'))]"/>
        </record>

        <record id="group_kw_tour_super_manager" model="res.groups">
            <field name="name">Report Manager</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_others_user" model="res.groups">
            <field name="name">Group Tour User HR,L&amp;K</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_others_manager_take_action" model="res.groups">
            <field name="name">Group Tour Take Action</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_csg_user" model="res.groups">
            <field name="name">CSG Group</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="group_kw_tour_c_suite_user" model="res.groups">
            <field name="name">C-SUITE Group</field>
            <field name="category_id" ref="kw_tour.module_category_kw_tour"/>
        </record>

        <record id="base.default_user" model="res.users">
            <field name="groups_id" eval="[(4,ref('kw_tour.group_kw_tour_user'))]"/>
        </record>

        <!-- Start : Record Rules -->
        <!-- Start : for kw_tour model -->
        <!--        <record id="kw_tour_user_group_rule" model="ir.rule"> -->
        <!--           <field name = "name">Tour : User can view his tours, his subordinates and tours which are forwarded to him</field> -->
        <!--           <field name = "model_id" ref="model_kw_tour" /> -->
        <!--           <field name = "domain_force">['|','|','|','|','|',('create_uid', '=', user.id),-->
        <!--                                          '&amp;','&amp;', ('state', '!=', 'Draft'), ('employee_id.parent_id.user_id', '=', user.id),-->
        <!--                                                       ('tour_type_id.code', '!=', 'project'),-->

        <!--                                          '&amp;', '&amp;', '&amp;', ('state', '!=', 'Draft'),-->
        <!--                                           ('tour_type_id.code', '=', 'project'),-->
        <!--                                           ('actual_project_id.emp_id.user_id', '=', user.id),-->
        <!--                                           ('create_uid', '!=', user.id),-->

        <!--                                          '&amp;', '&amp;', '&amp;',('state', '!=', 'Draft'),-->
        <!--                                           ('tour_type_id.code', '=', 'project'),-->
        <!--                                           ('actual_project_id.reviewer_id.user_id', '=', user.id),-->
        <!--                                           ('create_uid', '!=', 'actual_project_id.emp_id.user_id'),-->

        <!--                                          '&amp;', ('state', '=', 'Forwarded'), ('final_approver_id.user_id', '=', user.id),-->
        <!--                                          ('write_uid','=',user.id),-->
        <!--                                          ]</field> -->
        <!--           <field name = "groups" eval="[(4, ref ('group_kw_tour_user'))]" /> -->
        <!--        </record>-->

        <record id="kw_tour_traveldesk_finance_admin_report_manager_group_rule" model="ir.rule">
            <field name="name">Tour : Configuration Manager,Report manager,Traveldesk,Finance  can view his tours and other except Draft</field>
            <field name="model_id" ref="model_kw_tour" />
            <field name="domain_force">['|','|','|','|','|','|',('create_uid', '=', user.id),
                ('employee_id.user_id','=',user.id),('state', '!=', 'Draft'),
                ('employee_id.parent_id.user_id', '=', user.id),
                ('final_approver_id.user_id', '=', user.id),
                ('actual_project_id.emp_id.user_id', '=', user.id),
                ('actual_project_id.reviewer_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref ('group_kw_tour_user')),
                                      (4, ref('group_kw_tour_travel_desk')),
                                     (4, ref('group_kw_tour_finance')),
                                     (4, ref('group_kw_tour_admin')),
                                     (4,ref('group_kw_tour_super_manager'))
                                     ]" />
        </record>

        <!-- End : for kw_tour model -->
        <!-- Start : for kw_tour_settlement model -->
        <!--        <record id="kw_tour_settlement_user_group_rule" model="ir.rule">-->
        <!--           <field name = "name">Tour Settlement: User can view his settlements and his subordinates settlements and settlements which are forwarded to him</field>-->
        <!--           <field name = "model_id" ref="model_kw_tour_settlement" />-->
        <!--           <field name = "domain_force">['|','|','|',('create_uid', '=', user.id),-->
        <!--                                          '&amp;', ('state', '!=', 'Draft'), ('employee_id.parent_id.user_id', '=', user.id),-->
        <!--                                          '&amp;', ('state', '=', 'Forwarded'), ('final_approver_id.user_id', '=', user.id),-->
        <!--                                          ('write_uid','=',user.id),-->
        <!--                                          ]</field>-->
        <!--           <field name = "groups" eval="[(4, ref ('group_kw_tour_user'))]" />-->
        <!--        </record>-->

        <record id="kw_tour_settlement_traveldesk_finance_admin_report_manager_group_rule" model="ir.rule">
            <field name="name">Tour Settlement: Configuration Manager,Report manager,Traveldesk,Finance can view his settlements and other except Draft</field>
            <field name="model_id" ref="model_kw_tour_settlement" />
            <field name="domain_force">['|','|','|','|','|',('create_uid', '=', user.id),('state', '!=', 'Draft'),
                ('employee_id.parent_id.user_id', '=', user.id),
                ('final_approver_id.user_id', '=', user.id),
                ('actual_project_id.emp_id.user_id', '=', user.id),
                ('actual_project_id.reviewer_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref ('group_kw_tour_user')),
                                      (4, ref('group_kw_tour_travel_desk')),
                                     (4, ref('group_kw_tour_finance')),
                                     (4, ref('group_kw_tour_admin')),
                                     (4,ref('group_kw_tour_super_manager'))
                                     ]" />
        </record>
        <!-- End : for kw_tour_settlement model -->
        <!-- End : Record Rules -->

        <!--        Tour project budget-->
        <!--        <record id="kw_tour_project_budget_user_group_rule" model="ir.rule">-->
        <!--           <field name="name">Tour : User can view budget of linked project</field>-->
        <!--           <field name="model_id" ref="model_kw_tour_project_budget" />-->
        <!--           <field name="domain_force">[('actual_project_id.emp_id.user_id', '=', user.id)]</field>-->
        <!--           <field name="groups" eval="[(4, ref('group_kw_tour_user'))]" />-->
        <!--        </record>-->

        <!--        <record id="kw_tour_project_budget_admin_finance_travel_group_rule" model="ir.rule">-->
        <!--           <field name="name">Tour : User can view budget of linked project</field>-->
        <!--           <field name="model_id" ref="model_kw_tour_project_budget" />-->
        <!--           <field name="domain_force">[(1, '=', 1)]</field>-->
        <!--           <field name="groups" eval="[(4, ref('group_kw_tour_travel_desk')),-->
        <!--                                     (4, ref('group_kw_tour_finance')),-->
        <!--                                     (4, ref('group_kw_tour_admin')),-->
        <!--                                     (4,ref('group_kw_tour_super_manager'))-->
        <!--                                     ]" />-->
        <!--        </record>-->

    </data>
</odoo>
