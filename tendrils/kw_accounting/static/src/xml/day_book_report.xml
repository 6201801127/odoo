<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="kw_accounting.day_book_report">
        <div class="o_control_panel">
            <ol class="breadcrumb" role="navigation" style="width:30%;">
                <li class="breadcrumb-item active">
                    <p class="font-weight-bold h2 mb-4 mt-2">Day Book Report</p>
                    <p class="h4"> <span class="text-muted">Company : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_name" /></span></p>
                    <p class="h4"> <span class="text-muted">Currency &amp;nbsp;: </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_currency" /></span></p>
                    <p class="h4"> <span class="text-muted">Branch&amp;emsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.branch_id" /></span></p>
                    <p class="h4"> <span class="text-muted">Year&amp;emsp;&amp;emsp;&amp;nbsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.fy_id" /></span></p>
                </li>
            </ol>
            <div class="" style="width: 70%;min-height: 30px ">
                <table class="ledger-report table table-md table-borderless">
                    <tr>
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">From Date:</h6>
                        </td>
                        <td width="30%"><input class="form-control ledger-report-select" id="from_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Voucher Type :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="voucher-type-select">
                                <option selected="selected" value="0">Select</option>
                                <option value="sales">Sales Voucher</option>
                                <option value="credit_note">Credit Note Voucher</option>
                                <option value="purchase">Purchase Voucher</option>
                                <option value="debit_note">Debit Note Voucher</option>
                                <option value="receipt">Receipt Voucher</option>
                                <option value="payment">Payment Voucher</option>
                                <option value="general">General Voucher</option>
                                <option value="contra">Contra Voucher</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">To Date:</h6>
                        </td>
                        <td><input class="form-control ledger-report-select" id="to_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                        <td ></td>
                        <td ></td>
                        <td class="text-center">
                            <button class="btn btn-info" id="submit-day-book-button">Submit</button>
                        </td>
                    </tr>
                    
                </table>
            </div>
        </div>

        <div class="container-fluid mt-5" id="block-ledger-data">
            <div class="portlets o_view_nocontent">
                <div class="o_nocontent_help">
                    <p class="o_view_nocontent_neutral_face h4 my-4 text-muted">
                        Oops! Data Not Found
                    </p>
                </div>
            </div>
        </div>
    </t>

    <t t-name="RenderDayBook">
        <table class="table table-striped table-sm table-bordered">
            <thead>
                <th class="pl-1 text-left ledger-report-header">Transaction Date</th>
                <th class="pl-1 text-left ledger-report-header">Voucher No</th>
                <th class="pl-1 text-left ledger-report-header">Narration</th>
                <th class="pl-1 text-left ledger-report-header">Particulars</th>
                <th class="pl-1 text-left ledger-report-header">Budget Type</th>
                <th class="pl-1 text-left ledger-report-header">Amount [Dr.]</th>
                <th class="pl-1 text-left ledger-report-header">Amount [Cr.]</th>
            </thead>
            <tbody>
                <t t-foreach="report_data" t-as="report">
                    <t t-foreach="report['first_row']" t-as="row">
                        <tr>
                            <td t-att-rowspan="row['line_ids_length']"><t t-esc="row['date']" /></td>
                            <td t-att-rowspan="row['line_ids_length']"><span class="font-weight-bold" t-esc="row['name']" /> <br/> <hr/> <t t-esc="row['move_type']" /></td>
                            <td t-att-rowspan="row['line_ids_length']"><t t-esc="row['narration']" /></td>
                            <t t-foreach="row['transactions']" t-as="data">
                                <td><t t-esc="data['account_id']" /> <br/> <b><t t-esc="data['account_name']" /></b> <br/> <span class="text-danger font-italic" t-esc="data['account_code']" /></td>
                                <td><t t-esc="data['budget_type']" /></td>
                                <td><t t-esc="data['debit']" /></td>
                                <td><t t-esc="data['credit']" /></td>
                            </t>
                        </tr>
                    </t>
                    <t t-foreach="report['second_row']" t-as="row">
                        <tr>
                            <td><t t-esc="row['account_id']" /> <br/> <b><t t-esc="row['account_name']" /></b> <br/> <span class="text-danger font-italic" t-esc="row['account_code']" /></td>
                            <td><t t-esc="row['budget_type']" /></td>
                            <td><t t-esc="row['debit']" /> </td>
                            <td><t t-esc="row['credit']" /></td>
                        </tr>
                    </t>
                </t>
            </tbody>
        </table>
    </t>
</templates>