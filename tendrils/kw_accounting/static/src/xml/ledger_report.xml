<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="kw_accounting.ledger_report">
        <div class="o_control_panel">
            <ol class="breadcrumb" role="navigation" style="width:30%;">
                <li class="breadcrumb-item active">
                    <p class="font-weight-bold h2 mb-4 mt-2">Ledger Report</p>
                    <p class="h4"> <span class="text-muted">Company : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_name" /></span></p>
                    <p class="h4"> <span class="text-muted">Branch&amp;emsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.branch_id" /></span></p>
                    <p class="h4"> <span class="text-muted">Year&amp;emsp;&amp;emsp;&amp;nbsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.fy_id" /></span></p>
                    <p class="h4"> <span class="text-muted">Currency &amp;nbsp;: </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_currency" /></span></p>
                </li>
            </ol>
            <div class="" style="width: 70%;min-height: 30px ">
                <table class="ledger-report table table-sm table-borderless">
                    <tr>
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">Group Type :</h6>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="group-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.group_type_ids" t-as="group_type">
                                    <option t-att-value="group_type['id']"><t t-esc="group_type['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td ></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Budget Type :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="budget-type-select">
                                <option selected="selected" value="0">Select</option>
                                <option value="project">Project</option>
                                <option value="treasury">Treasury</option>
                                <option value="other">Other</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Group Head :</h6>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="group-head-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.group_head_ids" t-as="group_head">
                                    <option t-att-value="group_head['id']"><t t-esc="group_head['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Project :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="project-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.project_wo_ids" t-as="project">
                                    <option t-att-value="project['id']"><t t-esc="project['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Group Name :</h6>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="group-name-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.group_name_ids" t-as="group_name">
                                    <option t-att-value="group_name['id']"><t t-esc="group_name['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Department :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="department-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.department_ids" t-as="department">
                                    <option t-att-value="department['id']"><t t-esc="department['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Account Head :</h6>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="account-head-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.account_head_ids" t-as="account_head">
                                    <option t-att-value="account_head['id']"><t t-esc="account_head['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Division :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="division-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.division_ids" t-as="division">
                                    <option t-att-value="division['id']"><t t-esc="division['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Account Sub-Head :</h6>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="account-sub-head-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.account_sub_head_ids" t-as="account_sub_head">
                                    <option t-att-value="account_sub_head['id']"><t t-esc="account_sub_head['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Section :</h6>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="section-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.section_ids" t-as="section">
                                    <option t-att-value="section['id']"><t t-esc="section['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Ledger Name :</h6>
                        </td>
                        <td colspan="4">
                            <select class="form-control ledger-report-select" id="ledger-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.ledger_ids" t-as="ledger">
                                    <option t-att-value="ledger['id']"><t t-esc="ledger['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h6 class="mb-0 emp-name">Timeframe :</h6>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="timeframe-select">
                                <option selected="selected" value="0">Select</option>
                                <option value="select-date">Date</option>
                                <option value="select-period">Period</option>
                                <option value="select-current-date">Current Date</option>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Employee :</h4>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="employee-ledger-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.employee_ids" t-as="employee">
                                    <option t-att-value="employee['id']"><t t-esc="employee['name']" /> (<t t-esc="employee['emp_code']" />)</option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr id="date_selection_row" class="d-none">
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">From Date:</h6>
                        </td>
                        <td width="30%"><input class="form-control ledger-report-select" id="from_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                        <td></td>
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">To Date:</h6>
                        </td>
                        <td><input class="form-control ledger-report-select" id="to_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                    </tr>
                    <tr id="period_selection_row" class="d-none">
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">From Period:</h6>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="period-start-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.period_ids" t-as="period_ids">
                                    <option t-att-value="period_ids['date_start']"><t t-esc="period_ids['date_start_format']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label">
                            <h6 class="mb-0 emp-name">To Period:</h6>
                        </td>
                        <td>
                            <select class="form-control ledger-report-select" id="period-stop-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.period_ids" t-as="period_ids">
                                    <option t-att-value="period_ids['date_stop']"><t t-esc="period_ids['date_stop_format']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    
                </table>
                <!-- <table class="ledger-report table table-sm table-borderless">
                    <tr>
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">Budget Type :</h4>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="budget-type-select">
                                <option selected="selected" value="0">Select</option>
                                <option value="project">Project</option>
                                <option value="treasury">Treasury</option>
                                <option value="other">Other</option>
                            </select>
                        </td>
                        <td ></td>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Department :</h4>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="department-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.department_ids" t-as="department">
                                    <option t-att-value="department['id']"><t t-esc="department['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Project :</h4>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="project-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.project_wo_ids" t-as="project">
                                    <option t-att-value="project['id']"><t t-esc="project['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Division :</h4>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="division-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.division_ids" t-as="division">
                                    <option t-att-value="division['id']"><t t-esc="division['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Employee :</h4>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="employee-ledger-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.employee_ids" t-as="employee">
                                    <option t-att-value="employee['id']"><t t-esc="employee['name']" /> (<t t-esc="employee['emp_code']" />)</option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Section :</h4>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="section-type-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.section_ids" t-as="section">
                                    <option t-att-value="section['id']"><t t-esc="section['name']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Time Frame :</h4>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="timeframe-select">
                                <option selected="selected" value="0">Select</option>
                                <option value="select-date">Date</option>
                                <option value="select-period">Period</option>
                                <option value="select-current-date">Current Date</option>
                            </select>
                        </td>
                    </tr>
                    <tr id="date_selection_row" class="d-none">
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">From Date:</h4>
                        </td>
                        <td width="30%"><input class="form-control ledger-report-select" id="from_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                        <td></td>
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">To Date:</h4>
                        </td>
                        <td><input class="form-control ledger-report-select" id="to_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                    </tr>
                    <tr id="period_selection_row" class="d-none">
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">From Period:</h4>
                        </td>
                        <td width="30%">
                            <select class="form-control ledger-report-select" id="period-start-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.period_ids" t-as="period_ids">
                                    <option t-att-value="period_ids['date_start']"><t t-esc="period_ids['date_start_format']" /></option>
                                </t>
                            </select>
                        </td>
                        <td></td>
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">To Period:</h4>
                        </td>
                        <td>
                            <select class="form-control ledger-report-select" id="period-stop-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.period_ids" t-as="period_ids">
                                    <option t-att-value="period_ids['date_stop']"><t t-esc="period_ids['date_stop_format']" /></option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <select class="form-control ledger-report-select" id="ledger-select">
                            <option selected="selected" value="0">Select</option>
                            <t t-foreach="widget.ledger_ids" t-as="ledger">
                                <option t-att-value="ledger['id']"><t t-esc="ledger['name']" /></option>
                            </t>
                        </select>
                        
                    </tr>
                </table> -->
                <div class="text-center">
                    <button class="btn btn-info" id="submit-ledger-filter-button">Submit</button>
                </div>
            </div>
        </div>
        <div class="container-fluid mt-3" id="block-ledger-data">
            <div class="portlets o_view_nocontent">
                <div class="o_nocontent_help">
                    <p class="o_view_nocontent_neutral_face h4 my-4 text-muted">
                        Oops! Data Not Found
                    </p>
                </div>
            </div>
        </div>
    </t>
    <t t-name="RenderLedgerDetails">
        
            <!-- <t t-if="widget.report_data_length > 0"> -->
                <div class="card">
                    <div class="card-body p-0">
                        <table class="table table-bordered table-striped table-sm mb-0">
                            <tbody>
                                <tr>
                                    <td class="font-weight-bold">Company</td>
                                    <td>:</td>
                                    <td><t t-esc="ob_company" /></td>
                                    <td class="font-weight-bold">Branch</td>
                                    <td>:</td>
                                    <td><t t-esc="ob_branch" /></td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Period</td>
                                    <td>:</td>
                                    <td><t t-esc="ob_period" /></td>
                                    <td class="font-weight-bold">Currency</td>
                                    <td>:</td>
                                    <td><t t-esc="ob_company_currency" /></td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Account</td>
                                    <td>:</td>
                                    <td><t t-esc="ob_account" /></td>
                                    <td class="font-weight-bold">Opening Balance</td>
                                    <td>:</td>
                                    <td class="text-danger font-weight-bold"><t t-esc="ob_actual" /></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="table-responsive mt-4" style="overflow: auto;">
                    <table class="table table-sm table-bordered table-striped" id="general_ledger_report">
                        <thead>
                            <th class="pl-1 text-left ledger-report-header" > Sl No# </th>
                            <th class="pl-1 text-left ledger-report-header" > Date </th>
                            <th class="pl-1 text-left ledger-report-header" > Voucher No. </th>
                            <th class="pl-1 text-left ledger-report-header" > Bill No </th>
                            <th class="pl-1 text-left ledger-report-header" > Partner </th>
                            <th class="pl-1 text-left ledger-report-header" > Particulars </th>
                            <th class="pl-1 text-left ledger-report-header" > Narration </th>
                            <th class="pl-1 text-left ledger-report-header" > Budget Type </th>
                            <th class="pl-1 text-left ledger-report-header" > Department </th>
                            <th class="pl-1 text-left ledger-report-header" > Project </th>
                            <th class="pl-1 text-left ledger-report-header" > Employee </th>
                            <th class="pl-1 text-right ledger-report-header" > Opening Balance</th>
                            <th class="pl-1 text-right ledger-report-header" > Debit </th>
                            <th class="pl-1 text-right ledger-report-header" > Credit </th>
                            <th class="pl-1 text-right ledger-report-header" > Closing Balance</th>
                        </thead>
                        <tbody>
                            <t t-foreach="report_data" t-as="report">
                                <tr>
                                    <td class="font-weight-bold p-1" style="vertical-align:top;" ><t t-esc="report['serial_number']" /></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['date']" /></td>
                                    <td class="p-1" style="vertical-align:top; color:#198fbb; cursor: pointer;" id="voucher_preview" t-att-data-voucher="report['voucher_id']" t-att-data-voucherType="report['voucher_type']"><u><t t-esc="report['move_id']" /></u></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['bill_no']" /></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['partner_id']" /></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['particulars']" /></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['narration']" /></td>
                                    <td class="p-1" style="vertical-align:top;"><t t-esc="report['budget_type']" /></td>
                                    <td class="p-1" style="vertical-align:top;">
                                        <t t-esc="report['department']" /> <t t-if="report['division'] != ''"> -&amp;gt <t t-esc="report['division']"/> </t> <t t-if="report['section'] != ''"> -&amp;gt <t t-esc="report['section']"/> </t>
                                    </td>
                                    <td class="p-1" style="vertical-align:top;">
                                        <t t-esc="report['project']" />
                                    </td>
                                    <td class="p-1" style="vertical-align:top;">
                                        <t t-esc="report['employee']" />
                                    </td>
                                    <td class="text-right" style="vertical-align:top;"><t t-esc="report['opening_balance']" /></td>
                                    <td class="text-right" style="vertical-align:top;"><t t-esc="report['debit']" /></td>
                                    <td class="text-right" style="vertical-align:top;"><t t-esc="report['credit']" /></td>
                                    <td class="text-right" style="vertical-align:top;"><t t-esc="report['closing_balance']" /></td>
                                </tr>
                            </t>
                        </tbody>
                        <tfoot>
                            <tr>
                                <t t-foreach="sum_report_data" t-as="report">
                                    <td class="font-weight-bold"></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-right"></td>
                                    <td class="text-right font-weight-bold text-danger"><t t-esc="report['debit']" /></td>
                                    <td class="text-right font-weight-bold text-danger"><t t-esc="report['credit']" /></td>
                                    <td class="text-right"></td>
                                </t>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            <!-- </t>
            <t t-else="">
                
            </t> -->
    </t>
</templates>