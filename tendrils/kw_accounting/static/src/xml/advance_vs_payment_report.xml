<templates>
    <t t-name="kw_accounting.advance_vs_payment">
        <div class="o_control_panel">
            <ol class="breadcrumb" role="navigation" style="width:30%;">
                <li class="breadcrumb-item active">
                    <p class="font-weight-bold h2 mb-4 mt-2">Advance Vs Payment Report</p>
                    <p class="h4"> <span class="text-muted">Company : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_name" /></span></p>
                    <p class="h4"> <span class="text-muted">Currency &amp;nbsp;: </span><span class="text text-danger font-weight-bold"><t t-esc="widget.company_currency" /></span></p>
                    <p class="h4"> <span class="text-muted">Branch&amp;emsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.branch_id" /></span></p>
                    <p class="h4"> <span class="text-muted">Year&amp;emsp;&amp;emsp;&amp;nbsp; : </span><span class="text text-danger font-weight-bold"><t t-esc="widget.fy_id" /></span></p>
                </li>
            </ol>
            <div class="" style="width: 70%;min-height: 30px ">
                <table class="ledger-report table table-md table-borderless">
                    <tr>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Type:</h4>
                        </td>
                        <td width="30%" >
                            <select class="form-control ledger-report-select" id="advance-ledger-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.ledger_ids" t-as="ledger">
                                    <option t-att-value="ledger['id']"><t t-esc="ledger['name']" /></option>
                                </t>
                            </select>
                        </td>
                        <td ></td>
                        <td class="ledger-report-label" width="10%">
                            <h4 class="mb-0 emp-name">Employee:</h4>
                        </td>
                        <td width="40%">
                            <select class="form-control ledger-report-select" id="employee-report-select">
                                <option selected="selected" value="0">Select</option>
                                <t t-foreach="widget.employee_ids" t-as="employee">
                                    <option t-att-value="employee['id']"><t t-esc="employee['name']" /> (<t t-esc="employee['emp_code']" />)</option>
                                </t>
                            </select>
                        </td>
                    </tr>
                    <tr id="advance_date_selection_row">
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">From Date:</h4>
                        </td>
                        <td width="30%"><input class="form-control ledger-report-select" id="from_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                        <td></td>
                        <td class="ledger-report-label">
                            <h4 class="mb-0 emp-name">To Date:</h4>
                        </td>
                        <td><input class="form-control ledger-report-select" id="to_date" placeholder="DD/MM/YYYY" required="required" type="date"></input></td>
                    </tr>
                </table>
                <div class="text-center">
                    <button class="btn btn-info" id="submit-adavance-filter-button">Submit</button>
                </div>
            </div>
        </div>
        <div class="container-fluid mt-5" id="block-ledger-data">
            <div class="portlets o_view_nocontent">
                <div class="o_nocontent_help">
                    <p class="o_view_nocontent_neutral_face h4 my-4 text-muted">
                        Oops! Data Not Found
                    </p>
                </div>
            </div>
        </div>
    </t>
    <t t-name="RenderAdavnceVSPaymentReport">
        <div class="container-fluid">
            <table class="table table-sm table-bordered table-striped" id="advance_vs_payment_report_page">
                <thead>
                    <th class="pl-1 text-left ledger-report-header" > Sl No# </th>
                    <th class="pl-1 text-left ledger-report-header" > Type </th>
                    <th class="pl-1 text-left ledger-report-header" > Employee </th>
                    <th class="pl-1 text-left ledger-report-header" > Opening Balance </th>
                    <th class="pl-1 text-left ledger-report-header" > Amount (Dr.) </th>
                    <th class="pl-1 text-left ledger-report-header" > Amount (Cr.) </th>
                    <th class="pl-1 text-left ledger-report-header" > Closing Balance </th>
                </thead>
                <tbody>
                    <t t-foreach="report_data" t-as="report">
                        <tr>
                            <td><t t-esc="report['serial_number']" /></td>
                            <td><t t-esc="report['account_id']" /></td>
                            <td><t t-esc="report['employee_id']" /></td>
                            <td class="text-right"><t t-esc="report['opening_balance']" /></td>
                            <td class="text-right"><t t-esc="report['debit']" /></td>
                            <td class="text-right"><t t-esc="report['credit']" /></td>
                            <td class="text-right"><t t-esc="report['closing_balance']" /></td>
                        </tr>
                    </t>
                </tbody>
                <tfoot>
                    <tr>
                        <t t-foreach="sum_report_data" t-as="report">
                            <td class="font-weight-bold"></td>
                            <td></td>
                            <td></td>
                            <td class="text-right font-weight-bold"><t t-esc="report['opening_balance']" /></td>
                            <td class="text-right font-weight-bold text-danger"><t t-esc="report['debit']" /></td>
                            <td class="text-right font-weight-bold text-danger"><t t-esc="report['credit']" /></td>
                            <td class="text-right font-weight-bold"><t t-esc="report['closing_balance']" /></td>
                        </t>
                    </tr>
                </tfoot>
            </table>
        </div>
    </t>
</templates>