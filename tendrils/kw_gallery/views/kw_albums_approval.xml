<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- explicit tree view definition Opening -->
        <record id="kw_albums_approval_view_tree" model="ir.ui.view">
            <field name="name">All albums view</field>
            <field name="model">kw_image_albums</field>
            <field name="arch" type="xml">
                <tree create='false' edit='false' class='left_align_text'>
                    <field name="category_name"/>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="no_of_pictures" string='Total images'/>
                    <field name="create_uid"/>
                    <field name="count_unpublished_images" string='#Pending images'/>
                    <field name="status" class='text-success font-weight-bold'/>
                    <button name="publish_album" type="object" string="Publish"  groups='kw_gallery.group_kw_gallery_publisher' class="oe_highlight" attrs="{'invisible': [('status','=','3')]}"/>
                    <button name="reject_album" type="object" string="Reject" groups='kw_gallery.group_kw_gallery_publisher' class="oe_highlight" attrs="{'invisible': [('status','=','2')]}"/>
                    <!-- <button name="btn_demo" type="object" string="Publish All" class="oe_highlight"/> -->
                </tree>
            </field>
        </record>
        <!-- explicit tree view definition Ending -->

        <!-- actions views Opening-->
        <record id="kw_albums_approval_view_action" model="ir.actions.act_window">
            <field name="name">Published Albums</field>
            <field name="res_model">kw_image_albums</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="kw_albums_approval_view_tree"/>
            <field name="domain">[["status", "in", ["2","3"]]]</field>
            <field name="context">{'show_button': True}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                No albums found ...
                </p>
            </field>
        </record>
        <!-- actions views Opening-->
    </data>
</odoo>
