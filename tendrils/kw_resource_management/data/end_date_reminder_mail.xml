<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    
        <record id="end_date_reminder_mail_template" model="mail.template">
            <field name="name">Project End Date : 20 Days Prior Notification</field>
            <field name="model_id" ref="kw_resource_management.model_sbu_wise_resource"/>
            <field name="auto_delete" eval="False"/>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="subject">Project End Date | 20 Days Prior Notification</field>
            <field name="body_html">
                <![CDATA[
                <div style="padding-left: 10px;">
                    <p>
                        <b>
                           <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Dear ${ctx['name']},</span>
                        </b>
                    </p>
                    <p style="margin-right: 2px">
                        Wish to draw your attention to the fact that the below employee end date is approaching
                        by ${ctx['proj_end_date']}. We request you to kindly initiate necessary action for extension or
                        transfer the employee to talent pool.
                    </p>
                    <table border="1" style="width:100%;border-collapse: collapse;font-size: 16px; margin-top:2rem;">
                        <thead>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Sl No </th>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Name </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Designation </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Practise </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Date Of Joining</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Role</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Category</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Skill</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">SBU</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Exp.</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Project</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Start Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">End Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Location</th>
                        </thead>
                        
                        <tbody>
                            % if ctx.get('req_project') :
                            % for rec in ctx.get('req_project',[]) :
                            <tr>
                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:03%;" >
                                    ${loop.index}
                                </td>
                                
                                <td style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    ${rec.name or ''}
                                </td>
                                
                                <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    ${rec.designation.name  or ''}
                                </td>
                                <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    ${rec.practise  or ''}
                                </td>
                                
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.date_of_joining, tz='UTC', format='%d-%b-%Y')}

                                        </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.emp_role.name}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.emp_category.name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.primary_skill_id.name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.sbu_name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.total_experience_display or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.project_name or ''}
                                        </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.start_date, tz='UTC', format='%d-%b-%Y')}

                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.end_date, tz='UTC', format='%d-%b-%Y')}
                                        </td>
        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.job_branch_id.name or ''}
                                        </td>
                                </tr>
                            % endfor
                            % endif
                        </tbody>
                    </table>
                    &nbsp;
                    <p>Thanks and regards</p>

            </div>
                ]]> 
            </field>        
        </record>

        <record id="expired_date_reminder_mail_template" model="mail.template">
            <field name="name">Project End Date : Expired</field>
            <field name="model_id" ref="kw_resource_management.model_sbu_wise_resource"/>
            <field name="auto_delete" eval="False"/>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="subject">Project End Date | Expired</field>
            <field name="body_html">
                <![CDATA[

                <div style="padding-left: 10px;">
                    <p>
                        <b>
                           <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Dear ${ctx['name']},</span>
                        </b>
                    </p>
                    <p>
                    Wish to draw your attention to the fact that the below employee end date is Expired. We request you
                    to kindly initiate necessary action for extension or transfer the employee to talent pool.
                    </p>
                    <table border="1" style="width:100%;border-collapse: collapse;font-size: 16px; margin-top:2rem;">
                        <thead>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Sl No </th>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Name </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Designation </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Practise </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Date Of Joining</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Role</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Category</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Skill</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">SBU</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Exp.</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Project</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Start Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">End Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Location</th>
                        </thead>
                        
                        <tbody>
                            % if ctx.get('req_project') :
                            % for rec in ctx.get('req_project',[]) :
                            <tr>
                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:03%;" >
                                    ${loop.index}
                                </td>
                                
                                <td style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    ${rec.name or ''}
                                </td>
                                
                                <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    ${rec.designation.name  or ''}
                                </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.practise  or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.date_of_joining, tz='UTC', format='%d-%b-%Y')}
                                        </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.emp_role.name}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.emp_category.name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.primary_skill_id.name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.sbu_name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.total_experience_display or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.project_name or ''}
                                        </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.start_date, tz='UTC', format='%d-%b-%Y')}
                                        </td>

                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${format_tz(rec.end_date, tz='UTC', format='%d-%b-%Y')}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.job_branch_id.name or ''}
                                        </td>
                                </tr>
                            % endfor
                            % endif
                        </tbody>
                    </table>
                    &nbsp;
                    <p>Thanks and regards</p>

            </div>
                ]]> 
            </field>        
        </record>

        <record id="start_end_date_reminder_template" model="mail.template">
            <field name="name">Project : No Start Date or End Date</field>
            <field name="model_id" ref="kw_resource_management.model_sbu_wise_resource"/>
            <field name="auto_delete" eval="False"/>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="subject">Project | No Start Date or End Date</field>
            <field name="body_html">
                <![CDATA[

                <div style="padding-left: 10px;">
                    <p>
                        <b>
                           <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Dear ${ctx['name']},</span>
                        </b>
                    </p>
                    <p>
                        Wish to draw your attention to the fact that the below employee do not have start date or end date.
                        We request you to kindly initiate necessary action to indicate the start date and end dates
                    </p>
                    <table border="1" style="width:100%;border-collapse: collapse;font-size: 16px; margin-top:2rem;">
                        <thead>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Sl No </th>
                            <th style="height: 30px;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Name </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Designation </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Practise </th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Date Of Joining</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Role</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Category</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Skill</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">SBU</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Exp.</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Project</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Start Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">End Date</th>
                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Location</th>
                        </thead>
                        
                        <tbody>
                            % if ctx.get('req_project') :
                            % for rec in ctx.get('req_project',[]) :
                            <tr>
                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:03%;" >
                                        ${loop.index}
                                    </td>
                                    
                                    <td style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${rec.name or ''}
                                    </td>
                                    
                                    <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${rec.designation.name  or ''}
                                    </td>
                                    <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${rec.practise  or ''}
                                    </td>
                                    
                                    <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${format_tz(rec.date_of_joining, tz='UTC', format='%d-%b-%Y')}
                                    </td>
                                    <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${rec.emp_role.name}
                                    </td>
                                    
                                    <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                        ${rec.emp_category.name or ''}
                                    </td>
                                    
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.primary_skill_id.name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.sbu_name or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.total_experience_display or ''}
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.project_name or ''}
                                        </td>
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            % if rec.start_date:
                                                ${format_tz(rec.start_date, tz='UTC', format='%d-%b-%Y')}
                                            % endif
                                            
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            % if rec.end_date:
                                                ${format_tz(rec.end_date, tz='UTC', format='%d-%b-%Y')}
                                            % endif
                                        </td>
                                        
                                        <td  style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                            ${rec.job_branch_id.name or ''}
                                        </td>
                                    </tr>
                            % endfor
                            % endif
                        </tbody>
                    </table>
                    &nbsp;
                    <p>Thanks and regards</p>

            </div>
                ]]> 
            </field>        
        </record>
    </data>
</odoo>