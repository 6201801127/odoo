<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Define the tree view for the employee_data_model -->
        <record id="view_employee_data_model_tree" model="ir.ui.view">
            <field name="name">employee_data_model_tree</field>
            <field name="model">employee_data_model</field>
            <field name="arch" type="xml">
                <tree string="Employee Data" import="false" edit='false' delete='false' create='false'
                      decoration-warning="status in ['Configured']" decoration-success="status in ['Complete']">
                    <field name="emp_code"/>
                    <field name="name"/>
                    <field name="department_id"/>
                    <field name="division"/>
                    <field name="section"/>
                    <field name="practise"/>
                    <field name="job_id"/>
                    <field name="date_of_joining"/>
                    <field name="status"/>
                    <!-- <button name="posh_certificate_download" string="Download" type="object"  class="oe_highlight"/> -->
                </tree>
            </field>
        </record>
        
        <!-- Define the action for the tree view -->
        <record id="employee_data_model_action" model="ir.actions.act_window">
            <field name="name">Employee Data</field>
            <field name="res_model">employee_data_model</field>
            <field name="view_mode">tree</field>
        </record>


        <record id="view_employee_posh_data_wizard_form" model="ir.ui.view">
            <field name="name">employee_posh_data_wizard</field>
            <field name="model">employee_posh_data_wizard</field>
            <field name="arch" type="xml">
                <form string="Wizard">
                    <sheet>
                        <group>
                            <group>
                                <field name="employee_ids" readonly="1">
                                    <tree>
                                        <field name="emp_code" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="name" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="division" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="section" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="practise" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="job_id" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>
                                        <field name="date_of_joining" options="{'no_create': True, 'no_edit':True, 'no_open': True}"/>

                                    </tree>
                                </field>
                                <field name="induction_id" options="{'no_open': True, 'no_create': True, 'no_edit': True}" />
                                <field name="date_of_induction"/>
                            </group>
                            

                        </group>
                    </sheet>
                    <footer>
                        <button name="update_employee_posh_data" string="Confirm" type="object" class="btn-primary"/>
                        <button string="Close" class="btn-secondary" special="cancel"/>

                    </footer>
                </form>
            </field>
        </record>

        <act_window id="action_employee_data_wizard" name="Employee POSH Induction" src_model="employee_data_model" res_model="employee_posh_data_wizard" view_type="form" view_mode="form" view_id="view_employee_posh_data_wizard_form" key2="client_action_multi" target="new"/>

        <menuitem id="menu_employee_data_model_tree" name="POSH Induction" 
            parent="kw_posh.posh_main_menu" 
            sequence="1"/>
        <menuitem id="menu_posh_induction" name="Employee Data" 
            parent="kw_onboarding_induction_feedback.menu_employee_data_model_tree" 
            groups='kw_onboarding_induction_feedback.group_kw_onboarding_induction_manager,kw_skill_assessment.group_kw_skill_assessment_manager,kw_onboarding_induction_feedback.group_kw_onboarding_induction_officer'
            action="employee_data_model_action" 
            sequence="1"/>
    </data>
</odoo>
