<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <!--assign spoc person wizards-->

    <record id="whistle_incident_wizard_form_view" model="ir.ui.view">
        <field name="name">whistle.incident.wizard.form.view</field>
        <field name="model">whistle.incident.wizard</field>
        <field name="arch" type="xml">
            <form string="Incident">

                <sheet>
                    <group>
                        <field name="team_id" string='Category' required="1" readonly='1' options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                        <field name="user_id" string='SPOC (Level-1)' required="1" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    </group>
                </sheet>
                <footer>
                    <button string="Assign" name="update_incident"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_incident_wizard_action" model="ir.actions.act_window">
        <field name="name">Assign Team Member</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.incident.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>

    <!--awaiting remarks wizard-->

    <record id="whistle_awaiting_remarks_wizard_form_view" model="ir.ui.view">
        <field name="name">whistle.remarks.wizard.form.view</field>
        <field name="model">whistle.awaiting.remarks.wizard</field>
        <field name="arch" type="xml">
            <form string="Remarks">

                <sheet>
                    <group>
                        <field name="remarks_for_awaiting" required="1"/>
                    </group>
                </sheet>
                <footer>
                    <button string="Hold" name="action_awaiting_remarks"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_awaiting_remarks_wizard_action" model="ir.actions.act_window">
        <field name="name">Awaiting</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.awaiting.remarks.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>

    <!--    inprogress wizard............-->


    <record id="whistle_remarks_wizard_form_view" model="ir.ui.view">
        <field name="name">whistle.remarks.wizard.form.view</field>
        <field name="model">whistle.remarks.wizard</field>
        <field name="arch" type="xml">
            <form string="Remarks">

                <sheet>
                    <group>
                        <field name="remarks_for_inprogress" required="1"/>
                    </group>
                </sheet>
                <footer>
                    <button string="Submit Remarks" name="action_remarks"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_remarks_wizard_action" model="ir.actions.act_window">
        <field name="name">Inprogres</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.remarks.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>


    <!--    forward wizard    ....................-->

    <record id="whistle_new_team_assign_wizard_form_view" model="ir.ui.view">
        <field name="name">awaiting.remarks.wizard.form.view</field>
        <field name="model">whistle.new.team.assign.wizard</field>
        <field name="arch" type="xml">
            <form string="Remarks">

                <sheet>
                    <group>
                        <field name="team_id" required="1" options='{"no_create":True,"no_update":True,"no_delete":True,"no_open":True}'/>
                        <field name="spoc_persion"/>
                        <field name="second_level_id"
                               required="1"   options='{"no_create":True,"no_update":True,"no_delete":True,"no_open":True}'/>
                        <field name="comment" required="1"/>
                    </group>
                </sheet>
                <footer>
                    <button string="Forward" name="action_new_teamassign_wiz"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_new_team_assign_wizard_action" model="ir.actions.act_window">
        <field name="name">Forward</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.new.team.assign.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>


    <!--    close wizard -->


    <record id="whistle_done_remarks_wizard_form_view" model="ir.ui.view">
        <field name="name">whistle.done.remarks.wizard.form.view</field>
        <field name="model">whistle.done.remarks.wizard</field>
        <field name="arch" type="xml">
            <form string="Remarks">
                <script >

                    $('textarea[name="remarks_for_done"]').on("input", function() {
                    $('#remarks').show()
                    var currentLength = $(this).val().length;
                    $('textarea[name="remarks_for_done"]').attr('maxlength',500);
                    var textlen = 500 - $(this).val().length;
                    $('#remarks').text(textlen + " Left");
                    });

                    $('#remarks').text() == '500 Left'?$('#remarks').hide():$('#remarks').show()
                </script>

                <sheet>
                    <div>
                        <span><strong>Close Remark</strong></span>
                    </div>
                    <div>
                        <field name="remarks_for_done" required="1" style="width100%;"/>
                        <span id="remarks">500 Left</span>
                        <field name="word_limit" invisible="1"/>
                    </div>


                </sheet>
                <footer>
                    <button string="Close" name="action_done_remarks"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_done_remarks_wizard_action" model="ir.actions.act_window">
        <field name="name">Close</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.done.remarks.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>



    <!--    cancel whistle blowing wizard..........-->


    <record id="whistle_cancelled_remarks_wizard_form_view" model="ir.ui.view">
        <field name="name">grievance.cancelled.remarks.wizard.form.view</field>
        <field name="model">whistle.cancelled.remarks.wizard</field>
        <field name="arch" type="xml">
            <form string="Remarks">

                <sheet>
                    <group>
                        <field name="remarks_for_cancelled" required="1"/>
                    </group>
                </sheet>
                <footer>
                    <button string="GoTo Reject" name="action_cancelled_remarks"
                            type="object" default_focus="1" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="whistle_cancelled_remarks_wizard_action" model="ir.actions.act_window">
        <field name="name">Reject</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">whistle.cancelled.remarks.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!--Add Text Here -->
            </p>
        </field>
    </record>







</odoo>
