<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="grievance_ticket_kanban_view" model="ir.ui.view">
     <field name="name">grievance.ticket.team.kanban</field>
     <field name="model">grievance.ticket.team</field>
     <field name="arch" type="xml">
       <kanban class="oe_background_grey o_kanban_dashboard" create="0">
         <field name="name"/>
         <field name="code" />
         <field name="color"/>
         <field name="todo_ticket_ids"/>
         <field name="todo_wb_ticket_ids"/>
         <field name="todo_ticket_count"/>
         <field name="todo_wb_ticket_count"/>
         <field name="onhold_ticket_count"/>
         <field name="onhold_wb_ticket_count"/>
         <field name="inprogress_ticket_count"/>
         <field name="inprogress_wb_ticket_count"/>
         <field name="completed_ticket_count"/>
         <field name="completed_wb_ticket_count"/>
         <field name="cancelled_ticket_count"/>
         <field name="cancelled_wb_ticket_count"/>
         <field name="todo_ticket_count_unassigned"/>
         <field name="todo_wb_ticket_count_unassigned"/>
         <field name="todo_ticket_count_unattended"/>
         <field name="todo_wb_ticket_count_unattended"/>
         <field name="todo_ticket_count_high_priority"/>
         <field name="todo_wb_ticket_count_high_priority"/>
         <field name="todo_ticket_count_close_total"/>
         <field name="todo_wb_ticket_count_close_total"/>
         <templates>
            <t t-name="kanban-box">
                <div t-attf-class="#{kanban_color(record.color.raw_value)}" style="border: 1px solid #e0e0e0; padding: 15px; border-radius: 8px; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); background-color: #ced4da;">
                    <div class="o_kanban_card_header" style="margin-bottom: 10px;">
                        <div class="o_kanban_card_header_title">
                            <div class="o_primary">
                                <a name="%(action_grievance_ticket_kanban_from_dashboard)d" style="font-weight:bold;font-size:22px; color: #333; text-decoration: none;" type="action">
                                    <field name="name"/>
                                </a>
                            </div>
                        </div>
                        <div class="o_kanban_manage_button_section">
                            <a class="o_kanban_manage_toggle_button" href="#" style="color: #007bff;"><i class="fa fa-ellipsis-v"/></a>
                        </div>
                    </div>
                    <div class="container o_kanban_card_content">
                        <div class="row">
                            <div class="col-6 o_kanban_primary_left">
                                <t t-if="record.code.value == 'WB'">
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_open': 1}">
                                        <t t-esc="record.todo_wb_ticket_count.value"/> Open Ticket
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_onhold': 1}">
                                        <t t-esc="record.onhold_wb_ticket_count.value"/> On Hold
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_inprogress': 1}">
                                        <t t-esc="record.inprogress_wb_ticket_count.value"/> In Progress
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_cancelled': 1}">
                                        <t t-esc="record.cancelled_wb_ticket_count.value"/> Rejected
                                    </a>
                                </t>
                                <t t-else="">
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_open': 1}">
                                        <t t-esc="record.todo_ticket_count.value"/> Open Ticket
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_onhold': 1}">
                                        <t t-esc="record.onhold_ticket_count.value"/> On Hold
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_inprogress': 1}">
                                        <t t-esc="record.inprogress_ticket_count.value"/> In Progress
                                    </a>
                                    <a style="display: block; margin-top: 5px; color: #007bff; text-decoration: none;font-size: 15px;" name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_cancelled': 1}">
                                        <t t-esc="record.cancelled_ticket_count.value"/> Rejected
                                    </a>
                                </t>
                            </div>
                            <div class="col-6 o_kanban_primary_right">
                                <div class="row">
                                    <div class="col-9">
                                        <a name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_unassigned': 1}" style="color: #d9534f; text-decoration: none;font-size: 15px;">
                                            Unassigned
                                        </a>
                                    </div>
                                    <t t-if="record.code.value == 'WB'">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_wb_ticket_count_unassigned.value"/>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_ticket_count_unassigned.value"/>
                                        </div>
                                    </t>
                                    <div class="col-9">
                                        <a name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_unattended': 1}" style="color: #d9534f; text-decoration: none;font-size: 15px;">
                                            Unattended
                                        </a>
                                    </div>
                                    <t t-if="record.code.value == 'WB'">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_wb_ticket_count_unattended.value"/>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_ticket_count_unattended.value"/>
                                        </div>
                                    </t>
                                    <t t-if="record.code.value == 'WB'">
                                        <style>
                                            .high-priority {
                                                font-weight: bold;
                                                color: red;
                                            }
                                        </style>
                                        <div class="col-9 o_kanban_primary_left">
                                            <t t-if="record.todo_wb_ticket_count_high_priority.value &gt; 0">
                                                <a name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_high_priority': 1}" style="color: #d9534f; text-decoration: none;font-size: 15px; font-weight: bold;">
                                                    High Priority
                                                </a>
                                            </t>
                                            <t t-else="">
                                                <a name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_high_priority': 1}" style="color: #d9534f; font-weight: normal; text-decoration: none;font-size: 15px;">
                                                    High Priority
                                                </a>
                                            </t>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="col-9 o_kanban_primary_left">
                                            <t t-if="record.todo_ticket_count_high_priority.value &gt; 0">
                                                <a name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_high_priority': 1}" style="color: #d9534f; text-decoration: none;font-size: 15px; font-weight: bold;">
                                                    High Priority
                                                </a>
                                            </t>
                                            <t t-else="">
                                                <a name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_high_priority': 1}" style="color: #d9534f; font-weight: normal; text-decoration: none;font-size: 15px;">
                                                    High Priority
                                                </a>
                                            </t>
                                        </div>
                                    </t>
                                    <t t-if="record.code.value == 'WB'">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_wb_ticket_count_high_priority.value"/>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_ticket_count_high_priority.value"/>
                                        </div>
                                    </t>
                                    <div class="col-9">
                                        <a name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action" context="{'search_default_done': 1}" style="color: #007bff; text-decoration: none;font-size: 15px;">
                                            Close Ticket
                                        </a>
                                    </div>
                                    <t t-if="record.code.value == 'WB'">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_wb_ticket_count_close_total.value"/>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="col-3" style="text-align: right;">
                                            <t t-esc="record.todo_ticket_count_close_total.value"/>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">
                        <div class="row">
                            <div class="col-6 o_kanban_card_manage_section o_kanban_manage_view">
                                <div class="o_kanban_card_manage_title">
                                    <span>View</span>
                                </div>
                                <t t-if="record.code.value == 'WB'">
                                    <div>
                                        <a style="text-decoration: none; color: #007bff;" name="%(action_whistle_blowing_ticket_kanban_from_dashboard)d" type="action">
                                            All
                                        </a>
                                    </div>
                                </t>
                                <t t-else="">
                                    <div>
                                        <a style="text-decoration: none; color: #007bff;" name="%(action_grievance_ticket_kanban_from_dashboard)d" type="action">
                                            All
                                        </a>
                                    </div>
                                </t>
                                <div>
                                    <a style="text-decoration: none; color: #007bff;" name="%(grievance_ticket_team_action)d" type="action">
                                        Setting
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div t-if="widget.editable" class="o_kanban_card_manage_settings row">
                            <div class="col-8">
                                <ul class="oe_kanban_colorpicker" data-field="color"/>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </templates>
        
       </kanban>
   </field>
 </record>
</odoo>
