<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="kw_handbook_kanban_view" model="ir.ui.view">
			<field name="name">Employee Handbook</field>
			<field name="model">kw_onboarding_handbook</field>
			<field name="arch" type="xml">
				<kanban class="o_kanban_small_column o_kanban_project_tasks employee-handbook"
						import='false'
						group_edit='false'
						group_create='false'
						archivable="false"
						disable_drag_drop_record='false'
						quick_create="false"
						>
<!--default_group_by="handbook_type_id"-->
					<field name="id"/>
					<field name="handbook_type_id"/>
					<field name="handbook_type_code" invisible="1"/>
					<field name="icon"/>
                    <field name="id"/>
                    <field name="title"/>
                    <field name="description"/>
                    <field name="category"/>
                    <field name="category_count"/>
<!--                    <progressbar field="category_count" colors='{}'/>-->
					<templates>
						<searchpanel order="sequence asc">
							<field name="handbook_type_id" icon="fa-sitemap" string="Dept wise Docs"/>
						</searchpanel>
						<t t-name="kanban-box">
                            <!-- <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.category_count.raw_value)}"></div> -->
                            <!-- Medium employee's picture -->

                            <!-- <div class="o_kanban_image_fill_left d-none d-md-block"
                                t-attf-style="background-image: url(#{kanban_image('hr.employee', 'image_medium', record.emp_id.raw_value)})"
                                role="img"/> -->

                            <!-- Employee's picture optimized for mobile -->

                            <!-- <div class="o_kanban_image d-md-none rounded-circle"
                                t-attf-style="background-image: url(#{kanban_image('hr.employee', 'image_small', record.emp_id.raw_value)})"
                                role="img"/> -->
                            <!-- <field name="category" invisible='1'/> -->
							<div class="row">
								<div class="col-sm-2 pull-left p-0">
									<div class="o_kanban_image">
										<img t-att-src="kanban_image('kw_onboarding_handbook','icon',record.id.raw_value)"
											 alt="Image"/>
									</div>
								</div>

								<div class="col-sm-10 pull-right">
									<div class="oe_kanban_details oe_kanban_global_click">
									<div class="o_kanban_record_top">
										<div class="o_kanban_record_headings">
											<strong class="o_kanban_record_title handbook-title word-break1" t-att-title="record.title.value">
												<field name="title"/>
											</strong>
										</div>
									</div>

									<div class="oe_kanban_details handbook1">
										<p class="word-break1" t-att-title="record.description.value">
<!--											<t t-esc="record.description.value" />-->
											<field name="display_description" />
										</p>

										<!-- other fields -->
										<!-- <t t-esc="record.handbook_type_code.value"/> -->
										<t t-if="record.handbook_type_code.value != 'TEM'">
											<button name="get_stock_file" string="Preview" type="object" class="btn btn-success o_select_file_button pull-right">Preview</button>
										</t>
										<t t-if="record.handbook_type_code.value == 'TEM'">
											<button name="get_stock_file_template" string="Download" type="object" class="btn btn-success  pull-right">Download</button>
										</t>
										<t t-if="record.posted_on.raw_value">
											<div class="pull-left mt-2">
												<lable>
													<i class="fa fa-calendar" title="Valid Trough"
													   aria-label="Valid Through"/>
												</lable>
												<field name="posted_on"/>
											</div>
										</t>
									</div>
								</div>
								</div>
								<div class="oe_clear"/>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>

		<record id="kw_handbook_kanban_view_actions_window" model="ir.actions.act_window">
			<field name="name">Employee Handbook Dashboard</field>
			<field name="res_model">kw_onboarding_handbook</field>
			<field name="view_mode">kanban</field>
			<field name="context">{'create':False}</field>
			<field name="domain">[]</field>
			
            <field name="view_ids" eval="[(5, 0, 0), 
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('kw_handbook_kanban_view')})]"/>
            <field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					There is no documents..
				</p>
			</field>
		</record>

	</data>
</odoo>
