<odoo>
    <data>
      <!-- explicit list view definition -->
      
      <record model="ir.ui.view" id="kw_reports_lost_and_found_list">
        <field name="name">Lost And Found Report</field>
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <tree create='0' edit='0' delete='0' decoration-danger="state=='discard'" decoration-success="state=='informed'" decoration-primary="state=='handover'" decoration-muted="state=='close'">
            <field name="code" />
          <field name="lost_datetime" />
          <field name="category"/>
          <field name="item_name"/>
          <field name="item_attributes"/>
          <field name="create_uid" />
          <field name="requested_by" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
          <field name="hand_over_to_emp" options="{'no_open': True,'no_create':True,'no_edit':True}" />
          <field name="response_log" string="Response" />
          <!-- <field name="tentative_location" /> -->
          <!-- <field name="upload_image" widget="image" options="{'preview_image': 'image', 'size': [30, 30]}" class="oe_avatar"/> -->
          <!-- <field name="requested_by" options="{'no_open':True,'no_create':True,'no_edit': True}"/> -->
          <field name="state"/>
          </tree>
        </field>
      </record>
  
      <record id="kw_reports_reports_item_view_form" model="ir.ui.view">
        <field name="name">Lost And Found Report</field>
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <form string="Reports" duplicate='0' create='0' edit='0' delete='0'>
            <header>
              <field name="state" widget="statusbar"/>
            </header>
            <sheet>
              <style>
                .item_label {font-size:11px;}
              </style>
              <group>
                <group>
                  <field name="category" required="True"/>
                  <field name="requested_by" attrs="{'required':[('category','=','lost')],'invisible':[('category','=','found')]}" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
                  <field name="item_name" required="True"/>
                  <label for="item_attributes" string="Item Attributes" class="oe_inline"/> <br/>
                  <label for="item_attributes" class="text-success font-italic item_label oe_inline" string="(brand,size,colour etc.)" style="font-size:11px"/>
                  <field name="item_attributes" required="True" nolabel="1" />
                  <field name="office_location_id"  options="{'no_open':True,'no_create':True,'no_edit': True}" required="1"/>
                </group>
                <group>
                  <label for="lost_datetime" string="Date &amp; Time" attrs="{'invisible':[('category','=','found')]}"/><br attrs="{'invisible':[('category','=','found')]}"/>
                  <label for="lost_datetime" class="text-success font-italic item_label" string="(Approx)" style="font-size:11px" attrs="{'invisible':[('category','=','found')] }"/>
                  <field name="lost_datetime" string="Date &amp; Time" nolabel="1" required="1" attrs="{'invisible':[('category','=','found')] }" />
  
                  <field name="lost_datetime" string="Date &amp; Time" required="1" attrs="{'invisible':[('category','=','lost')] }" />
                  
                  <label for="lost_location" string="Lost Location" attrs="{'invisible':[('category','=','found')]}"/><br attrs="{'invisible':[('category','=','found')]}"/>
                  <label for="lost_location" class="text-success font-italic item_label" string="(Tentative)" style="font-size:11px" attrs="{'invisible':[('category','=','found')] }"/>
                  <field name="lost_location" nolabel="1" attrs="{'required':[('category','=','lost')],'invisible':[('category','=','found')] }"/>
                  
                  <field name="tentative_location" attrs="{'required':[('category','=','found')], 'invisible':[('category','=','lost')]}" />
                  <field name="upload_image" attrs="{'required':[('category','=','found')]}" widget="image" class="oe_avatar"/>
                </group>
              </group>
              <group>
                <group>
                  <field name="remark" />
                  <field name="found_date" />
                </group>
                <group  string="Handover" attrs="{'invisible':[('state', '!=' ,'handover')]}">
                  <field name="hand_over_to_emp"  options="{'no_open': True,'no_create':True,'no_edit':True}" />
                  <field name="handover_remarks" />
                  <field name="handover_date" />
                </group>
                <group  string="Discarded" attrs="{'invisible':[('state', '!=' ,'discard')]}">
                  <field name="discarded_remarks" />
                  <field name="discard_date" />
                </group>
                <group  string="Closed" attrs="{'invisible':[('state', '!=' ,'close')]}">
                  <field name="close_remarks" />
                  <field name="close_date" />
                </group>
              </group>
              <group attrs="{'invisible':['|',('id','=',False),('state', '=' ,'draft')]}">
                <field name="response_log">
                  <tree editable="top">
                    <field name="lf_id" invisible="1" />
                    <field name="employee_id" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
                    <field name="response" />
                  </tree>
                </field> 
              </group>
            </sheet>
          </form>
        </field>
      </record>

      <record id="view_kw_lost_and_found_search" model="ir.ui.view">
        <field name="name">view.kw_device_master.search</field>
        <field name="model">kw_lost_and_found</field>
        <field name="type">search</field>
        <field name="mode">primary</field>
        <field name="priority" eval="16" />
        <field name="active" eval="True" />
        <field name="arch" type="xml">
            <search string="kw_lost_and_found_search">
                <field name="code"/>
                <filter string="Lost" name="filter_lost" domain="[('category', '=', 'lost')]" />
                <filter string="Found" name="filter_found" domain="[('category', '=', 'found')]" />
                <!-- <separator/> -->
                
                <group expand="0" string="Group By">
                  <filter name="group_by_status" string="Status" context="{'group_by':'state'}"/>                           
                </group>
            </search>
        </field>
      </record>
  
      <!-- actions opening views on models -->
      
      <record model="ir.actions.act_window" id="kw_reports_lost_and_found_action_window">
        <field name="name">Reports</field>
        <field name="res_model">kw_lost_and_found</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids" eval="[(5, 0, 0),
          (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_reports_lost_and_found_list')}),
          (0, 0, {'view_mode': 'form', 'view_id': ref('kw_reports_reports_item_view_form')})]"/>
        <field name="domain">[]</field>
        <!-- <field name="search_view_id" ref="view_kw_lost_and_found_search" />  -->
      </record>
    </data>
  </odoo>