<odoo>
    <data>
      <!-- explicit list view definition -->
      
      <record model="ir.ui.view" id="kw_hand_over_list">
        <field name="name">Hand Over</field>
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <tree create='0' edit='0' delete='0'>
            <field name="code" />
            <field name="lost_datetime" />
            <field name="category"/>
            <field name="item_name"/>
            <field name="item_attributes"/>
            <!-- <field name="tentative_location" /> -->
            <field name="upload_image" widget="image" options="{'preview_image': 'image', 'size': [30, 30]}" class="oe_avatar"/>
            <field name="state"/>
            <field name="create_uid" />
            <field name="requested_by" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
            <field name="hand_over_to_emp" options="{'no_open': True,'no_create':True,'no_edit':True}" />
            <button name="action_button_handover" string="Handover" type="object" class="btn-success" attrs="{'invisible':['|',('state', 'in' ,('draft','handover','discard')),('category','=','lost')]}"/>
            <button name="action_button_discarded" string="Discard" type="object" class="btn-danger" attrs="{'invisible':['|',('state', 'in' ,('draft','handover','discard')),('category','=','lost')]}"/>
          </tree>
        </field>
      </record>
      <record id="kw_hand_over_view_form" model="ir.ui.view">
        <field name="name">Hand Over</field>
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <form duplicate='0' create='0' edit='0' delete='0'>
            <header>
              <button name="action_button_handover" string="Handover" type="object" class = "btn-primary" style="background-color:green;"  attrs="{'invisible':['|',('state', 'in' ,['draft','handover','discard']),('category','=','lost')]}" />
              <button name="action_button_discarded" string="Discard" type="object" class = "btn-danger"  attrs="{'invisible':['|',('state', 'in' ,['draft','handover','discard']),('category','=','lost')]}" />
              <field name="state" widget="statusbar"/>
            </header>
            <sheet>
              <style>
                .item_label {font-size:11px;}
              </style>
              <group>
                <group>
                  <field name="category" required="True"/>
                  <field name="requested_by" attrs="{'required':[('category','=','lost')],'invisible':[('category','=','found')]}" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
                  <field name="item_name" required="True"/>
                  <label for="item_attributes" string="Item Attributes" class="oe_inline"/> <br/>
                  <label for="item_attributes" class="text-success font-italic item_label oe_inline" string="(brand,size,colour etc.)" style="font-size:11px"/>
                  <field name="item_attributes" required="True" nolabel="1" />
                  <field name="office_location_id"  options="{'no_open':True,'no_create':True,'no_edit': True}" required="1"/>
                </group>
                <group>
                  <label for="lost_datetime" string="Date &amp; Time" attrs="{'invisible':[('category','=','found')]}"/><br attrs="{'invisible':[('category','=','found')]}"/>
                  <label for="lost_datetime" class="text-success font-italic item_label" string="(Approx)" style="font-size:11px" attrs="{'invisible':[('category','=','found')] }"/>
                  <field name="lost_datetime" string="Date &amp; Time" nolabel="1" required="1" attrs="{'invisible':[('category','=','found')] }" />
  
                  <field name="lost_datetime" string="Date &amp; Time" required="1" attrs="{'invisible':[('category','=','lost')] }" />
                  
                  <label for="lost_location" string="Lost Location" attrs="{'invisible':[('category','=','found')]}"/><br attrs="{'invisible':[('category','=','found')]}"/>
                  <label for="lost_location" class="text-success font-italic item_label" string="(Tentative)" style="font-size:11px" attrs="{'invisible':[('category','=','found')] }"/>
                  <field name="lost_location" nolabel="1" attrs="{'required':[('category','=','lost')],'invisible':[('category','=','found')] }"/>
                  
                  <field name="tentative_location" attrs="{'required':[('category','=','found')], 'invisible':[('category','=','lost')]}" />
                  <field name="upload_image" attrs="{'required':[('category','=','found')]}" widget="image" class="oe_avatar"/>
                </group>
              </group>
                <group>
                  <group>
                    <field name="remark" />
                    <field name="found_date" />
                  </group>
                  <group  string="Handover" attrs="{'invisible':[('state', '!=' ,'handover')]}">
                    <field name="hand_over_to_emp"  options="{'no_open': True,'no_create':True,'no_edit':True}" />
                    <field name="handover_remarks" />
                    <field name="handover_date" />
                  </group>
                  <group  string="Discarded" attrs="{'invisible':[('state', '!=' ,'discard')]}">
                    <field name="discarded_remarks" />
                    <field name="discard_date" />
                  </group>
                  <group  string="Closed" attrs="{'invisible':[('state', '!=' ,'close')]}">
                    <field name="close_remarks" />
                    <field name="close_date" />
                  </group>
                </group>
                <group attrs="{'invisible':['|',('id','=',False),('state', '=' ,'draft')]}">
                  <field name="response_log">
                    <tree editable="top">
                      <field name="lf_id" invisible="1" />
                      <field name="employee_id" options="{'no_open':True,'no_create':True,'no_edit': True}"/>
                      <field name="response" />
                    </tree>
                  </field> 
                </group>
            </sheet>
          </form>
        </field>
      </record>

      <record id="kw_hand_over_to_employee_view_form" model="ir.ui.view">
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <form duplicate='0' string="Hand Over">
            <script>
              $(document).ready(function(){
                $(".modal-dialog").addClass('modal-md').removeClass('modal-lg');
              });
            </script>
            <!-- <sheet> -->
                <group>
                  <group>
                    <field name="hand_over_to_emp" required="True" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                    <field name="handover_remarks" required="True" />
                  </group>
                </group>
                <footer>
                  <button name="handover_to_employee" type="object" class="btn-primary" string="Submit"></button>
                  <button string="Cancel" special="cancel" type="object" class="btn-danger"/> 
                </footer>
            <!-- </sheet> -->
            
          </form>
        </field>
      </record>

      <record id="kw_discarded_request_view_form" model="ir.ui.view">
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <form duplicate='0' string="Hand Over">
            <script>
              $(document).ready(function(){
                $(".modal-dialog").addClass('modal-md').removeClass('modal-lg');
              });
            </script>
            <!-- <sheet> -->
                <group>
                  <group>
                    <field name="discarded_remarks" required="True" />
                  </group>
                </group>
                <footer>
                  <button name="discarded_lf_request" type="object" class="btn-primary" string="Submit"></button>
                  <button string="Cancel" special="cancel" type="object" class="btn-danger"/> 
                </footer>
            <!-- </sheet> -->
            
          </form>
        </field>
      </record>

      <record id="kw_close_view_form" model="ir.ui.view">
        <field name="model">kw_lost_and_found</field>
        <field name="arch" type="xml">
          <form duplicate='0' string="Close">
            <script>
              $(document).ready(function(){
                $(".modal-dialog").addClass('modal-md').removeClass('modal-lg');
              });
            </script>
            <!-- <sheet> -->
                <group>
                  <group>
                    <field name="close_remarks" required="True" />
                  </group>
                </group>
                <footer>
                  <button name="close_lf_request" type="object" class="btn-primary" string="Submit"></button>
                  <button string="Cancel" special="cancel" type="object" class="btn-danger"/> 
                </footer>
            <!-- </sheet> -->
            
          </form>
        </field>
      </record>
     
  
      <!-- actions opening views on models -->
      
      <record model="ir.actions.act_window" id="kw_hand_over_action_window">
        <field name="name">Found Items</field>
        <field name="res_model">kw_lost_and_found</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree</field>
        <field name="view_ids" eval="[(5, 0, 0),
    	(0, 0, {'view_mode': 'tree', 'view_id': ref('kw_hand_over_list')}),
      (0, 0, {'view_mode': 'form', 'view_id': ref('kw_hand_over_view_form')})]"/>
      <field name="domain">[('state','=','informed'),('category','=','found')]</field>
      </record>
    </data>
  </odoo>