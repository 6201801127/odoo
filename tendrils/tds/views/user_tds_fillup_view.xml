<?xml version="1.0" encoding="UTF-8"?>

<odoo>


    <record id="hr_declaration_user_form_view" model="ir.ui.view">
        <field name="name">hr.declaration.form</field>
        <field name="model">hr.declaration</field>
        <field name="priority">2</field>
        <field name="arch" type="xml">
            <form string="HR Declarations" delete='0' duplicate='0'>
                <header>
                    <button name="button_compute_tax" string="Compute Tax"
                        class="oe_highlight compute_tax" type="object"
                        attrs="{'invisible':[('test_css','!=',False)]}" />
                    <field name="state" widget="statusbar" statusbar_visible="draft,approved" />
                </header>
                <sheet>
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#8585ad;color:#fff}
                        .btn btn-primary .o_select_file_button{}
                        .o_form_view .o_horizontal_separator{color:#108fbb}
                        .o_list_view thead > tr > th.o_list_number_th{text-align:right}
                    </style>
                    <p style='text-align:right;color:red;font-weight:bold; margin-bottom:0'>**Please
                        fill the amount of All investment excluding of GST</p>
                    <group>
                        <group string='Tax Regime'>
                            <h2>
                                <field name="tax_freeze_bool" invisible='1' />
                                <field name="tax_regime" placeholder="Tax Regime" required="True" 
                                    string='Tax regime' attrs="{'readonly': [('tax_freeze_bool','=',True)]}"/>
                            </h2>
                        </group>
                    </group>
                    <field name="test_css" invisible='1' />
                    <field name="check_month" invisible='1' />
                    <field name="tax_recovered" invisible='1' />
                    <field name="emp_age" invisible='1' />
                    <group>
                        <table id="o_employee_container" style="width:100%; margin-top: 14px;">
                            <tbody style='border-left: 1px solid #eee;width:100%'>
                                <tr style='border-left: 1px solid #eee;width:50%'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Financial
                                        Year :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="date_range" required='1' readonly='1'
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            force_save='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Date
                                        of Joining :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="date_of_joining"
                                            required='1'
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Assessment
                                        Year :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="comming_date_range"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Date
                                        of Leaving :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="last_working_day"
                                            readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Employee
                                        Code :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="emp_code"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Bank
                                        A/c No.:</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="bank_account" readonly='1' />
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>Employee
                                        Name :</th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="employee_id"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            readonly='1' />
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>PAN
                                        No: </th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="pan_number" />
                                        <!-- <field name="allow_edit_bool"/> -->
                                    </td>
                                </tr>
                                <tr style='border-left: 1px solid #eee;'>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'></th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <!-- <field name="pran" /> -->
                                        <!-- <field name="allow_edit_bool"/> -->
                                    </td>
                                    <th class="o_column_sortable"
                                        style='color:black;width:12.5%'>PRAN:
                                        </th>
                                    <td
                                        style='color:black;width:12.5%'>
                                        <field name="pran" />
                                        <!-- <field name="allow_edit_bool"/> -->
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </group>
                    <notebook>
                        <page string='Income' class="tds_page">
                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Previous
                                                                    Employer Details</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    Actual Amount</th>

                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Document</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:center'>
                                                                    Lock/Unlock</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Income From
                                                                    Previous
                                                                    Employer</th>
                                                                <td style="text-align: right;">
                                                                    <field
                                                                        name="previous_employer_income"
                                                                        attrs="{'readonly': ['|','|',('check_previous_emp_income','=',False),('state','!=','draft'),('previous_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                    name="actual_previous_employer_income"
                                                                    attrs="{'readonly': ['|','|',('check_previous_emp_income','=',False),('state','!=','draft'),('previous_income_lock','=',True)]}"
                                                                    force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="income_from_pre_employer_doc"
                                                                        attrs="{'readonly': ['|','|',('state','!=','draft'),('check_previous_emp_income','=',False),('previous_income_lock','=',True)],'required':[('actual_previous_employer_income','>',0)]}"
                                                                        filename="doc_file_name_pre_emp" />
                                                                    <field
                                                                        name="doc_file_name_pre_emp"
                                                                        invisible='1' />
                                                                    <field
                                                                        name="check_previous_emp_income"
                                                                        invisible='1' />
                                                                   
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                    name="previous_income_lock" 
                                                                    readonly='1'/>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">TDS Paid</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="tds_previous_employer"
                                                                        attrs="{'invisible': [('check_previous_emp_income','=',False)],'readonly': ['|',('previous_employer_income','&lt;=',0),('tds_previous_income_lock','=',True)]}" />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                    name="actual_tds_previous_employer"
                                                                    attrs="{'invisible': [('check_previous_emp_income','=',False)],'readonly': ['|',('previous_employer_income','&lt;=',0),('tds_previous_income_lock','=',True)]}" />
                                                                </td>

                                                                <td style="text-align:right">
                                                                    <field name="tds_doc"
                                                                        attrs="{'readonly':['|','|',('state','=','approved'),('tds_previous_employer','=',0),('tds_previous_income_lock','=',True)],'required':[('actual_tds_previous_employer','>',0)],}" filename='tds_doc_name'/>
                                                                        <field
                                                                        name="tds_doc_name"
                                                                        invisible='1' />
                                                                    </td>
                                                                <td style="text-align:center">
                                                                        <field
                                                                        name="tds_previous_income_lock" 
                                                                        readonly='1'/>
                                                                    </td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:35%'>Income
                                                                    From House Property</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Document</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:center'>
                                                                    Lock/Unlock</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Gross Annual
                                                                    Value / Rent Income</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="gross_annual_value"
                                                                        force_save='1' attrs="{'readonly': [('house_income_lock','=',True)]}"/>
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_gross_annual_value"
                                                                        force_save='1' attrs="{'readonly': [('house_income_lock','=',True)]}"/>
                                                                </td>

                                                                <td style="text-align:right">

                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field name="house_income_lock" readonly='1'/>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Less: Municipal
                                                                    Taxes
                                                                    paid</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="municipal_taxes"
                                                                        force_save='1'
                                                                        attrs="{'readonly': ['|',('gross_annual_value','&lt;=',0),('house_income_lock','=',True)]}" />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_municipal_taxes"
                                                                        force_save='1'
                                                                        attrs="{'readonly': ['|',('actual_gross_annual_value','&lt;=',0),('house_income_lock','=',True)]}" />
                                                                </td>

                                                                <td style="text-align:right">
                                                                </td>
                                                                <td style="text-align:right">
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                                                                <th scope="row">Less: Interest
                                                                    on House
                                                                    Loan</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="temp_interest_payment"
                                                                        attrs="{'readonly': ['|',('tax_regime','=','new_regime'),('house_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_interest_payment"
                                                                        attrs="{'required':[('check_month','=',True),('temp_interest_payment','>',0)],'readonly':['|','|','|',('tax_regime','=','new_regime'),('state','=','approved'),('house_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>

                                                                <td>
                                                                    <field name="house_loan_doc"
                                                                        attrs="{'required':[('actual_interest_payment','>',0)],'readonly': ['|',('state','!=','draft'),('house_income_lock','=',True)]}"
                                                                        filename='house_loan_doc_file_name' />
                                                                    <field
                                                                        name="house_loan_doc_file_name"
                                                                        invisible='1' />
                                                                    <field name="invisible"
                                                                        invisible='1' />
                                                                </td>
                                                                <td></td>
                                                            </tr>
                                                            <tr
                                                                attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                                                                <th scope="row">Name of Housing Loan Institution</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="housing_loan_institute"
                                                                        attrs="{'readonly': ['|',('tax_regime','=','new_regime'),('house_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <th scope="row">PAN of Housing Loan Institution</th>

                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="housing_loan_institute_pan"
                                                                        attrs="{'required':[('actual_interest_payment','>',0)],'readonly':['|','|','|',('tax_regime','=','new_regime'),('state','=','approved'),('house_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Income
                                                                    From Other Sources</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Document</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Lock/Unlock</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Interest
                                                                    Received From
                                                                    Bank</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="interest_received_from_bank"
                                                                        attrs="{'readonly': ['|',('state','!=','draft'),('bank_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_interest_received"
                                                                        attrs="{'required':[('check_month','=',True),('interest_received_from_bank','>',0)],'readonly':['|',('state','=','approved'),('bank_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="interest_received_doc"
                                                                        filename='interest_received_file_name'
                                                                        widget="binary"
                                                                        attrs="{'required':[('actual_interest_received','>',0)],'readonly':['|',('state','=','approved'),('bank_income_lock','=',True)]}"
                                                                    />
                                                                    <field
                                                                        name="interest_received_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field name="bank_income_lock" readonly='1'/>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Any Other Income</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="income_from_other_sources"
                                                                        attrs="{'readonly': ['|',('state','!=','draft'),('other_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_income_from_other_sources"
                                                                        attrs="{'required':[('check_month','=',True)],'readonly':['|',('other_income_lock','=',True),('state','=','approved')]}"
                                                                        force_save='1' />

                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="income_from_other_sources_doc"
                                                                        filename='other_source_income_file_name'
                                                                        widget="binary"
                                                                        attrs="{'required':[('actual_income_from_other_sources','>',0)],'readonly': ['|',('state','!=','draft'),('other_income_lock','=',True)]}"
                                                                    />
                                                                    <field
                                                                        name="other_source_income_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field name="other_income_lock" readonly='1'/>
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr>


                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                        </page>
                        <page string='Exemption' class="tds_page" 
                            attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                            <group attrs="{'invisible':[('tax_regime','=','new_regime')]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>HRA
                                                                    Exemption u/s 10(13A)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:20%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:20%;text-align:center'>
                                                                    Lock/Unlock</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">House Rent Paid
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="house_rent_paid"
                                                                        attrs="{'readonly': ['|','|',('state','!=','draft'),('tax_regime','=','new_regime'),('hra_income_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_house_rent_paid"
                                                                        attrs="{'readonly': ['|','|',('tax_regime','=','new_regime'),('hra_income_lock','=',True)]}" />
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field
                                                                        name="hra_income_lock"
                                                                        readonly='1' />
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Name of Landlord</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="name_of_landlord"
                                                                        attrs="{'readonly': ['|','&amp;',('state','!=','draft'),('actual_house_rent_paid','&lt;',100000),('hra_income_lock','=',True)],'required':[('actual_house_rent_paid','&gt;=',100000)]}" />
                                                                </td>
                                                                <th scope="row">PAN of House
                                                                    Owner</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="pan_of_landlord"
                                                                        attrs="{'readonly': ['|','&amp;',('state','!=','draft'),('actual_house_rent_paid','&lt;',100000),('hra_income_lock','=',True)],'required':[('actual_house_rent_paid','&gt;=',100000)]}" />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Rent Agreement</th>
                                                                <td>
                                                                    <field name="rent_agreement"
                                                                        attrs="{'required':[('tax_regime','=','old_regime'),('actual_house_rent_paid','>',0)],'readonly': ['|',('state','!=','draft'),('hra_income_lock','=',True)]}"
                                                                        filename='rent_agreementfile_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="rent_agreementfile_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <th scope="row">Rent Receipt</th>
                                                                <td>
                                                                    <field name="pan_landlord"
                                                                        attrs="{'required':[('tax_regime','=','old_regime'),('actual_house_rent_paid','>',0)],'readonly': ['|',('state','!=','draft'),('hra_income_lock','=',True)]}"
                                                                        filename='pan_landlord_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="pan_landlord_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <group
                                attrs="{'invisible':['|',('tax_regime','=','new_regime'),('lta','=',0)]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>LTA
                                                                    Exemption u/s 10(5)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Document</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:center'>
                                                                    Lock/Unlock</th>
                                                                <!-- <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    </th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    </th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    </th> -->

                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">A. Actual LTA
                                                                    offered by
                                                                    the employer
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field name="lta"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                </td>
                                                                <td style="text-align:right">
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field name="lta_lock" readonly='1'/></td>
                                                            </tr>

                                                            <tr>
                                                                <th scope="row">B. LTA Spend By
                                                                    the
                                                                    Employee
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_spent_by_employee"
                                                                        attrs="{'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_lta_spent_by_employee"
                                                                        attrs="{'required':[('check_month','=',True)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field name="lta_document"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        filename='lta_document_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="lta_document_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <!-- <td></td> -->

                                                            </tr>
                                                            <!-- <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>


                                                            </tr> -->
                                                            <tr>
                                                                <th scope="row">Mode of Travel
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_mode_of_travel"
                                                                        attrs="{'readonly': ['|',('lta_lock','=',True),('state','!=','draft')],'required':[('actual_lta_spent_by_employee','>',0)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <!-- <td></td> -->
                                                                <!-- <td></td> -->
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Travel From Date
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_from_date"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Travel To Date
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_date"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Journey Started From
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_from"
                                                                        attrs="{'readonly': ['|',('lta_lock','=',True),('state','!=','draft')],'required':[('actual_lta_spent_by_employee','>',0)]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Destination Place
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_to"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <!-- <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr> -->

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                            <!-- <group
                                attrs="{'invisible':['|',('tax_regime','=','new_regime'),('actual_lta_spent_by_employee','=',0)]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>LTA
                                                                    Details</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    </th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    </th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Mode of Travel
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_mode_of_travel"
                                                                        attrs="{'readonly': ['|',('lta_lock','=',True),('state','!=','draft')],'required':[('actual_lta_spent_by_employee','>',0)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Travel From Date
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_from_date"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <th scope="row">Travel To Date
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_date"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Journey Started From
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_from"
                                                                        attrs="{'readonly': ['|',('lta_lock','=',True),('state','!=','draft')],'required':[('actual_lta_spent_by_employee','>',0)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <th scope="row">Destination Place
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="lta_travel_to"
                                                                        attrs="{'required':[('actual_lta_spent_by_employee','>',0)],'readonly': ['|',('lta_lock','=',True),('state','!=','draft')]}"
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group> -->
                            <group
                                attrs="{'invisible':['|',('tax_regime','=','new_regime'),('prof_persuit','=',0)]}">
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Professional
                                                                    Pursuit Exemption u/s 10(14)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Declaration Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%'>
                                                                    Document</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:center'>
                                                                    Lock/Unlock</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">A. Actual
                                                                    Professional
                                                                    Pursuit offered by the
                                                                    employer
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field name="prof_persuit"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                </td>
                                                                <td style="text-align:right">
                                                                </td>
                                                                <td style="text-align:center">
                                                                    <field name="pp_lock" readonly='1'/>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">B. Professional
                                                                    Pursuit
                                                                    Spend By the Employee
                                                                </th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="prof_persuit_spent_by_employee"
                                                                        attrs="{'readonly': ['|',('state','!=','draft'),('pp_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="actual_prof_persuit_spent_by_employee"
                                                                        attrs="{'required':[('check_month','=',True)],'readonly': ['|',('state','!=','draft'),('pp_lock','=',True)]}"
                                                                        force_save='1' />
                                                                </td>
                                                                <td>
                                                                    <field
                                                                        name="prof_persuit_document"
                                                                        attrs="{'required':[('actual_prof_persuit_spent_by_employee','>',0)],'readonly': ['|',('state','!=','draft'),('pp_lock','=',True)]}"
                                                                        filename='prof_persuit_document_file_name'
                                                                        widget="binary" />
                                                                    <field
                                                                        name="prof_persuit_document_file_name"
                                                                        invisible='1' />
                                                                </td>
                                                                <td></td>
                                                            </tr>
                                                            <tr
                                                                style='background-color:#eee;width:30px'>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </group>
                        </page>

                        <page string='Deductions' class="tds_page">
                            <field name="slab_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}">
                                <tree string="Slab - 80 Declaration" editable="bottom" delete='0'>
                                    <field name="slab_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master" string="Section 80C" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" domain="[('it_rule', '=', it_rule),('active', '=', True)]" force_save='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1" domain="[('deduction_id', '=', deduction_id)]" options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration Amount' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" sum="Total" force_save='1' string='Actual Amount' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <!-- <field name="ai_amt" sum="Total" force_save='1'  attrs="{'readonly':[('lock','=',True)]}"/> -->
                                    <field name="document" widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount' force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2" attrs="{'invisible':[('tax_regime','=','new_regime')]}" readonly='1'>
                                <field name="slab_80c_limit" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}" />
                            </group>

                            <field name="slab_ccd_ids" attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}" >
                                <tree string="Slab - 80 Declaration" editable="bottom" delete='0'>
                                    <field name="slab_ccd_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" domain="[('it_rule', '=', it_rule)]" force_save='1' string='Section 80CCD (NPS)' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1" domain="[('deduction_id', '=', deduction_id)]" options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" force_save='1' string='Declaration Amount' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" sum="Total" string='Actual Amount' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="document" widget="binary" filename='file_name' string='Document' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount' force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group>
                                <table class="" style="width:100%; margin-top: 14px;">
                                    <tbody>
                                        <tr style='border-left: 1px solid #eee;'>
                                            <td style="width:100%;">
                                                <div class=" table-responsive">
                                                    <table
                                                        class="o_list_view table table-sm table-hover table-striped o_list_view_ungrouped">
                                                        <thead>
                                                            <tr>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:40%'>Contribution Through Employer (80CCD2)</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;width:15%;color:#fff;text-align:right'>
                                                                    Actual Amount</th>
                                                                <th class="o_column_sortable"
                                                                    style='background-color: #8585ad;color:#fff;width:15%;text-align:right'>
                                                                    Projection Amount</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr>
                                                                <th scope="row">Contribution to pension scheme of Central Government by Employer</th>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="nps_actual"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                                <td style="text-align:right">
                                                                    <field
                                                                        name="nps_projection"
                                                                        readonly='1'
                                                                        force_save='1' />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                             <td></td>
                                                             <td></td>
                                                             <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                             </td>
                                        </tr>
                                    </tbody>
                                </table>
                             </group>
                             <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','old_regime')]}">
                                Maximum amount allowed: Basic * 14%</p>
                             <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                Maximum amount allowed: Basic * 14%</p>
                            <!-- <field name="slab_ccd2_ids" attrs="{'readonly':[('state','=','approve')]}" >
                                <tree string="Slab - 80 Declaration" editable="bottom" delete='0'>
                                    <field name="slab_ccd2_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" domain="[('it_rule', '=', it_rule)]" force_save='1' string='Contribution to Central Government by Employer' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1" domain="[('deduction_id', '=', deduction_id)]" options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" force_save='1' string='Declaration' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" sum="Total" string='Actual' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="document" widget="binary" filename='file_name' string='Document' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master" options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Amount' force_save='1' />
                                        <field name="actual_amt" sum="Total" />
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2">
                                <label for="slab_80d_limit"
                                    string="Maximum amount allowed: 1,00,000.00"
                                    class="oe_subtotal_footer oe_right" />
                            </group> -->
                            <field name="slab_80d_ids" attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}" >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80d_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80D (Health Insurance)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1'  attrs="{'readonly':[('lock','=',True)]}" />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration Amount'               force_save='1'  attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" sum="Total" string='Actual Amount'  attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="document"
                                        widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}" />
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2">
                                <label for="slab_80d_limit"
                                    string="Maximum amount allowed: 1,00,000.00"
                                    class="oe_subtotal_footer oe_right" attrs="{'invisible':[('tax_regime','=','new_regime')]}"/>
                            </group>
                            <field name="slab_80ddb_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 DDB Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80ddb_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"  string='Section 80DDB (Payments made towards Medical treatment specified diseases)' options="{'no_edit': True, 'no_create': True,'no_open':True}" required="1" domain="[('it_rule', '=', it_rule)]" attrs="{'readonly':[('lock','=',True)]}" force_save='1' />
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1'/>
                                    <field name="diseases" required='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="investment" sum="Total" string='Declaration Amount'
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual Amount'
                                    attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="document"
                                        widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                Maximum amount allowed : Deduction limit of  40,000 ( 1,00,000 if
                                Senior
                                Citizen)</p>
                                <field name="slab_80u_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                           >
                               <tree string="Slab - 80 Declaration" editable="bottom"
                                   delete='0'>
                                   <field name="slab_80u_id" invisible="1" />
                                   <field name="deduction_id" invisible="1" />
                                   <field name="saving_master" domain="[('it_rule', '=', it_rule)]"
                                       string='Section 80U (A person with disability)'
                                       options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                       required="1" 
                                       force_save='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                   <field name="it_rule" required="1" readonly='1'
                                       domain="[('deduction_id', '=', deduction_id)]"
                                       options="{'no_open':True}" invisible='0' />
                                    <field name="handicapped_percent" required='1'
                                    attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="investment" sum="Total" string='Declaration Amount'
                                        readonly='1'
                                        force_save='1' />
                                    <field name="actual_handicapped_percent" attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" readonly='1' force_save='1' string='Actual Amount'/>
                                    <field name="document"
                                        widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                               </tree>
                               <form>
                                   <group>
                                       <field name="saving_master"
                                           options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                           required="1" readonly='1' force_save='1' />
                                       <field name="investment" sum="Total" string='Declaration Amount'
                                           force_save='1' />
                                       <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                       <field name="document" widget="binary" />
                                   </group>
                               </form>
                           </field>
                           <group attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                               <field name="slab_80u_limit" colspan="2" string=''
                                   class="oe_subtotal_footer_separator oe_right "
                                   style="color:#4c4c4c;font-weight:bold;font-size:12px" />
                           </group>

                            <field name="slab_80dd_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0' >
                                    <field name="slab_80dd_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80DD (Contribution to Rehabilitation of Handicapped Dependents)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="handicapped_percent" required='1'
                                    attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="investment" sum="Total" string='Declaration Amount'
                                        readonly='1'
                                        force_save='1' />
                                    <field name="actual_handicapped_percent" attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="actual_amt" string='Actual Amount'/>
                                    <field name="document"
                                        widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <p style="color:#4c4c4c;font-weight:bold;font-size:12px"
                                class="oe_subtotal_footer oe_right" colspan="2"
                                attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                Maximum amount allowed : 125,000</p>
                            


                            <field name="slab_80e_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80e_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        string='Section 80E (Interest payments made on loan for higher education)'
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration Amount'
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual Amount'
                                    attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="document"
                                        widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                <field name="slab_80e_limit" colspan="2" string=''
                                    class="oe_subtotal_footer_separator oe_right "
                                    style="color:#4c4c4c;font-weight:bold;font-size:12px" />
                            </group>
                            <field name="slab_80g_ids"
                                attrs="{'readonly':[('state','=','approve')],'invisible':[('tax_regime','=','new_regime')]}"
                            >
                                <tree string="Slab - 80 Declaration" editable="bottom"
                                    delete='0'>
                                    <field name="slab_80g_id" invisible="1" />
                                    <field name="deduction_id" invisible="1" />
                                    <field name="saving_master"
                                        options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                        string='Section 80G (Donation)'
                                        required="1" domain="[('it_rule', '=', it_rule)]"
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="it_rule" required="1"
                                        domain="[('deduction_id', '=', deduction_id)]"
                                        options="{'no_open':True}" readonly='1' />
                                    <field name="investment" sum="Total" string='Declaration Amount'
                                        force_save='1' attrs="{'readonly':[('lock','=',True)]}"
                                    />
                                    <field name="actual_amt" sum="Total" string='Actual Amount' attrs="{'readonly':[('lock','=',True)]}"
                                    />
                                    <field name="document" widget="binary" filename='file_name' attrs="{'readonly':[('lock','=',True)]}"/>
                                    <field name="file_name" invisible="1" />
                                    <field name="lock" readonly='1'/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="saving_master"
                                            options="{'no_edit': True, 'no_create': True,'no_open':True}"
                                            required="1" readonly='1' force_save='1' />
                                        <field name="investment" sum="Total" string='Declaration Amount'
                                            force_save='1' />
                                        <field name="actual_amt" sum="Total" string='Actual Amount'/>
                                        <field name="document" widget="binary" />
                                    </group>
                                </form>
                            </field>
                            <group attrs="{'invisible': [('tax_regime','=','new_regime')]}">
                                <field name="slab_80g_limit" colspan="2" string=''
                                    class="oe_subtotal_footer_separator oe_right "
                                    style="color:#4c4c4c;font-weight:bold;font-size:12px" />
                            </group>
                        </page>
                    </notebook>


                </sheet>
                <div class="oe_chatter" groups="tds.group_manager_hr_declaration">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="activity_ids" widget="mail_activity" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>

    <!-- hr.declaration action window -->
    <record id="hr_declaration_user_action" model="ir.actions.act_window">
        <field name="name">Declaration</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.declaration</field>
        <field name="view_mode">tree,form</field>
        <field name="view_type">form</field>
        <field name="domain">[('employee_id.user_id.id','=',uid)]</field>
        <field name="view_ids"
            eval="[(5, 0, 0), 
                (0, 0, {'view_mode': 'tree', 'view_id': ref('tds.hr_declaration_tree_view')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('tds.hr_declaration_user_form_view')})]" />
    </record>

    <!-- This Menu Item must have a parent and an action -->
    <menuitem id="user_tds_menu_act" name="My Declaration"
        parent="my_declarations_view_my_tax_menu_id"
        action="hr_declaration_user_action" sequence="1" />


</odoo>