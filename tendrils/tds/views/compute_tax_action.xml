<?xml version="1.0" encoding="UTF-8"?>

<odoo>
    <record id="tds_emp_integration_view_form" model="ir.ui.view">
        <field name="name">tds_emp_integration.view.form</field>
        <field name="model">tds_emp_integration</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <!-- Add your fields here -->
                        <field name="tds_ids" options="{'no_open': True,'no_create':True,'no_edit':True}"  style="pointer-events:none;">
                            <tree create='0'>
                                <field name="employee_id"/>
                                <field name="job_name"/>
                                <field name="department_name"/>
                                <field name="pan_number"/>
                                <field name="date_range"/>
                                <field name="state"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
                <footer>
                    <button name="button_compute_income_tax" string="Compute Tax" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel" />
                </footer>
            </form>
        </field>
    </record>
    <act_window id="action_compute_tax" name="Compute Tax" src_model="hr.declaration" res_model="tds_emp_integration" view_type="form" view_mode="form" view_id="tds_emp_integration_view_form" key2="client_action_multi" target="new" context="{'selected_active_ids':active_ids}" groups="tds.group_manager_hr_declaration"/>

    <record id="tds_approve_view_form" model="ir.ui.view">
        <field name="name">tds_approve.view.form</field>
        <field name="model">tds_emp_integration</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <!-- Add your fields here -->
                        <field name="draft_tds_ids" options="{'no_open': True,'no_create':True,'no_edit':True}"  style="pointer-events:none;">
                            <tree create='0'>
                                <field name="employee_id"/>
                                <field name="job_name"/>
                                <field name="department_name"/>
                                <field name="pan_number"/>
                                <field name="date_range"/>
                                <field name="state"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
                <footer>
                    <button name="button_approve_income_tax" string="Approve Tax" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel" />
                </footer>
            </form>
        </field>
    </record>
    <act_window id="approve_tax_btn" name="Approve Tax" src_model="hr.declaration" res_model="tds_emp_integration" view_type="form" view_mode="form" view_id="tds_approve_view_form" key2="client_action_multi" target="new" context="{'draft_ids':active_ids}" groups="tds.group_manager_hr_declaration"/>
</odoo>