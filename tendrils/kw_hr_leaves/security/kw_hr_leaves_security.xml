<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.module.category" id="module_category_hr_holidays">
        <field name="name">Leaves</field>
        <field name="description">Helps you manage your leaves.</field>
        <field name="sequence">10</field>
    </record>
    
    <record id="group_kw_leave_core_hr_user" model="res.groups">
        <field name="name">Core HR Team</field>
        <field name="category_id" ref="module_category_hr_holidays"/>
    </record>
    <record id="hr_holidays.hr_leave_rule_officer_update" model="ir.rule">
        <!-- <field name="domain_force">['|',
'|','|', ('employee_id.user_id', '=', user.id), ('first_approver_id.user_id', '=', user.id),('second_approver_id.user_id', '=', user.id),
'|', '|', ('department_id', '=', False), ('department_id.member_ids.user_id', 'in', [user.id]), ('department_id.manager_id.user_id', '=', user.id)]
        </field>  -->
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>


    <record id="hr_holidays.hr_leave_allocation_rule_officer_update" model="ir.rule">
        <!-- <field name="domain_force">['|',
'|', '|',('employee_id.user_id', '=', user.id), ('first_approver_id.user_id', '=', user.id),('second_approver_id.user_id', '=', user.id),
'|', '|', ('department_id', '=', False), ('department_id.member_ids.user_id', 'in', [user.id]), ('department_id.manager_id.user_id', '=', user.id)]</field> -->
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <!-- START :: Leave Summary Report -->
    <record id="all_hr_leave_summary_report_manager_rule" model="ir.rule">
        <field name="name">Manager : View all Leave summary report</field>
        <field name="model_id" ref="model_all_hr_leave_summary_report"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>

    <record id="all_hr_leave_summary_report_rule_employee" model="ir.rule">
        <field name="name">All Leave Summary Report: employee: read own/sub-ordinates</field>
        <field name="model_id" ref="model_all_hr_leave_summary_report"/>
        <field name="domain_force">[('employee_id','child_of',user.employee_ids.ids)]</field>
        <field name="groups" eval="[(4,ref('base.group_user'))]"/>
    </record>

    <record id="kw_hr_leave_report_manager_rule" model="ir.rule">
        <field name="name">Manager : View Leave summary report</field>
        <field name="model_id" ref="model_kw_hr_leave_report"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>

    <record id="kw_hr_leave_report_rule_employee" model="ir.rule">
        <field name="name">Leave Summary Report: employee: read own/sub-ordinates</field>
        <field name="model_id" ref="model_kw_hr_leave_report"/>
        <field name="domain_force">['|',('employee_id.user_id','=',user.id),('employee_id.parent_id.user_id','=',user.id)]</field>
        <field name="groups" eval="[(4,ref('base.group_user'))]"/>
    </record>

    <!-- <record id="kw_leave_cycle_master_manager_rule" model="ir.rule">
        <field name="name">Manager : View Leave Cycle Master</field>
        <field name="model_id" ref="model_kw_leave_cycle_master"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>

    <record id="kw_leave_cycle_master_rule_employee" model="ir.rule">
        <field name="name">Leave Summary Report: employee: read Leave Cycle Master</field>
        <field name="model_id" ref="model_kw_leave_cycle_master"/>
        <field name="domain_force">[('create_uid','=',user.id)]</field>
        <field name="groups" eval="[(4,ref('base.group_user'))]"/>
    </record>

    <record id="kw_leave_type_config_manager_rule" model="ir.rule">
        <field name="name">Manager : View Leave Type Config Master</field>
        <field name="model_id" ref="model_kw_leave_type_config"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>

    <record id="kw_leave_type_config_rule_employee" model="ir.rule">
        <field name="name">Leave Summary Report: employee: read Leave Type Config</field>
        <field name="model_id" ref="model_kw_leave_type_config"/>
        <field name="domain_force">[('create_uid','=',user.id)]</field>
        <field name="groups" eval="[(4,ref('base.group_user'))]"/>
    </record> -->

    <record id="kw_set_encashment_period_rule_manager" model="ir.rule">
        <field name="name">Manager : View Leave Set Encashment</field>
        <field name="model_id" ref="model_kw_set_encashment_period"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>
    <record id="kw_set_encashment_period_rule_user" model="ir.rule">
        <field name="name">User : View Only His/Her Record</field>
        <field name="model_id" ref="model_kw_set_encashment_period"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_user'))]"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
        <field name="active" eval="True" />
    </record> 
    <record id="hr_leave_allocation_rule_manager" model="ir.rule">
        <field name="name">Manager : View Leave Allocation</field>
        <field name="model_id" ref="model_hr_leave_allocation"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>
    <record id="hr_holidays.hr_leave_allocation_rule_officer_read" model="ir.rule">
        <field name="perm_write" eval="True"/>
    </record>
    <record id="hr_holidays.hr_leave_allocation_rule_officer_update" model="ir.rule">
        <field name="name">Allocations: officer: read all</field>
        <field name="model_id" ref="model_hr_leave_allocation"/>
        <field name="domain_force">[('employee_id','child_of',user.employee_ids.ids)]</field>
        <field name="perm_create" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <record id="hr_leave_ir_rule_manager" model="ir.rule">
        <field name="name">Manager : View Leaves</field>
        <field name="model_id" ref="model_hr_leave"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_manager'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="active" eval="True" />
    </record>
    <record id="hr_holidays.hr_leave_rule_officer_read" model="ir.rule">
        <field name="name">Officer: Read Own and Sub-ordinates</field>
        <field name="model_id" ref="model_hr_leave"/>
        <field name="domain_force">[('employee_id','child_of',user.employee_ids.ids)]</field>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
        <field name="groups" eval="[(4, ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <record id="hr_holidays.hr_holidays_status_rule_multi_company" model="ir.rule">
        <field name="name">Leaves multi company rule</field>
        <field name="model_id" ref="model_hr_leave_type"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('company_id','=',False),'|',('company_id','child_of',[user.company_id.id]),('company_id','parent_of',[user.company_id.id])]</field>
    </record>

    <record id="hr_holidays.hr_leave_rule_multicompany" model="ir.rule">
        <field name="name">Leaves: multi company global rule</field>
        <field name="model_id" ref="model_hr_leave"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|', ('holiday_status_id.company_id', '=', False),'|', ('holiday_status_id.company_id', 'child_of', [user.company_id.id]),('holiday_status_id.company_id', 'parent_of', [user.company_id.id])]</field>
    </record>
</odoo>