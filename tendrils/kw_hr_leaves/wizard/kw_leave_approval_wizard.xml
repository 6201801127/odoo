<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="view_kw_leave_approval_wizard_form" model="ir.ui.view">
            <field name="name">view.kw_leave_approval_wizard.form</field>
            <field name="model">kw_leave_approval_wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Leave Approval " >  
                  
                    <sheet>
                        <div class="oe_title">
                            <h2><field name="leave_allocation_request_id" readonly="1"/></h2>
                        </div>
                        <group>
                            <group name="alloc_left_col">
                                
                                <field name="employee_id"   readonly="1"/>
                                <field name="holiday_status_id" readonly="1" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}" />

                                <field name="number_of_days" invisible="1"/>
                                <label for="number_of_days" string="Duration" />
                                <div>
                                    <field name="comp_off_allocation" attrs="{'invisible': [('attendance_id', '=',False)]}"  widget='radio' options="{'horizontal': true}"/> 

                                    <field name="number_of_days" attrs="{'invisible': [('attendance_id', '!=',False)]}" required="1" class="oe_inline" nolabel="1"  />
                                    <span class="ml8" attrs="{'invisible': [('attendance_id', '!=',False)]}">Days</span>
                                   
                                </div>

                            <field name="allocation_reason"  readonly="1" string="Reason" placeholder="Add a reason..."/>
                            <field name="project_name" readonly="1"/>
                            </group>
                            <group name="alloc_right_col" attrs="{'invisible': [('attendance_id', '=',False)]}" >
                                <field name="attendance_id" invisible="1"/>        
                                <field name="attendance_date" string="Off Day Entry Date" attrs="{'invisible': [('attendance_id', '=',False)]}"/>   
                                <field name="check_in_time" attrs="{'invisible': [('attendance_id', '=',False)]}" />     
                                <field name="check_out_time" attrs="{'invisible': [('attendance_id', '=',False)]}"/> 
                                <field name="worked_hours" string='Worked Hour (in hrs)' attrs="{'invisible': [('attendance_id', '=',False)]}" widget="float_time" />                       
                            </group>
                        </group>
                        <group >                     
                            <field name="forward_request"  string="Forward Request" attrs="{'invisible': [('action_type', '=','cancel')]}" /> 
                            <field name="forwarded_to" string="Forward To"  attrs="{'invisible': [('forward_request', '=', False)],'required': [('forward_request', '=', True)]}"  options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/> 
                    
                            <field name="authority_remark"  string="Remark" required="1" placeholder="Enter your remark..."/>
                        </group>
                    </sheet>

                    <footer>
                        <field name="action_type" invisible='1' />
                        <button string='Approve'  attrs="{'invisible': ['|',('forward_request', '=', True),('action_type', 'not in',['approve',False])]}" name="allocation_request_approve"   type="object" class="btn-success mr-2"   />

                        <button string='Reject' attrs="{'invisible': ['|',('forward_request', '=', True),('action_type', 'not in',['reject',False])]}"  name="allocation_request_reject" type="object"   class="btn font-weight-bold text-white btn-danger"   />

                        <button string='Forward'  attrs="{'invisible': ['|',('forward_request', '=', False),('action_type', 'not in',['forward',False])]}" name="allocation_request_forward" type="object"  class="btn font-weight-bold text-white btn-warning"   />

                        <button string='Cancel Request' attrs="{'invisible': [('action_type', '!=','cancel')]}" name="allocation_request_cancel" type="object"  class="btn font-weight-bold text-white btn-warning"   />

                        <button string="Close" class="btn-secondary" special="cancel"/>
                        
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- <act_window id="action_late_entry_approval_wizard"
		            name="Take Action"
		            src_model="kw_late_entry_take_action"
		            res_model="kw_late_entry_approval_wizard"
		            view_type="form" view_mode="form"
		            key2="client_action_multi" target="new"
		/> -->

        <record id="action_leave_approval_wizard_window" model="ir.actions.act_window">
            <field name="name">Take Action</field>
            <field name="res_model">kw_leave_approval_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_kw_leave_approval_wizard_form"/>
            <field name="target">new</field>
            <!-- <field name="context">{'default_leave_allocation_request_id': active_id}</field>     -->       
        </record>
        
    </data>
</odoo>
