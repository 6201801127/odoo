<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- explicit tree view definition Opening -->
        <record model="ir.ui.view" id="kw_leave_type_config_list">
            <field name="name">Leave Type Configuration</field>
            <field name="model">kw_leave_type_config</field>
            <field name="arch" type="xml">
                <tree>
                    <field name= "branch_id"/>
                    <field name= "leave_type_id"/>
                    <field name= "entitlement"/>
                    <field name= "avail_leave_within_cycle"/>
                    <field name= "applicable_for"/>
                    <!-- <field name= "carry_forward"/>
                    <field name= "encashable"/> -->
                    <field name= "exclude_holiday"/>
                    <field name="monthly_credit" />
                </tree>
            </field>
        </record>
        <!-- explicit tree view definition Ending -->

        <record model="ir.ui.view" id="kw_leave_type_config_form">
            <field name="name">Leave Type Configuration</field>
            <field name="model">kw_leave_type_config</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name= "branch_id" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                                <field name= "leave_type_id" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                            </group>
                            <group>
                                <field name= "description"/>
                            </group>
                        </group>

                        <group>
                            <group>
                                <field name ="entitlement" widget='radio' options="{'horizontal': true}"/>
                               

                                <field name= "avail_leave_within_cycle" />
                                <field name= "applicable_midjoinee" />
                                <field name= "mid_joinee_rule" attrs="{'invisible': [('applicable_midjoinee','!=', True)],'required': [('applicable_midjoinee','=', True)]}" />
                                <field name="monthly_credit" />
                            </group>
                            <group>
                                <field name= "applicable_for" widget='radio' options="{'horizontal': true}"/>
                                <!--  <field name= "absent_deduction"/>  -->
                                <field name= "service_days" string="Required Service Days"/>
                                <field name= "monthly_allowed_leave"/>
                                <field name= "exclude_holiday" string="Exclude Sandwich Rule"/>
                                <!-- <field name= "availed_in_notice_period" string="Can be Availed During Notice Period"/> -->
                            </group>
                        </group>

                        

                        <notebook >
                            <page string="Grade-wise Entitlement">
                                <group >

                                    <field name="grade_wise_leaves" string="Entitlements">
                                        <tree editable="buttom">
                                            <field name="grade_ids" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" />
                                            <field name="band_ids" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" />
                                            <field name="quantity"/>
                                        </tree>
                                    </field>

                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="kw_leave_type_config_search" model="ir.ui.view">
            <field name="name">Leave Type Configuration</field>
            <field name="model">kw_leave_type_config</field>
            <field name="arch" type="xml">
                <search string="Search">
                    <field name="branch_id" string="Branch" />
                    <field name="leave_type_id" string="Leave Type" />
                    <!-- <filter name="carry_forward" string="Carry Forward" domain="[('carry_forward','=',True)]"/> -->
                    <filter name="absent_deduction" string="Absent Deduction" domain="[('absent_deduction','=',True)]"/>
                    <filter name="exclude_holiday" string="Exclude Holiday" domain="[('exclude_holiday','=',True)]"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter name="branch_id" string="Branch" domain="[]" context="{'group_by':'branch_id'}"/>
                        <filter name="leave_type_id" string="Leave Type" domain="[]" context="{'group_by':'leave_type_id'}"/>
                    </group>
                </search>
            </field>
        </record>


        <!-- actions views Opening-->
        <record model="ir.actions.act_window" id="kw_leave_type_config_window">
            <field name="name">Leave Type Configuration</field>
            <field name="res_model">kw_leave_type_config</field>
            <field name="view_mode">tree,form</field>
        </record>
        <!-- actions views Ending-->

    </data>
</odoo>