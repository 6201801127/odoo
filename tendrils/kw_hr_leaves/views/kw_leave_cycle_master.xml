<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- explicit tree view definition Opening -->
        <record model="ir.ui.view" id="kw_leave_cycle_master_list">
            <field name="name">Leave Cycle Master</field>
            <field name="model">kw_leave_cycle_master</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="branch_id"/>
                    <field name="from_day"/>
                    <field name="from_month"/>
                    <field name="to_day"/>
                    <field name="to_month"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="kw_leave_cycle_period_master_list">
            <field name="name">Leave Cycle Period Master</field>
            <field name="model">kw_leave_cycle_master</field>
            <field name="priority">20</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name="branch_id"/>
                    <field name="from_date"/>
                    <field name="to_date"/>
                    <field name="cycle_period"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>
        <!-- explicit tree view definition Ending -->

        <record model="ir.ui.view" id="kw_leave_cycle_master_form">
            <field name="name">Leave Cycle Master</field>
            <field name="model">kw_leave_cycle_master</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button string="Create Cycle Period" name="generate_leave_cycle_period" type="object" class="btn-primary mr-2"
                        groups = "base.group_no_one" 
                        
                         />
                        
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" type="object" name="action_see_cycle_periods" icon="fa-hourglass">
                                <div class="o_stat_info">
                                    <field name="no_of_periods"/>
                                    <span class="o_stat_text">Cycle Periods</span>
                                </div>
                            </button>                            
                        </div>
                    
                        <group >                         
                            <group>
                                <field name="branch_id"  class="oe_inline" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}" required="1" />
                                <label for="from_month" string="From" />
                                <div>
                                    <field name="from_day" style="width: 25%" required="1"/>
                                    <field name="from_month" style="width: 25%" required="1"/>
                                </div>

                                <label for="to_month" string="To" />
                                <div>
                                    <field name="to_day" style="width: 25%" required="1"/>
                                    <field name="to_month" style="width: 25%" required="1"/>
                                </div>
                            </group>                          
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- actions views Opening-->
        <record model="ir.actions.act_window" id="kw_leave_cycle_master_window">
            <field name="name">Leave Cycle Master</field>
            <field name="res_model">kw_leave_cycle_master</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="domain">[('cycle_id','=',False)]</field>
        </record>
        <!-- actions views Ending-->

        <record model="ir.actions.act_window" id="kw_leave_cycle_periods_window">
            <field name="name">Leave Cycle Periods</field>
            <field name="res_model">kw_leave_cycle_master</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{"create": False}</field>
            <field name="domain">[('cycle_id', '!=', False)]</field>
        </record>

        <record id="kw_leave_cycle_periods_tree_action_view" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="kw_leave_cycle_period_master_list"/>
            <field name="act_window_id" ref="kw_leave_cycle_periods_window"/>
        </record>

        </data>
</odoo>