<?xml version='1.0' encoding='UTF-8' ?>
<odoo>

    <record id="hr_leave_type_form_view" model="ir.ui.view">
        <field name="name">kw.hr.leave.type.form</field>
        <field name="model">hr.leave.type</field>
        <field name="inherit_id" ref="hr_holidays.edit_holiday_status_form"/>
        <field name= "arch" type= "xml">
            <group name="description" position="before">
                <group name="leave_code" string="Leave Code">
                    <field name= "leave_code" style="width: 65%" required="1"/>
                    <field name="parent_leave_id" style="width: 65%" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                </group>
            </group>

            <field name="allocation_type" position="after">
                <field name= "is_comp_off" />
                <field name= "validity_days" string="Validity (in days)" attrs="{'invisible': [('is_comp_off','=',False)],'required': [('is_comp_off','=',True)]}"/>
                <field name= "for_notice_period"/>
                <field name= "for_probationary" />
                <field name= "employement_type_ids" widget="many2many_tags" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}" />
                <field name="allowing_notice_period_employees" />
            </field>

            <xpath expr="//group[@name='validation']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!-- <xpath expr="//group[@name='validity']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->

            <!-- <xpath expr="//field[@name='validity_start']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='validity_stop']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->

            <xpath expr="//field[@name='sequence']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='time_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='categ_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='request_unit']" position="attributes">
                <attribute name="groups">base.group_no_one</attribute>
            </xpath>

            <!-- <xpath expr="//button[@name='action_see_days_allocated']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->

            <xpath expr="//button[@name='action_see_group_leaves']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//group[@name='calendar']" position="attributes">
                <attribute name="string">Setting</attribute>
            </xpath>

            <xpath expr="//group[@name='calendar']" position="after">
                <group>
                    <group>
                        <field name= "carry_forward"/>
                        <field name= "carry_forward_percentage" attrs="{'invisible': [('carry_forward','!=', True)],'required': [('carry_forward','=', True)]}" />
                        <field name= "cf_less_than_year_percent" attrs="{'invisible': [('carry_forward','!=', True)]}"/>
                        <field name= "carry_forward_lapsed" attrs="{'invisible': [('carry_forward','!=', True)],'required': [('carry_forward','=', True)]}"/>
                    </group>
                    <group>
                        <field name= "encashable"/>
                        <field name= "encashable_percentage" attrs="{'invisible': [('encashable','!=', True)],'required': [('encashable','=', True)]}"/>
                        <field name= "en_less_than_year_percent" attrs="{'invisible': [('encashable','!=', True)]}"/>
                    </group>
                </group>
            </xpath>

        </field>
    </record>


    <record id="hr_leave_type_tree_view" model="ir.ui.view">
        <field name="name">kw.hr.leave.type.tree</field>
        <field name="model">hr.leave.type</field>
        <field name="inherit_id" ref="hr_holidays.view_holiday_status_normal_tree"/>
        <field name= "arch" type= "xml">

            <field name="display_name" position="after">
                <field name="leave_code"/>
            </field>

            <!-- <xpath expr="//field[@name='validity_start']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='validity_stop']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->

            <xpath expr="//field[@name='double_validation']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <field name="allocation_type" position="after">
                <field name= "carry_forward"/>
                <field name= "encashable"/>
            </field>

            <xpath expr="//tree" position="attributes">
                <attribute name="default_order">name asc</attribute>
            </xpath>

        </field>

    </record>
    <!-- <record id="hr_leave_type_search_view" model="ir.ui.view">
        <field name="name">kw.hr.leave.type.search</field>
        <field name="model">hr.leave.type</field>
        <field name="inherit_id" ref="hr_holidays.view_holidays_status_filter"/>
        <field name= "arch" type= "xml">
            <field name="name" position="after">
                <field name="kw_leave_type_master_id"/>
            </field>
        </field>
    </record> -->

    <record model="ir.ui.menu" id="hr_holidays.hr_holidays_status_menu_configuration">
        <field name="name">Leave Type</field>
    </record>

    <record model="ir.ui.menu" id="hr_holidays.menu_hr_holidays_my_leaves">
        <!-- <field name="groups_id" eval="[(6,0,[ref('hr_holidays.group_hr_holidays_manager')])]"/> -->
        <field name="groups_id" eval="[(4,ref('hr_holidays.group_hr_holidays_user')),(4,ref('base.group_user'))]"/>
    </record>

    <record id="kw_leaves_hr_leave_type" model="ir.ui.view">
        <field name="name">hr.leave.type.view.tree</field>
        <field name="model">hr.leave.type</field>
        <field name='priority' eval='99'></field>
        <field name="arch" type="xml">
            <tree default_order="name">
                <field name="name"/>
            </tree>
        </field>
    </record>
</odoo>