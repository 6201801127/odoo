<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data noupdate="1">
        <record id="kw_employee_covid_data_tree_view" model="ir.ui.view">
            <field name="name">Employee Covid Data</field>
            <field name="model">kw_employee_covid_data</field>
            <field name="type">tree</field>
            <field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <tree>

                    <field name="employee_id"/>
                    <field name="dose"/>
                    <field name="date" />
                    <field name="due_date" />
                    <field name="dose_1_document" filename="dose_1_file_name" widget="FieldBinary"/>
                    <field name="dose_1_file_name" invisible="1"/>
                    <field name="dose_2_document" filename="dose_2_file_name" widget="FieldBinary"/>
                    <field name="dose_2_file_name" invisible="1"/>
                    <field name='remark' />
                </tree>
            </field>
        </record>
        <record id="kw_employee_covid_data_form_view" model="ir.ui.view">
            <field name="name">Employee Covid Data</field>
            <field name="model">kw_employee_covid_data</field>
            <field name="type">form</field>
            <field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="employee_id" readonly="1"/>
                                <field name="department_id" readonly="1"/>
                                <field name="division" readonly="1"/>
                                <field name="section" readonly="1"/>
                                <field name="practise" readonly="1"/>
                            </group>
                            <group>
                                <field name="dose" widget="radio" options="{'horizontal': true}"/>
                                <field name="due_date" attrs="{'invisible': [('dose','in',['no_dose_taken','second_dose'])]}"/>
                                <field name="date" attrs="{'invisible': [('dose','in',['no_dose_taken','first_dose'])]}"/>
                                <field
                                    name="dose_1_document"
                                    attrs="{'invisible': [('dose','!=','first_dose')]}" filename="dose_1_file_name" widget="FieldBinary"/>
                                <field name="dose_1_file_name" invisible="1"/>
                                <field
                                    name="dose_2_document"
                                    attrs="{'invisible': [('dose','!=','second_dose')]}" filename="dose_2_file_name" widget="FieldBinary"/>
                                <field name="dose_2_file_name" invisible="1"/>

                                <field name='remark' attrs="{'invisible': [('dose','!=','no_dose_taken')]}" />

                                <p style="color:#fc0307;" attrs="{'invisible': [('dose','=','no_dose_taken')]}">
                                    <i attrs="{'invisible': [('dose','=','second_dose')]}">*Upload Your 1st Dose Certificate</i>
                                    <i attrs="{'invisible': [('dose','=','first_dose')]}">*Upload Your 2nd Dose Certificate</i>
                                </p>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="kw_employee_covid_data_search_view" model="ir.ui.view">
			<field name="model">kw_employee_covid_data</field>
			<field name="arch" type="xml">
				<search>
					<field name="employee_id" string="Name"/>
					<field name="department_id" string="Department"/>
					<field name="division" string="Division"/>
					<field name="section" string="Practice"/>
					<field name="practise" string="Section"/>
                    <field name="dose"/>
					<filter name="second_dose_due_date" string="Dose 2 Due date" date="due_date"/>
					<filter name="second_dose_date" string="Second Dose date" date="date"/>
					<filter string="Dose One" name="dose_one" domain="[('dose','=','first_dose')]"/>
					<filter string="Dose Two" name="dose_two" domain="[('dose','=','second_dose')]"/>
					<filter string="No dose" name="no_dose" domain="[('dose','=','no_dose_taken')]"/>
					
				</search>
			</field>
		</record>
        <record id="kw_employee_covid_data_action_window" model="ir.actions.act_window">
            <field name="name">Employee Covid Data</field>
            <field name="res_model">kw_employee_covid_data</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="kw_employee_covid_data_search_view"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Upload a new Employee Covid Data
                </p>
                
            </field>
        </record>

        <menuitem name="Employee Covid Data" id="kw_employee_covid_data_menu_block"  parent='hr.menu_human_resources_configuration'  
            action='kw_employee_covid_data_action_window' groups="hr.group_hr_manager" sequence='2000'
        />
        <!-- <menuitem name="Covid Data" id="kw_employee_covid_data_menu1" sequence='2000' parent='kw_employee_covid_data_menu'/> -->
        
    </data>
</odoo>