<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="assets_backend" name="Assets" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <script type="text/javascript" src="/kw_appraisal/static/src/js/custom_tree_view.js"></script>
            </xpath>
        </template>
        <!-- shared_increment_promotion tree view -->
        <record id="shared_increment_promotion_view_tree" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.tree</field>
            <field name="model">shared_increment_promotion</field>
            <field name="priority">100</field>
            <field name="arch" type="xml">
                <tree create='1'  editable='top'  decoration-danger="applied_eos == True  or last_working_day != False" decoration-info="amt_changed_by_hod == True or  changed_by_iaa == True"  decoration-success="revised_increment > 0 or revised_job_id !=False or revised_grade_id != False or  revised_band_id != False">
                    <field name="applied_eos" invisible='1'/>
                    <field name="last_working_day" invisible='1'/>
                    <field name="amt_changed_by_hod" invisible='1'/>
                    <field name="sbu_master_id" invisible='1' />
                    <field name="employee_id" invisible='1' />
                    <field name="state" invisible='1' />
                    <field name="send_to_chro" invisible='1' />
                    <field name="emp_code" class="o_fixed_column1" readonly='1'/>
                    <field name="name" string='Employee'  class="o_fixed_column2" readonly='1'/>
                    <field name="job_id" string='Designation' class="o_fixed_column3" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}"/>
                    <field name="date_of_joining" string='Joining Date' class="o_fixed_column4" readonly='1'/>
                    <field name="experience" class="o_fixed_column5" readonly='1'/>
                    <field name="grade_band" string='Grade/Band'  class="o_fixed_column6" readonly='1'/>
                    <field name="previous_increment"  class="o_fixed_column7" readonly='1' force_save='1'/>
                    <field name="previous_increment_amt" class="o_fixed_column8" sum='Total' readonly='1' force_save='1'/>
                    <field name="current_ctc" sum='Total'  class="o_fixed_column9" readonly='1' force_save='1'/>
                    <field name="level" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save='1'/>
                    <field name="department_id" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save='1'/>
                    <field name="division" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save='1'/>
                    <field name="budget_type" readonly='1' force_save='1'/>
                    <field name="sbu_name" readonly='1'/>
                    <field name="add_in_appraisal" class='apprausal_val_in_app' readonly='1' force_save='1'/>
                    <field name="primary_skill_id" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save='1'/>
                    <field name="total_final_score" class='apprausal_val' sum='Total' readonly='1' />
                    <field name="proposed_increment" class='apprausal_val' sum='Total' readonly='1' force_save='1'/>
                    <field name="actual_increment_percentage" force_save='1' class='default_amount'
                        sum='Total' readonly='1'/>
                    <field name="actual_increment_amount" force_save='1' class='default_amount'
                        sum='Total' readonly='1'/>
                    <field name="actual_ctc" force_save='1' class='default_amount' sum='Total' readonly='1'/>
                    <field name="hr_remark" force_save='1' widget="dynamic_popover_text"
                        class='font_bold' readonly='1'/>
                    <button name="action_btn_edit_by_hr" type="object" string=""
                        class='fa fa-pencil-square-o btn-lg'
                        attrs="{'invisible':[('status','!=','draft')]}" readonly='1'/>
                    <field name="hod_inc_auto" class='hod_fields' force_save='1' sum='Total' readonly='1'/>
                    <field name="hod_amount_auto" class='hod_fields' force_save='1' sum='Total' readonly='1'/>
                    <field name="hod_actual_ctc" class='hod_fields' force_save='1' sum='Total' readonly='1'/>
                    <field name="hod_remark" widget="dynamic_popover_text" class='font_bold' readonly='1' force_save='1'/>
                    <button name="action_btn_edit_by_hod" type="object" string=""
                        class='fa fa-pencil-square-o btn-lg'
                        attrs="{'invisible':[('status','!=','pending_at_hod')]}" />
                    <field name="chro_inc_auto" class='chro_fields' sum='Total' readonly='1' force_save='1'/>
                    <field name="chro_amount_auto" class='chro_fields' sum='Total' readonly='1' force_save='1'/>
                    <field name="chro_actual_ctc" class='chro_fields' sum='Total' readonly='1' force_save='1'/>
                    <field name="chro_remark" widget="dynamic_popover_text" class='font_bold' readonly='1' force_save='1'/>
                    <button name="action_btn_edit_by_chro" type="object" string=""
                        class='fa fa-pencil-square-o btn-lg'
                        attrs="{'invisible':[('send_to_chro','=',False)]}" />
                    <field name="ceo_remark" widget="dynamic_popover_text" class='font_bold' readonly='1' force_save='1'/>
                    <field name="new_job_id" readonly='1' options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save='1'/>
                    <field name="new_grade_band" readonly='1'/>
                    <field name="changed_by_iaa"  invisible='1' readonly='1'/>
                    <field name="status" readonly='1' force_save='1'/>
                    <field name="revised_increment" readonly='1' sum='Total' force_save='1'/>
                    <field name="revised_amount" readonly='1' sum='Total' force_save='1'/>
                    <field name="revised_ctc" readonly='1' sum='Total' force_save='1'/>
                    <field name="revised_job_id" readonly='1' force_save='1'/>
                    <field name="revised_grade_id" readonly='1' force_save='1'/>
                    <field name="revised_band_id" readonly='1' force_save='1'/>
                    <field name="revised_chro_remark"  readonly='1' widget="dynamic_popover_text"
                    class='font_bold'/>
                    <field name="revised_hr_remark"  readonly='1' widget="dynamic_popover_text"
                    class='font_bold'/>


                    <field name="check_manager_bool" invisible='1'/>
                    <field name="increment_effective_date" attrs="{'readonly':[('check_manager_bool','=',False)]}" force_save='1'/>
                    <field name="iaas_ids" widget="many2many_tags" readonly='1'/>
                    <button name="action_btn_hold" type="object" string=""
                    class='fa fa-pause btn-lg'
                    attrs="{'invisible':[('status','not in',('completed'))]}" />
                    <button name="action_btn_unhold" type="object" string=""
                    class='fa fa-play btn-lg'
                    attrs="{'invisible':[('status','not in',('hold'))]}" />
                    <button name="action_btn_edit_by_chro" type="object" string=""
                        class='fa fa-table btn-lg'
                        attrs="{'invisible':[('status','not in',('completed','mail_send','hold','resentdata_submitted_chro','resent_chro'))]}" />
                    <button name="action_btn_edit_by_hr_after_submit" type="object" string=""
                        class='fa fa-pencil-square-o btn-lg'
                        attrs="{'invisible':[('status','not in',('completed'))]}" groups='kw_appraisal.group_appraisal_manager'/>
                        <field name="increment_month" invisible="1" force_save='1'/>
                    <!-- <button name="action_btn_edit_by_chro" type="object" string=""
                        class='fa fa-table btn-lg'
                        attrs="{'invisible':[('status','not in',('resentdata_submitted_chro','resent_chro'))]}" groups="kw_appraisal.group_appraisal_chro"/> -->
                </tree>
            </field>
        </record>
        <record id="shared_increment_view_tree" model="ir.ui.view">
            <field name="name">shared_increment_view.view.tree</field>
            <field name="model">shared_increment_view</field>
            <field name="arch" type="xml">
                <tree create='0' edit='0' delete='0' decoration-danger="applied_eos == True or last_working_day != False" decoration-info="amt_changed_by_hod == True or changed_by_iaa == True" decoration-success="revised_increment > 0 or revised_job_id !=False or revised_grade_id != False or  revised_band_id != False">
                    <field name="amt_changed_by_hod" invisible='1'/>
                    <field name="applied_eos" invisible='1'/>
                    <field name="last_working_day" invisible='1'/>
                    <field name="sbu_master_id" invisible='1' />
                    <field name="employee_id" invisible='1' />
                    <field name="state" invisible='1' />
                    <field name="send_to_chro" invisible='1' />
                    <field name="emp_code" class="o_fixed_column1"/>
                    <field name="name" string='Employee' class="o_fixed_column2" />
                    <field name="job_id" string='Designation' class="o_fixed_column3"/>
                    <field name="date_of_joining" string='Joining Date' class="o_fixed_column4"/>
                    <field name="experience" class="o_fixed_column5"/>
                    <field name="grade_band" string='Grade/Band' class="o_fixed_column6"/>
                    <field name="previous_increment" class="o_fixed_column7"/>
                    <field name="previous_increment_amt" class="o_fixed_column8" sum='Total'/>
                    <field name="current_ctc" sum='Total'  class="o_fixed_column9"/>
                    <field name="level" />
                    <field name="department_id" />
                    <field name="division" />
                    <field name="budget_type" />
                    <field name="sbu_name" />
                    <field name="add_in_appraisal" class='apprausal_val_in_app' groups='kw_appraisal.group_appraisal_manager'/>
                    <field name="primary_skill_id" />
                    <field name="total_final_score" class='apprausal_val' sum='Total' />
                    <field name="proposed_increment" class='apprausal_val' sum='Total' />
                    <field name="actual_increment_percentage" force_save='1' class='default_amount'
                        sum='Total' />
                    <field name="actual_increment_amount" force_save='1' class='default_amount'
                        sum='Total' />
                    <field name="actual_ctc" force_save='1' class='default_amount' sum='Total' />
                    <field name="hr_remark" force_save='1' widget="dynamic_popover_text"
                        class='font_bold' />
                    <field name="hod_inc_auto" class='hod_fields' force_save='1' sum='Total' />
                    <field name="hod_amount_auto" class='hod_fields' force_save='1' sum='Total' />
                    <field name="hod_actual_ctc" class='hod_fields' force_save='1' sum='Total' />
                    <field name="hod_remark" widget="dynamic_popover_text" class='font_bold' />
                    <field name="chro_inc_auto" class='chro_fields' sum='Total' />
                    <field name="chro_amount_auto" class='chro_fields' sum='Total' />
                    <field name="chro_actual_ctc" class='chro_fields' sum='Total' />
                    <field name="chro_remark" widget="dynamic_popover_text" class='font_bold' />
                    <button name="action_btn_log" type="object" string=""
                        class='fa fa-list-alt btn-lg'
                        />
                    <field name="ceo_remark" widget="dynamic_popover_text" class='font_bold' />
                    <field name="new_job_id" />
                    <field name="new_grade_band" />
                    <field name="changed_by_iaa"  invisible='1'/>

                    <field name="status" />
                    <field name="increment_effective_date" />
                    <field name="iaas_ids" widget="many2many_tags"/>
                    <field name="revised_increment" readonly='1' sum='Total'/>
                    <field name="revised_amount" readonly='1' sum='Total'/>
                    <field name="revised_ctc" readonly='1' sum='Total'/>
                    <field name="revised_job_id" readonly='1'/>
                    <field name="revised_grade_id" readonly='1'/>
                    <field name="revised_band_id" readonly='1'/>
                    <field name="revised_chro_remark"  readonly='1' widget="dynamic_popover_text"
                    class='font_bold'/>
                    <field name="revised_hr_remark"  readonly='1' widget="dynamic_popover_text"
                    class='font_bold'/>
                    <field name="appraisal_doc_attach" widget="binary"/>
                </tree>
            </field>
        </record>

        <!-- shared_increment_promotion search view -->
        <record id="shared_increment_promotion_view_search" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.search</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <!-- Add your fields here -->
                    <field name="employee_id" string='Employee' />
                    <field name="last_working_day"/>
                    <field name="department_id" />
                    <field name="job_id" />
                    <field name="division" />
                    <field name="sbu_name" />
                    <field name="budget_type" />
                    <field name="primary_skill_id" />
                    <field name="status" />
                    <field name="gender" />
                    <field name="add_in_appraisal" />
                    <field name="sbu_master_id" />
                    <field name="hod_id" />
                    <field name="changed_by_iaa"/>
                    <filter name='in_appraisal' string='In Appraisal'
                        domain="[('add_in_appraisal','=','yes')]" />
                    <filter name='not_in_appraisl' string='Not In Appraisal'
                        domain="[('add_in_appraisal','=','no')]" />
                    <separator />
                    <filter name='changed_by_iaa' string='IAA Changed Increment'
                    domain="[('changed_by_iaa','=',True)]" />
                    <separator />
                    <filter name='only_increment' string='Only Increment'
                    domain="[('new_job_id','=',False),('chro_actual_ctc','>',0)]" />
                    <filter name='opromotion_increment' string='Increment with Promotion'
                    domain="[('new_job_id','!=',False),('chro_actual_ctc','>',0)]" />
                    <separator />
                    <filter name='pending_at_hr' string='Draft' domain="[('status','=','draft')]" />
                    <filter name='pending_at_hod' string='Pending at IAA'
                        domain="[('status','=','pending_at_hod')]" />
                    <filter name='pending_at_chro' string='Pending at CHRO'
                        domain="[('status','=','pending_at_chro')]" />
                    <filter name='pending_at_ceo' string='Pending at CEO'
                        domain="[('status','=','pending_at_ceo')]" />
                    <filter name='completed' string='Completed'
                        domain="[('status','=','completed')]" />
                    <filter name='mail_sent' string='Mail Sent'
                        domain="[('status','=','mail_send')]" />
                    <filter name='hold' string='Hold'
                        domain="[('status','=','hold')]" />
                    <filter name='resend_to_chro' string='Resent To CHRO'
                        domain="[('status','=','resent_chro')]" />
                    <filter name='resentdata_submitted_chro' string='Resent Data Submitted By CHRO'
                        domain="[('status','=','resentdata_submitted_chro')]" />
                    <filter name='settle' string='Settled'
                        domain="[('status','=','settle')]" />
                    <separator />
                    <!-- <filter string="Ex-Employee" domain="[('last_working_day','!=',False)]" name="last_month_beverage"/> -->
					<filter string="Resigned Employee" name="resigned_employee" domain="[('applied_eos','=',True)]"/>
                    <separator/>
                    <filter string="This Year" domain="[('increment_effective_date', 'like', context_today().strftime('%Y'))]" name="current_year"/>

                    <separator />

                    <filter string="Last Month" domain="[('increment_effective_date','&gt;',(context_today()-relativedelta(months=1)).strftime('%Y-%m-01')),('increment_effective_date','&lt;',(context_today()).strftime('%Y-%m-01'))]" name="last_month_beverage"/>
                    <filter string="This Month" domain="[('increment_effective_date', 'like',context_today().strftime('%Y-%m'))]" name="this_month_beverage"/>
                    <separator />
                    <filter string="January" domain="[('increment_month','=',1)]" name="january_end_date"/>
                    <filter string="February" domain="[('increment_month','=',2)]" name="february_end_date"/>
                    <filter string="March" domain="[('increment_month','=',3)]" name="march_end_date"/>
                    <filter string="April" domain="[('increment_month','=',4)]" name="april_end_date"/>
                    <filter string="May" domain="[('increment_month','=',5)]" name="may_end_date"/>
                    <filter string="June" domain="[('increment_month','=',6)]" name="june_end_date"/>
                    <filter string="July" domain="[('increment_month','=',7)]" name="july_end_date"/>
                    <filter string="August" domain="[('increment_month','=',8)]" name="august_end_date"/>
                    <filter string="September" domain="[('increment_month','=',9)]" name="september_end_date"/>
                    <filter string="October" domain="[('increment_month','=',10)]" name="october_end_date"/>
                    <filter string="November" domain="[('increment_month','=',11)]" name="november_end_date"/>
                    <filter string="December" domain="[('increment_month','=',12)]" name="december_end_date"/>
                    <group expand="0" string="Group By">
                        <filter string="Period" name="group_period" domain="[]"
                            context="{'group_by':'period_id'}" />
                        <filter string="Department" name="group_department_id" domain="[]"
                            context="{'group_by':'department_id'}"
                        />
                        <filter string="Division" name="group_division" domain="[]"
                            context="{'group_by':'division'}"
                        />
                        <filter string="Designation" name="group_job_id" domain="[]"
                            context="{'group_by':'job_id'}"
                        />
                        <filter string="Budget Type" name="group_budget_type" domain="[]"
                            context="{'group_by':'budget_type'}"
                        />
                        <filter string="SBU" name="group_sbu_name" domain="[]"
                            context="{'group_by':'sbu_master_id'}"
                        />
                        <filter string="IAA" name="group_hod" domain="[]"
                            context="{'group_by':'hod_id'}"
                        />
                        <filter string="Gender" name="group_gender" domain="[]"
                            context="{'group_by':'gender'}" />
                        <filter string="Status" name="group_status" domain="[]"
                            context="{'group_by':'status'}" />
                        <filter string="Grade" name="group_grade" domain="[]"
                            context="{'group_by':'grade_id'}" />
                    </group>
                </search>
            </field>
        </record>
        <record id="shared_increment_view_view_search" model="ir.ui.view">
            <field name="name">shared_increment_view.view.search</field>
            <field name="model">shared_increment_view</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <!-- Add your fields here -->
                    <field name="employee_id" string='Employee' />
                    <field name="last_working_day"/>
                    <field name="department_id" />
                    <field name="job_id" />
                    <field name="division" />
                    <field name="sbu_name" />
                    <field name="budget_type" />
                    <field name="primary_skill_id" />
                    <field name="status" />
                    <field name="gender" />
                    <field name="add_in_appraisal" />
                    <field name="sbu_master_id" />
                    <field name="hod_id" />
                    <field name="changed_by_iaa"/>
                    <filter name='in_appraisal' string='In Appraisal'
                        domain="[('add_in_appraisal','=','yes')]" />
                    <filter name='not_in_appraisl' string='Not In Appraisal'
                        domain="[('add_in_appraisal','=','no')]" />
                    <separator />
                    <filter name='changed_by_iaa' string='IAA Changed Increment'
                    domain="[('changed_by_iaa','=',True)]" />
                    <separator />
                    <filter name='only_increment' string='Only Increment'
                    domain="[('new_job_id','=',False),('chro_actual_ctc','>',0)]" />
                    <filter name='opromotion_increment' string='Increment with Promotion'
                    domain="[('new_job_id','!=',False),('chro_actual_ctc','>',0)]" />
                    <separator />
                    <filter name='pending_at_hr' string='Draft' domain="[('status','=','draft')]" />
                    <filter name='pending_at_hod' string='Pending at IAA'
                        domain="[('status','=','pending_at_hod')]" />
                    <filter name='pending_at_chro' string='Pending at CHRO'
                        domain="[('status','=','pending_at_chro')]" />
                    <filter name='pending_at_ceo' string='Pending at CEO'
                        domain="[('status','=','pending_at_ceo')]" />
                    <filter name='completed' string='Completed'
                        domain="[('status','=','completed')]" />
                    <filter name='mail_sent' string='Mail Sent'
                        domain="[('status','=','mail_send')]" />
                    <filter name='hold' string='Hold'
                        domain="[('status','=','hold')]" />
                        <filter name='resend_to_chro' string='Resent To CHRO'
                        domain="[('status','=','resent_chro')]" />
                    <filter name='resentdata_submitted_chro' string='Resent Data Submitted By CHRO'
                        domain="[('status','=','resentdata_submitted_chro')]" />
                    <filter name='settle' string='Settled'
                        domain="[('status','=','settle')]" />
                    <separator />
                    <filter string="Ex-Employee" domain="[('last_working_day','!=',False)]" name="last_month_beverage"/>
					<filter string="Resigned Employee" name="resigned_employee" domain="[('applied_eos','=',True)]"/>
                    <separator />
                    <filter string="This Year" domain="[('increment_effective_date', 'like', context_today().strftime('%Y'))]" name="current_year"/>
                    <separator/>

                    <filter string="Last Month" domain="[('increment_effective_date','&gt;',(context_today()-relativedelta(months=1)).strftime('%Y-%m-01')),('increment_effective_date','&lt;',(context_today()).strftime('%Y-%m-01'))]" name="last_month_beverage"/>
                    <filter string="This Month" domain="[('increment_effective_date', 'like',context_today().strftime('%Y-%m'))]" name="this_month_beverage"/>
                    <separator />
                    <filter string="January" domain="[('increment_month','=',1)]" name="january_end_date"/>
                    <filter string="February" domain="[('increment_month','=',2)]" name="february_end_date"/>
                    <filter string="March" domain="[('increment_month','=',3)]" name="march_end_date"/>
                    <filter string="April" domain="[('increment_month','=',4)]" name="april_end_date"/>
                    <filter string="May" domain="[('increment_month','=',5)]" name="may_end_date"/>
                    <filter string="June" domain="[('increment_month','=',6)]" name="june_end_date"/>
                    <filter string="July" domain="[('increment_month','=',7)]" name="july_end_date"/>
                    <filter string="August" domain="[('increment_month','=',8)]" name="august_end_date"/>
                    <filter string="September" domain="[('increment_month','=',9)]" name="september_end_date"/>
                    <filter string="October" domain="[('increment_month','=',10)]" name="october_end_date"/>
                    <filter string="November" domain="[('increment_month','=',11)]" name="november_end_date"/>
                    <filter string="December" domain="[('increment_month','=',12)]" name="december_end_date"/>
                    <group expand="0" string="Group By">
                        <filter string="Period" name="group_period" domain="[]"
                            context="{'group_by':'period_id'}" />
                        <filter string="Department" name="group_department_id" domain="[]"
                            context="{'group_by':'department_id'}"
                        />
                        <filter string="Division" name="group_division" domain="[]"
                            context="{'group_by':'division'}"
                        />
                        <filter string="Designation" name="group_job_id" domain="[]"
                            context="{'group_by':'job_id'}"
                        />
                        <filter string="Budget Type" name="group_budget_type" domain="[]"
                            context="{'group_by':'budget_type'}"
                        />
                        <filter string="SBU" name="group_sbu_name" domain="[]"
                            context="{'group_by':'sbu_master_id'}"
                        />
                        <filter string="IAA" name="group_hod" domain="[]"
                            context="{'group_by':'hod_id'}"
                        />
                        <filter string="Gender" name="group_gender" domain="[]"
                            context="{'group_by':'gender'}" />
                        <filter string="Status" name="group_status" domain="[]"
                            context="{'group_by':'status'}" />
                        <filter string="Grade" name="group_grade" domain="[]"
                            context="{'group_by':'grade_id'}" />
                    </group>
                </search>
            </field>
        </record>

        <record id="action_download_appraisal_pdf" model="ir.actions.server">
            <field name="name">Download Appraisal PDF</field>
            <field name="model_id" ref="model_shared_increment_promotion" />
            <field name="state">code</field>
            <field name="code">
                action = model.download_appraisal_pdf()
            </field>
        </record>

        <record id="shared_increment_promotion_action_win" model="ir.actions.act_window">
            <field name="name">Increment &amp; Promotion Take Action</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">shared_increment_promotion</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="shared_increment_promotion_view_tree"/>
            <field name="context">{'hod':1}</field>
            <field name="domain">[('last_working_day','=',False),('date_of_joining','&lt;','2024-04-01')]</field>
        </record>
        <record id="promotion_inc_view_only_action" model="ir.actions.act_window">
            <field name="name">Increment &amp; Promotion View</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">shared_increment_view</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="shared_increment_view_tree"/>
            <field name="domain">[('date_of_joining','&lt;','2024-04-01')]</field>
        </record>
        

        <!-- This Menu Item must have a parent and an action -->
        <menuitem id="shared_increment_promotion" name="Increment &amp; Promotion"
            parent="menu_hr_appraisal_root"
            sequence="3" groups='kw_appraisal.group_appraisal_increment_promotion,kw_appraisal.group_appraisal_manager,kw_appraisal.group_appraisal_chro,kw_appraisal.group_appraisal_ceo,kw_appraisal.group_appraisal_iaa' />
        <menuitem id="promotion_view_menu" name="View"
            parent="shared_increment_promotion" action="promotion_inc_view_only_action"
            sequence="1" groups='kw_appraisal.group_appraisal_manager,kw_appraisal.group_appraisal_chro,kw_appraisal.group_appraisal_ceo,kw_appraisal.group_appraisal_iaa'/>
        <menuitem id="shared_increment_promotion_take_action" name="Take Action"
            parent="shared_increment_promotion" action="shared_increment_promotion_action_win"
            sequence="2" groups='kw_appraisal.group_appraisal_increment_promotion,kw_appraisal.group_appraisal_manager,kw_appraisal.group_appraisal_chro,kw_appraisal.group_appraisal_ceo,kw_appraisal.group_appraisal_iaa'/>

        <record id="increment_promotion_log_action" model="ir.actions.act_window">
            <field name="name">increment_promotion_log.action</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">increment_promotion_log</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
        </record>
        <!-- <menuitem id="appraisal_log" name="Appraisal Log"
            parent="kw_appraisal.menu_hr_appraisal" action="increment_promotion_log_action"
            sequence="75" /> -->
        <!-- increment_promotion_details form view -->
        <record id="increment_promotion_hr_details_view_form" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="actual_ctc" invisible='1' />
                                <field name="actual_increment_percentage" />
                                <field name="actual_increment_amount" readonly='1' force_save='1' />
                            </group>
                            <group>
                                <field name="new_job_id"
                                    options="{'no_open': True,'no_create':True,'no_edit':True}"
                                />
                                <field name="new_grade_id"
                                    options="{'no_open': True,'no_create':True,'no_edit':True}"
                                />
                                <field name="new_band_id"
                                options="{'no_open': True,'no_create':True,'no_edit':True}" attrs="{'required':[('new_grade_id','!=',False)]}"
                            />
                            </group>
                        </group>
                        <group>
                            <field name="jd" widget="html" options="{'editable': False}"/>
                        </group>
                        <group>
                            <field name="hr_remark" required='1' />
                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                    <footer>
                        <center>
                            <field name="status" invisible='1' />
                            <button name="action_btn_submit_by_hr" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                class='btn-lg'   attrs="{'invisible':[('status','!=','draft')]}"
                                groups="kw_appraisal.group_appraisal_manager" />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                attrs="{'invisible':[('status','!=','draft')]}"
                                groups="kw_appraisal.group_appraisal_manager" />
                        </center>
                    </footer>
                </form>
            </field>
        </record>
        <record id="increment_promotion_details_hod_view_form" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="hod_actual_ctc" invisible='1' />
                                <field name="hod_inc_auto" force_save='1' />
                                <field name="hod_amount_auto" readonly='1' force_save='1' />
                            </group>
                            <group>
                                <field name="new_job_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_grade_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>

                            </group>
                        </group>
                        <group>
                            <field name="jd" widget="html" options="{'editable': False}"/>
                        </group>
                        <group>
                            <field name="hod_remark" required='1' />
                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                    <footer>
                        <center>
                            <field name="check_hod_bool" invisible='1' />
                            <field name="status" invisible='1' />
                            <button name="action_button_hod_submit" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                class='btn-lg'
                                attrs="{'invisible':['|',('status','!=','pending_at_hod'),('check_hod_bool','=',False)]}" />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                attrs="{'invisible':['|',('status','!=','pending_at_hod'),('check_hod_bool','=',False)]}" />
                        </center>
                    </footer>
                </form>
            </field>
        </record>
        <record id="increment_promotion_details_chro_view_form" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="chro_actual_ctc" invisible='1' />
                                <field name="chro_inc_auto" force_save='1' />
                                <field name="chro_amount_auto" readonly='1' force_save='1' />
                            </group>
                            <group>
                                <field name="new_job_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_grade_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <group>
                            <field name="jd" widget="html" options="{'editable': False}"/>
                        </group>
                        <group>
                            <field name="chro_remark" required='1' />
                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                    <footer>
                        <center>
                            <button name="action_button_chro_submit" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                class='btn-lg' groups='kw_appraisal.group_appraisal_chro' />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                groups='kw_appraisal.group_appraisal_chro' />
                        </center>
                    </footer>
                </form>
            </field>
        </record>
        <record id="increment_promotion_details_ceo_view_form" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="chro_actual_ctc" invisible='1' />
                                <field name="chro_inc_auto" force_save='1' />
                                <field name="chro_amount_auto" readonly='1' force_save='1' />
                            </group>
                            <group>
                                <field name="new_job_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_grade_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="new_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <group>
                            <field name="jd" widget="html" options="{'editable': False}"/>
                        </group>
                        <group>
                            <field name="ceo_remark" required='1' />
                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>


                    <footer>
                        <center>
                            <field name="status" invisible='1' />
                            <button name="action_button_ceo_submit" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                class='btn-lg' groups='kw_appraisal.group_appraisal_ceo'
                                attrs="{'invisible':[('status','!=','pending_at_ceo')]}" />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                groups='kw_appraisal.group_appraisal_ceo'
                                attrs="{'invisible':[('status','!=','pending_at_ceo')]}" />
                        </center>
                    </footer>
                </form>
            </field>
        </record>
        <record id="change_increment_promotion_form" model="ir.ui.view">
            <field name="name">change_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="chro_actual_ctc" invisible='1' />
                                <field name="chro_inc_auto" force_save='1' />
                                <field name="chro_amount_auto" readonly='1' force_save='1' />
                            </group>
                            <group>
                                <field name="new_job_id"
                                    options="{'no_open': True,'no_create':True,'no_edit':True}"
                                />
                                <field name="new_grade_id"
                                    options="{'no_open': True,'no_create':True,'no_edit':True}"
                                />
                                <field name="new_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                        </group>
                        <group>
                            <field name="jd" widget="html" options="{'editable': False}"/>
                            <field name="jd_boolean" string='Enable JD'/>
                        </group>
                        <group>
                            <field name="hr_remark" required='1' />
                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                    <footer>
                        <center>
                            <field name="status" invisible='1' />
                            <button name="action_btn_submit_by_hr_after_ceo_submit" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                attrs="{'invisible':[('status','not in',('completed','mail_send','hold'))]}"
                                groups="kw_appraisal.group_appraisal_manager" />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                attrs="{'invisible':[('status','not in',('completed','mail_send','hold'))]}"
                                groups="kw_appraisal.group_appraisal_manager" />
                        </center>
                    </footer>
                </form>
            </field>
        </record>

        <record id="increment_promotion_log_details_view_form" model="ir.ui.view">
            <field name="name">log_details_view_form.view.form</field>
            <field name="model">shared_increment_view</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="increment_promotion_resend_mail_view_form" model="ir.ui.view">
            <field name="name">shared_increment_promotion.view.form</field>
            <field name="model">shared_increment_promotion</field>
            <field name="arch" type="xml">
                <form string="">
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1)
                        th{background-color:#108fbb !important;color:#fff}
                        .o_form_view .o_group.o_inner_group > tbody > tr > td.o_td_label {
                        border-color:#108fbb !important}
                        .table-responsive .o_list_view tfoot tr:nth-child(1) td
                        {background-color:#108fbb !important}

                    </style>
                    <sheet>
                        <group>
                            <group>
                                <field name="current_ctc" invisible='1' />
                                <field name="chro_actual_ctc" invisible='1' />
                                <field name="chro_inc_auto" force_save='1' readonly="1" />
                                <field name="chro_amount_auto" readonly='1' force_save='1' />
                                <br></br>
                                <field name="revised_increment" force_save="1"/>
                                <field name="revised_amount" force_save="1" readonly='1'/>
                                <field name="revised_ctc" readonly='1' force_save='1'/>
                            </group>
                            <group>
                                <field name="new_job_id" options="{'no_open': True,'no_create':True,'no_edit':True}" readonly="1"/>
                                <field name="new_grade_id" options="{'no_open': True,'no_create':True,'no_edit':True}" readonly="1"/>
                                <field name="new_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}" readonly="1"/>
                                <br></br>
                                <field name="revised_job_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                <field name="revised_grade_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                <field name="revised_band_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                            </group>
                        </group>
                        <group>
                            <field name="revised_jd" widget="html" options="{'editable': False}"/>
                            <field name="revised_jd_boolean" string='Enable Revised JD'/>
                        </group>
                        <group>
                            <field name="revised_chro_remark"  groups='kw_appraisal.group_appraisal_chro'/>
                            <field name="revised_hr_remark"  groups='kw_appraisal.group_appraisal_manager'/>

                        </group>
                        <field name="appraisal_log_ids" style="pointer-events:none;">
                            <tree create='0' delete='0' edit='0'>
                                <field name="appraisal_id" invisible='1' />
                                <field name="create_date" string='Revised On' />
                                <field name="employee_id" string='Revised By' />
                                <field name="old_inc_auto" />
                                <field name="new_inc_ctc" />
                                <field name="old_revised_inc_auto"/>
                                <field name="revised_inc_ctc"/>
                                <field name="remark" />
                                <field name="edit_by" />
                            </tree>
                            <form create='0' delete='0' edit='0'>
                                <group readonly='1'>
                                    <field name="appraisal_id" invisible='1' />
                                    <field name="create_date" string='Revised On' />
                                    <field name="employee_id" string='Revised By'
                                        options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                    <field name="old_inc_auto" />
                                    <field name="new_inc_ctc" />
                                    <field name="old_revised_inc_auto"/>
                                    <field name="revised_inc_ctc"/>
                                    <field name="remark" />
                                </group>
                            </form>
                        </field>
                    </sheet>
                    <footer>
                        <center>
                            <button name="action_btn_submit_by_hr" type="object" string="Submit"
                                style="background-color:#108fbb !important;color:#fff"
                                class='btn-lg' groups='kw_appraisal.group_appraisal_chro,kw_appraisal.group_appraisal_manager' />
                            <button string="Cancel" class="btn-secondary btn-danger btn-lg"
                                special="cancel" style="margin-left:10px"
                                groups='kw_appraisal.group_appraisal_chro,kw_appraisal.group_appraisal_manager' />
                        </center>
                    </footer>
                </form>
            </field>
        </record>

        
        <record id="published_appraisal_act_window" model="ir.actions.act_window">
            <field name="name">Published Appraisal</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">shared_increment_promotion</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="shared_increment_promotion_view_tree"/>
            <field name="context">{'published':1}</field>
            <field name="domain">[('status','in', ('mail_send','resentdata_submitted_chro'))]</field>
        </record>

        <menuitem id="published_mail__hr_appraisal_details_menu" name="Revised Increment"
        parent="shared_increment_promotion" action="published_appraisal_act_window"
        sequence="10" groups="kw_appraisal.group_appraisal_manager"/>

        <record id="published_appraisal_chro_act_window" model="ir.actions.act_window">
            <field name="name">Published Appraisal</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">shared_increment_promotion</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="shared_increment_promotion_view_tree"/>
            <field name="context">{'published':1}</field>
            <field name="domain">[('status','=', 'resent_chro')]</field>
        </record>

        <menuitem id="published_mail_chro_details_menu" name="Revised Increment"
        parent="shared_increment_promotion" action="published_appraisal_chro_act_window"
        sequence="10" groups="kw_appraisal.group_appraisal_chro"/>


    </data>
</odoo>
