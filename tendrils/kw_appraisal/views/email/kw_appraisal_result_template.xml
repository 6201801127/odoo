<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
       <record id="kw_appraisal_result_email_template" model="mail.template">
            <field name="name">Appraisal Result e-mail template</field>
            <field name="email_from">${(user.email or '')|safe}</field>
            <field name="subject">Appraisal Result | FY ${object.appraisal_year}</field>
            <field name="email_to">${object.emp_id.work_email}</field>
            <field name="model_id" ref="kw_appraisal.model_hr_appraisal"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Dear</span>
                                        ${object.emp_id.name},
                                    </h5>
                                    %if object.new_designation:
                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        We are happy to inform you that based on your Appraisal score and contribution towards the growth and success of the organisation, your salary has been incremented and promoted to a new job role, effective from <b>April ${ctx['current_year']}</b>.
                                     </p>
                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please find below your new Salary and Designation.
                                    </p>
                                    %else:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        We are happy to inform you that based on your Appraisal score and contribution towards the growth and success of the organisation, your salary has been incremented, effective from <b>April ${ctx['current_year']}</b>.
                                     </p>
                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please find below your new Salary.
                                    </p>
                                    %endif
                                </div>
                                
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <table border="1" style="border-collapse: collapse;font-size: 16px; width:100%" cellspacing="0" cellpadding="5">
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;width:40%">
                                               Present CTC (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;width:60%">
                                                ${ctx['current_ctc']} INR
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                Increment (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${ctx['increment_per_month']} INR
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New CTC (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${ctx['new_ctc_per_annum']} INR
                                            </td>
                                        </tr>
                                        %if object.new_designation:
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                Current Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.deg_id}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.new_designation.name}
                                            </td>
                                        </tr>
                                        %endif
                                        %if object.new_grade:
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New Grade
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.new_grade.name}
                                            </td>
                                        </tr>
                                        %endif
                                        %if ctx.get('jd'):
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                JD of New Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${(ctx.get('jd','') or '-') | safe}
                                            </td>
                                        </tr>
                                        %endif
                                    </table>
                                </div>

                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    %if not object.new_designation:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        We appreciate your hard work and commitment to CSM for the past ${ctx['experience']}.
                                    </p>
                                    %endif
                                    
                                    %if object.new_designation:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Your new role is a testament to your hard work and dedication, and we're excited to see you excel in it.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        All the other terms and conditions of your appointment letter will remain unchanged.
                                    </p>
                                    %endif

                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please click here to see your Appraisal score and feedback.
                                    </p>
                                    <div style="margin: 16px 0px 16px 0px;">
                                        <a href="${object.get_current_url()}" style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                                            Click Here
                                        </a>
                                    </div>

                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Best wishes and congratulations!
                                    </p>

                                </div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>
       

        <record id="kw_shared_appraisal_result_email_template" model="mail.template">
            <field name="name">Appraisal Result e-mail template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Appraisal Result | FY ${object.period_id.assessment_period}</field>
            <field name="email_to">${object.employee_id.work_email}</field>
            <field name="model_id" ref="kw_appraisal.model_shared_increment_promotion"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Dear</span>
                                        ${object.employee_id.name},
                                    </h5>
                                    %if not object.new_job_id:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        We appreciate your hardwork and commitment to CSM for the past ${ctx['experience']}.
                                    </p>
                                    %endif
                                    %if object.new_job_id:

                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        We are happy to inform you that, considering your Appraisal score and valuable contributions to the CSM's growth and success, you have been promoted to a new designation and your salary has been incremented, effective from <b>${format_tz(ctx['effective_date'], format="%d-%b-%Y")}</b>. 
                                     </p>
                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Below are the details of your new designation and salary:
                                    </p>
                                    %else:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Please be informed that, considering your Appraisal score and contributions to CSM's growth and success, your salary has been incremented, effective from <b>${format_tz(ctx['effective_date'], format="%d-%b-%Y")}</b>.
                                    </p>
                                     </p>
                                     <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Below are the details of your new salary.
                                    </p>
                                    %endif
                                </div>
                                
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <table border="1" style="border-collapse: collapse;font-size: 16px; width:100%" cellspacing="0" cellpadding="5">
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;width:40%">
                                               Present CTC (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;width:60%">
                                                ${ctx['current_ctc'][:-7]} ${ctx['current_ctc'][-3:]} 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                Increment (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${ctx['increment_per_month'][:-7]} ${ctx['increment_per_month'][-3:]} 
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New CTC (Annum)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${ctx['new_ctc_per_annum'][:-7]} ${ctx['new_ctc_per_annum'][-3:]} 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New CTC (Monthly)
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${ctx['increment_monthly'][:-7]} ${ctx['new_ctc_per_annum'][-3:]} 
                                            </td>
                                        </tr>
                                        %if object.new_job_id:
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                Current Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.job_id.name}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.new_job_id.name}
                                            </td>
                                        </tr>
                                        %endif
                                        %if object.new_grade_id:
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                New Grade
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${object.new_grade_id.name}
                                            </td>
                                        </tr>
                                        %endif
                                        %if ctx.get('jd'):
                                        <tr>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                JD of New Designation
                                            </td>
                                            <td style="font-weight:700;color:#676767;height: 34px;">
                                                ${(ctx.get('jd','') or '-') | safe}
                                            </td>
                                        </tr>
                                        %endif
                                    </table>
                                </div>

                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    %if object.new_job_id:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        All the terms and conditions outlined in your initial appointment letter will remain unchanged.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">Congratulations once again on this well-deserved recognition!</p>
                                    %endif
                                    %if object.appraisal_id:
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Your final appraisal score is updated in Tendrils. Please click here to see your Appraisal score and feedback.
                                    </p>
                                    <div style="margin: 16px 0px 16px 0px;">
                                        <a href="${object.appraisal_id.get_current_url()}" style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                                            Click Here
                                        </a>
                                    </div>
                                    %endif
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                        Best wishes and congratulations!
                                    </p>

                                    <br/><br/>
                                        <p style="color: #676767;font-size: 14px;">This is a system generated mail. Please Do not reply to this mail.</p>
                                </div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>
        <record id="appraisal_review_email_template" model="mail.template">
            <field name="name">Appraisal Review e-mail template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">${ctx['subject']}</field>
            <field name="email_to">${ctx['mail_id']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="model_id" ref="kw_appraisal.model_shared_increment_promotion"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Dear ${ctx['mail_user']}</span>,
                                    </h5>
                                    %if ctx['send_by'] == 'hr':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">Please review the  increment details based on the Appraisal score and share any suggested changes at your earliest convenience.<br/>Your prompt feedback is appreciated.</p>
                                    %elif ctx['send_by'] == 'hod':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">IAA (Increment Approval Authority) has updated their increment inputs in Tendrils. Kindly review and take necessary action on these recommendations at your earliest convenience.</p>
                                    %elif ctx['send_by'] == 'chro':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">CHRO has approved the inputs in Tendrils. Kindly review and take necessary action on these recommendations at your earliest convenience.</p>
                                    %elif ctx['send_by']  == 'ceo':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">The department increment details have been reviewed and approved by CEO.
                                        </p>
                                    %elif ctx['send_by'] == 'hr_chro':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">Please review the revised Promotion.Your approval at the earliest convenience is requested.</p><br/>

                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">Thanks & Regards<br/>
                                        PMS Team</p>
                                    %endif
                                </div>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>
    </data>
    
</odoo>
