<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data noupdate="0">
		<!-- model.name tree view -->
		<record id="kw_appraisal_goal_form" model="ir.ui.view">
			<field name="name">Appraisal goal form</field>
			<field name="model">kw_appraisal_goal</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<label for="appraisal_period" class="oe_edit_only"/>
						<h1>
							<field name="appraisal_period" class="oe_inline" placeholder="Appraisal period" options="{'no_create': True, 'no_open': True, 'no_create_edit': True}"/>
						</h1>
						<group>
							<group>
								<field name="name"/>
							</group>
							<group>
								<field name="employee_id" options="{'no_create': True, 'no_open': True, 'no_create_edit': True}"/>
								<field name="emp_deg" readonly="1" options="{'no_create': True, 'no_open': True, 'no_create_edit': True}" attrs="{'invisible': ['|',('employee_id','=', False),('emp_deg','=', False)]}"/>
							</group>
						</group>
						<group string="Milestone">
							<field name="milestone_id" string="Milestone">
								<tree>
									<field name="name"/>
									<field name="milestone_date"/>
									<field name="status"/>
								</tree>
							</field>
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<record id="kw_appraisal_goal_tree" model="ir.ui.view">
			<field name="name">Appraisal goal tree</field>
			<field name="model">kw_appraisal_goal</field>
			<field name="arch" type="xml">
				<tree>
					<field name="appraisal_period" class='text-info font-weight-bold'/>
					<field name="employee_id"/>
					<field name="emp_deg"/>
					<field name="name"/>
					<field name="milestone_id"/>
				</tree>
			</field>
		</record>

		<!-- model.name form view -->
		<record id="kw_appraisal_goal_actions" model="ir.actions.act_window">
			<field name="name">Goal and Milestones</field>
			<field name="res_model">kw_appraisal_goal</field>
			<field name="view_mode">tree,form</field>
			<field name="view_type">form</field>
		</record>

		<record id="kw_appraisal_milestone_form" model="ir.ui.view">
			<field name="name">Appraisal milestone form</field>
			<field name="model">kw_appraisal_milestone</field>
			<field name="arch" type="xml">
				<form string="">
					<sheet>
						<group>
							<field name="name"/>
							<field name="milestone_date"/>
							<field name="status"/>
							<field name="remark"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<record id="kw_appraisal_milestone_tree" model="ir.ui.view">
			<field name="name">Appraisal milestone tree</field>
			<field name="model">kw_appraisal_milestone</field>
			<field name="arch" type="xml">
				<tree editable="bottom">
					<field name="name"/>
					<field name="status"/>
				</tree>
			</field>
		</record>

		<record id="kw_appraisal_goal_view_from" model="ir.actions.act_window.view">
			<field eval="2" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="kw_appraisal_goal_form"/>
			<field name="act_window_id" ref="kw_appraisal_goal_actions"/>
		</record>

		<record id="kw_appraisal_goal_view_tree" model="ir.actions.act_window.view">
			<field eval="1" name="sequence"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="kw_appraisal_goal_tree"/>
			<field name="act_window_id" ref="kw_appraisal_goal_actions"/>
		</record>

		<!-- This Menu Item must have a parent and an action -->
		<menuitem id="kw_appraisal_goal_menu" name="Goal and Milestone" parent="menu_configuration" action="kw_appraisal_goal_actions" sequence="4" groups="base.group_no_one"/>
		<record model="ir.ui.menu" id="kw_appraisal.kw_appraisal_goal_menu">
			<field name="groups_id" eval="[(6, 0, [ref('kw_appraisal.group_appraisal_manager')])]"/>
		</record>
	</data>
</odoo>