<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data >
        <record id="hr_appraisal_report_pending_view_tree" model="ir.ui.view">
            <field name="name">Appraisal Pending Report</field>
            <field name="model">kw_appraisal_pending_report</field>
            <field name="arch" type="xml">
                <tree create='0' edit='0' delete='0' default_order="state,pending_with" import='false'>
                    <field name="employee_id"/>
                    <field name="designation"/>
                    <field name="department_id"/>
                    <!-- <field name="division"/> -->
                    <field name="emp_survey_id"/>
					<field name="self_status"/>
                    <field name="lm_status"/>
                    <field name="ulm_status"/>
                    <field name="state"/>
					<field name="pending_with"/>
                </tree>
            </field>
        </record>

        <record id="hr_appraisal_report_pending_view_search" model="ir.ui.view">
			<field name="name">appraisal_search_view</field>
			<field name="model">kw_appraisal_pending_report</field>
			<field name="arch" type="xml">
				<search string="Appraisal Information">
					<field name="employee_id" string="Employee Name"/>
                    <field name="department_id"/>
					<field name="state" string="Stage"/>
					<field name="pending_with" string="Pending With"/>
					<filter name="by_self_stage" domain="[('state.sequence','=',2)]" string="Self"/>
                    <filter name="by_lm_stage" domain="[('state.sequence','=',3)]" string="LM"/>
                    <filter name="by_ulm_stage" domain="[('state.sequence','=',4)]" string="ULM"/>
					<field name="emp_survey_id" string="Appraisal Form" invisible='1'/>
					<group expand="0" string="Group By">
						<filter name="groupby_state" context="{'group_by': 'state'}" string="Stage" help="Group Students by State"/>
						<filter name="groupby_dept" context="{'group_by': 'department_id'}" string="Department"/>
						<filter name="groupby_pending_with" context="{'group_by': 'pending_with'}" string="Pending With"/>
						<filter name="groupby_appraisal_form" context="{'group_by': 'emp_survey_id'}" string="Appraisal Form"/>
					</group>
				</search>
			</field>
		</record>
    
        <record id="kw_appraisal_report_pending_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Appraisal Pending Report</field>
            <field name="res_model">kw_appraisal_pending_report</field>
            <field name="view_mode">tree</field>
            <field name="search_view_id" ref='hr_appraisal_report_pending_view_search'/>
            <field name="domain">[('state.sequence','in',[2,3,4])]</field>
            <field name="context">{'financial_year_check':1,'search_default_by_self_stage':1,'search_default_by_lm_stage':1,'search_default_by_ulm_stage':1}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No appraisal pending report(s) found...
                </p>
            </field>
        </record>

    </data>
</odoo>
