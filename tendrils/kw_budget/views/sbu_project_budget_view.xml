<odoo>
    <data>
        <!--        Revenue budget revise wizard-->
        <record id="revised_amount_sbu_wizard_form" model="ir.ui.view">
            <field name="name">revised_sbu_project_budget_wizard_form</field>
            <field name="model">revised_sbu_project_budget_wizard</field>
            <field name="arch" type="xml">
                <form  create="false" delete="false"> 
                    <header>
                         <button name="apply_l1" type="object" string="Apply"
                                class="btn-success" attrs="{'invisible': ['|',('pending_at','!=', 'L1'), ('show_apply', '=' ,False)]}" invisible="context.get('kw_sbu_wizard',False)"/>


                        <button name="confirm_l2" type="object" string="Confirm"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>

                        <button type="action" name="%(kw_budget.action_kw_budget_revert_wizard_project)d" string="Revert L2"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>

                        <button name="cancel_l2" type="object" string="Cancel"
                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>

                        <button name="confirm_finance" type="object" string="Confirm"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>
                        <button type="action" name="%(kw_budget.action_kw_budget_revert_wizard_project)d" string="Revert Finance"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>
                        <button name="cancel_finance" type="object" string="Cancel"
                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>

                        <button name="confirm_cfo" type="object" string="Confirm"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'cfo')]}"
                                groups='kw_budget.group_cfo_kw_budget'/>
                        <button type="action" name="%(kw_budget.action_kw_budget_revert_wizard_project)d" string="Revert Finance(CFO)"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'cfo')]}"
                                groups='kw_budget.group_cfo_kw_budget'/>
                        <button name="cancel_cfo" type="object" string="Cancel"
                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'cfo')]}"
                                groups='kw_budget.group_cfo_kw_budget'/>



                        <button name="confirm_approver" type="object" string="Confirm"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>
                        <button type="action" name="%(kw_budget.action_kw_budget_revert_wizard_project)d" string="Revert Approver"
                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>
                        <button name="cancel_approver" type="object" string="Cancel"
                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>

                        <field name="pending_at" widget="statusbar" readonly="1" class="btn-success" invisible="1"/>


                    </header>
                    <style>

                        .table-responsive .o_list_view thead tr:nth-child(1) th{
                        background-color: rgb(95, 196, 234);
                        color: #4c4c4c;
                        }

                    </style>
                    <group>
                        <field name="for_new_line" widget="checkbox" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="pending_at" invisible="1" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="show_apply" invisible="1"/>
                        <field name="for_revise_line" widget="checkbox" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="sbu_project_budget_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    </group>
                    <group attrs="{'invisible': ['|', ('for_revise_line','!=', True)]}">
                        <field name="existing_sbu_project_budget_line_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1" readonly="1" force_save="1" >

                            <tree string="Budget Lines" editable="bottom">
                                <field name="work_order_type" required="1"/>
                                <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                <field name="project_id" />
                                <field name="project_code" />
                                <field name="opportunity_name" />
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
                                <field name="head_of_expense"/>
                                <field name="category_id"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>
                        </field>
                    </group>
                    <group attrs="{'invisible': [('for_revise_line','!=', True)]}">
                        <h1>For Revise Project Budget</h1>
                            <field name="revised_amount_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1" readonly="0" >
                            <tree string="Budget Lines" editable="bottom">
                                <field name="project_expense_id" domain="[('sbu_project_budget_id', '=', parent.sbu_project_budget_id)]" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
<!--                                <field name="work_order_type"/>-->
<!--                                <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>-->
<!--                                <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>-->
<!--                                <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>-->
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
<!--                                <field name="head_of_expense"/>-->
                                <field name="category_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>
                        </field>

                    </group>
                    <group attrs="{'invisible': [('for_new_line','!=', True)]}">
                        <h1> For Add New Budget Lines.</h1>
                        <field name="sbu_project_budget_line_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1">
                                    <tree string="Budget Lines" editable="bottom">
                                <field name="work_order_type" required="1"/>
                               <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
                                <field name="head_of_expense"/>
                                <field name="category_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                <field name="account_code_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  groups="kw_budget.group_finance_kw_budget"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>

                                </field>
                    </group>
                    <footer>
                        <button name="confirm_apply" type="object" string="Confirm" class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L1')]}"/>
                        <button string="Cancel" class="btn-danger" special="cancel" attrs="{'invisible': [('pending_at','!=', 'L1')]}"/>
                    </footer>
                    <div class="oe_chatter" attrs="{'invisible': [('pending_at','!=', 'L1')]}">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_revised_sbu_project_budget_wizard_tree" model="ir.ui.view">
            <field name="name">revised_sbu_project_budget_wizard_tree</field>
            <field name="model">revised_sbu_project_budget_wizard</field>
            <field name="arch" type="xml">
                <tree string="Revenue Budgetary " import='false' create="false" delete="false">
                    <field name="sbu_project_budget_id"/>
                    <field name="create_uid"/>
                    <field name="department_id" />
                    <field name="budget_department" />
                    <field name="branch_id"/>
                    <field name="pending_at"/>
                    <field name="create_date"/>
                </tree>
            </field>
        </record>

        <record id="action_revised_sbu_project_budget_wizard" model="ir.actions.act_window">
            <field name="name">Project Budget/Budget Approval/Approve Additional/Revise</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">revised_sbu_project_budget_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>

<!--        project budget view status start-->
        <record id="revised_amount_sbu_wizard_form_view_status_approve_additional_lines" model="ir.ui.view">
            <field name="name">revised_sbu_project_budget_wizard_form</field>
            <field name="model">revised_sbu_project_budget_wizard</field>
            <field name="arch" type="xml">
                <form  create="false" delete="false">
<!--                    <header>-->

<!--                        <button name="confirm_l2" type="object" string="Confirm"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>-->

<!--                        <button name="revert_l2" type="object" string="Revert L2"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>-->

<!--                        <button name="cancel_l2" type="object" string="Cancel"-->
<!--                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'L2')]}" groups='kw_budget.group_l2_kw_budget'/>-->

<!--                        <button name="confirm_finance" type="object" string="Confirm"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>-->
<!--                        <button name="revert_finance" type="object" string="Revert Finance"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>-->
<!--                        <button name="cancel_finance" type="object" string="Cancel"-->
<!--                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'Finance')]}" groups='kw_budget.group_finance_kw_budget'/>-->

<!--                        <button name="confirm_approver" type="object" string="Confirm"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>-->
<!--                        <button name="revert_approver" type="object" string="Revert Approver"-->
<!--                                class="btn-success" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>-->
<!--                        <button name="cancel_approver" type="object" string="Cancel"-->
<!--                                class="btn-danger" attrs="{'invisible': [('pending_at','!=', 'Approver')]}" groups='kw_budget.group_approver_kw_budget'/>-->

<!--                        <field name="pending_at" widget="statusbar" readonly="1" class="btn-success"/>-->


<!--                    </header>-->
                    <style>

                        .table-responsive .o_list_view thead tr:nth-child(1) th{
                        background-color: rgb(95, 196, 234);
                        color: #4c4c4c;
                        }

                    </style>
                    <group>
                        <field name="for_new_line" widget="checkbox" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="pending_at" invisible="1" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="for_revise_line" widget="checkbox" attrs="{'readonly': [('pending_at','=', 'Validate')]}"/>
                        <field name="sbu_project_budget_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    </group>
                    <group attrs="{'invisible': ['|', ('for_revise_line','!=', True), ('pending_at','!=', 'L1')]}">
                        <field name="existing_sbu_project_budget_line_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1" readonly="1" >

                            <tree string="Budget Lines" editable="bottom">
                                <field name="work_order_type" required="1"/>
                                <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                <field name="project_id" />
                                <field name="project_code" />
                                <field name="opportunity_name" />
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
                                <field name="head_of_expense"/>
                                <field name="category_id"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>
                        </field>
                    </group>
                    <group attrs="{'invisible': [('for_revise_line','!=', True)]}">
                        <h1>For Revise Project Budget</h1>
                            <field name="revised_amount_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1" readonly="0" >
                            <tree string="Budget Lines" editable="bottom">
                                <field name="project_expense_id" domain="[('sbu_project_budget_id', '=', parent.sbu_project_budget_id)]" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
<!--                                <field name="work_order_type"/>-->
<!--                                <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>-->
<!--                                <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>-->
<!--                                <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>-->
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
<!--                                <field name="head_of_expense"/>-->
                                <field name="category_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>
                        </field>

                    </group>
                    <group attrs="{'invisible': [('for_new_line','!=', True)]}">
                        <h1> For Add New Budget Lines.</h1>
                        <field name="sbu_project_budget_line_ids" colspan="4" attrs="{'readonly': [('pending_at','=', 'Validate')]}" nolabel="1">
                                    <tree string="Budget Lines" editable="bottom">
                                <field name="work_order_type" required="1"/>
                               <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type"/>
                                <field name="head_of_expense"/>
                                <field name="category_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="apr_budget"/>
                                <field name="may_budget"/>
                                <field name="jun_budget"/>
                                <field name="jul_budget"/>
                                <field name="aug_budget"/>
                                <field name="sep_budget"/>
                                <field name="oct_budget"/>
                                <field name="nov_budget"/>
                                <field name="dec_budget"/>
                                <field name="jan_budget"/>
                                <field name="feb_budget"/>
                                <field name="mar_budget"/>
                                <field name="total_amount"/>
                                <field name="account_code_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  groups="kw_budget.group_finance_kw_budget"/>
                                 <field name="billing_amount" invisible="1"/>
                                <field name="state" invisible="1"/>

                            </tree>

                                </field>
                    </group>
                    <footer>
                        <button name="confirm_apply" type="object" string="Confirm" class="btn-success" attrs="{'invisible': [('pending_at','!=', 'L1')]}"/>
                        <button string="Cancel" class="btn-danger" special="cancel" attrs="{'invisible': [('pending_at','!=', 'L1')]}"/>
                    </footer>
                </form>
            </field>
        </record>


        <record id="action_revised_sbu_project_budget_wizard_status_approve_addition_lines" model="ir.actions.act_window">
            <field name="name">Project Budget/View Status/Approve Additional/Revise</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">revised_sbu_project_budget_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>

        <record id="action_revised_sbu_project_budget_wizard_status_approve_addition_lines_tree" model="ir.actions.act_window.view">
			<field eval="1" name="sequence"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="view_revised_sbu_project_budget_wizard_tree"/>
			<field name="act_window_id" ref="action_revised_sbu_project_budget_wizard_status_approve_addition_lines"/>
		</record>

        <record id="action_revised_sbu_project_budget_wizard_status_approve_addition_lines_form" model="ir.actions.act_window.view">
			<field eval="2" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="revised_amount_sbu_wizard_form_view_status_approve_additional_lines"/>
			<field name="act_window_id" ref="action_revised_sbu_project_budget_wizard_status_approve_addition_lines"/>
		</record>

<!--        project budget view status end-->
        <record id="ir_actions_server_menu_rrevised_sbu_project_budget_wizard" model="ir.actions.server">
            <field name="sequence" eval="5"/>
            <field name="state">code</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_revised_sbu_project_budget_wizard"/>
            <field name="code">action = env.get('revised_sbu_project_budget_wizard').open_take_action_sbu_budget_lines()</field>
            <field name="condition">True</field>
            <field name="name">SBU Project Budget</field>
        </record>


        <record model="ir.actions.act_window" id="revised_sbu_project_budget_wizard_action_window">
            <field name="name">SBU Project Revised Amount</field>
            <field name="res_model">revised_sbu_project_budget_wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="revised_amount_sbu_wizard_form" />
        </record>

        <record id="view_kw_sbu_project_budget_tree" model="ir.ui.view">
            <field name="name">kw_sbu_project_budget_tree</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <tree string="SBU Project Budgetary " import="0" delete="false">
                    <!-- <field name="name"/> -->
                    <field name="fiscal_year_id"/>
                    <field name="create_uid"/>
                    <field name="budget_department"/>
                    <field name="branch_id"/>
                    <field name="pending_at_ids" widget="many2many_tags"/>
                    <field name="state"/>
                    <!-- <field name="rb_pending_at" invisible="1"/> -->
                    <field name="approver_head_boolean" invisible="1"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="kw_kw_sbu_project_budget_form">
            <field name="name">kw_sbu_project_budget_form</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <form string="Budget" delete="false">
                    <header>
                        <button name="apply_sbu_budget" type="object" confirm="Are you sure,you want to apply? "
                                states="draft" string="Apply" class="btn btn-success" />
                        <button name="open_capital_revise_wizard" type="object"
                                string="Add Budget Lines/Revise" class="btn btn-success"
                                groups='kw_budget.group_department_head_kw_budget'
                                attrs="{'invisible': [('take_action_view_bool','!=', True)]}"
                                context="{'default_revenue_id':id}"/>
                        <field name="state" widget="statusbar" />
                    </header>
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1) th{
                        background-color: rgb(95, 196, 234);
                        color: #4c4c4c;
                        }

                    </style>
                    <sheet string="Budget">
                        <label for="fiscal_year_id" string="Financial Year" style="font-size:30px;color:rgb(95, 196, 234);"/>
                        <h1>
                            <div>
                                <field name="fiscal_year_id" attrs="{'readonly': [('state','not in', ['draft'])]}" placeholder="Financial Year" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                            </div>
                        </h1>
                        <group name="main">
                            <group>
                                <field name="create_uid" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="take_action_view_bool" invisible="1"/>
                                <!-- <field name="fiscal_year_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'readonly': [('state','not in', ['draft'])]}"/> -->
                                <field name="department_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="division_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="section_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                <field name="branch_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                            </group>
                            <group>
                                <field name="budget_department" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'readonly': [('state','not in', ['draft'])]}" required="1"/>
                                <field name="approver_head_boolean" invisible="1"/>
                                <field name="revenue_revised_finance_approval_boolean" invisible="1"/>
                                <field name="revenue_revised_approver_approval_boolean" invisible="1"/>
                                <field name="add_expense_line_hide_boolean" invisible="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Budget Lines">
                                <group>
                            <button string="Export Budget Lines" name="print_project_report" type="object"
                                    class="oe_highlight" attrs="{'invisible': [('state','in', ['draft', 'to_approve', 'cancel'])]}"/>
                        </group>
                                <field name="sbu_project_budget_line_ids" colspan="4" nolabel="1" attrs="{'readonly': [('state','not in', ['draft'])]}">
                                    <tree string="Budget Lines" editable="bottom" decoration-warning="state in ['to_approve','confirm','approved','re_apply','re_f_approved']" decoration-danger="state=='cancel'" decoration-success="state in ['validate','draft']">
                                        <field name="sbu_project_budget_id" invisible = '1'/>
                                        <field name="work_order_type" required='1'/>
                                        <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                        <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  context="{'project_by_code':1}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->

                                        <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                        <field name="project_code" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                        <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                        <field name="client"/>
                                        <field name="order_value"/>
                                        <field name="head_expense_type" />
                                        <field name="head_of_expense" />
                                         <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <!-- <field name="amount_required"/> -->
                                        <!-- <field name="revise_amount"/>
                                        <field name="spent_amount"/> -->
                                        <field name="revised_button_hide_boolean" invisible="1"/>
                                        <!-- <field name="revised_revenue_invisible_button" invisible="0"/> -->
                                        <field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="billing_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" invisible='1'/>
                                        <!-- <field name="actual_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/> -->
                                        <field name="state" invisible="1"/>
                                        <field name="edit_button_hide_boolean" invisible="1"/>
                                        <field name="account_code_id"
                                               options="{'no_create_edit': True,'no_open':True,'no_create':True}" invisible="1" groups='kw_budget.group_finance_kw_budget'/>
<!--                                        <button name="%(revised_sbu_project_budget_wizard_action_window)d" type="action" string="Revise" class="btn-success" groups='kw_budget.group_department_head_kw_budget'-->
<!--                                                attrs="{'invisible': [('revised_button_hide_boolean','!=', True)]}" context="{'default_project_expense_id':id}"/>-->
<!--                                        <button name="edit_budget_button" type="object" string="Edit" class="btn-warning" groups='kw_budget.group_department_head_kw_budget'-->
<!--                                                attrs="{'invisible': [('edit_button_hide_boolean','!=', True)]}" context="{'default_project_expense_id':id}"/>-->
                                        <!-- <button type="object" name="action_open_budget_entries" string="Entries..."
                                                icon="fa-arrow-circle-o-right" groups="kw_budget.group_finance_kw_budget, kw_budget.group_manager_kw_budget, kw_budget.group_approver_kw_budget"/> -->
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="work_order_type" required='1'/>
                                            <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                            <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                            <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" invisible="1"/>
                                            <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}"   invisible="1"/>
                                            <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                            <field name="client"/>
                                            <field name="order_value"/>
                                            <field name="category_id"/>
                                            <field name="apr_budget" />
                                            <field name="may_budget" />
                                            <field name="jun_budget" />
                                            <field name="jul_budget" />
                                            <field name="aug_budget" />
                                            <field name="sep_budget" />
                                            <field name="oct_budget"/>
                                            <field name="nov_budget" />
                                            <field name="dec_budget" />
                                            <field name="jan_budget" />
                                            <field name="feb_budget" />
                                            <field name="mar_budget" />
                                            <field name="total_amount"/>
                                            <field name="billing_amount" invisible='1'/>
                                            <!-- <field name="remark" /> -->
                                        </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                        <group string="Revise Project Action Log">
                            <field name="revise_sbu_project_action_log_ids" colspan="4" nolabel="1" readonly='1'>
                                <tree string="Revise Project Action Log" decoration-danger="revise_budget_status in ['rejected_by_finance','rejected_by_approver']">
                                    <field name="project_budget_id" invisible="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="date" />
                                    <field name="approve_date" />
                                    <field name="head_of_expense" />
                                    <field name="approver_by"/>
                                    <field name="approve_by"/>
                                    <field name="state"/>
                                    <field name="revised_amount"/>

                                    <field name="total_amount" widget="monetary" options="{'currency_field':'currency_id'}"/>
                                    <field name="revise_budget_status" invisible="1"/>
                                </tree>
                                <form>
                                    <field name="project_budget_id" invisible="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="date" />
                                    <field name="approve_date" />
                                    <field name="head_of_expense" />
                                    <field name="approver_by"/>
                                    <field name="approve_by"/>
                                    <field name="state"/>
                                    <field name="revised_amount"/>
                                    <field name="sbu_project_budget_line_id" invisible="1"/>
                                    <field name="total_amount" widget="monetary" options="{'currency_field':'currency_id'}"/>
                                    <field name="revise_budget_status" invisible="1" />
                                </form>
                            </field>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" />
                        <field name="activity_ids" widget="mail_activity" />
                        <field name="message_ids" widget="mail_thread" />
                    </div>
                </form>
            </field>
        </record>

        <!-- actions opening views on models -->

        <record model="ir.actions.act_window" id="kw_sbu_project_budget_act_window">
            <field name="name">Project Budget/Create New Budget</field>
            <field name="res_model">kw_sbu_project_budget</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="context">{'project_budget_create':True}</field>
            <field name="domain">[]</field>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_budget.view_kw_sbu_project_budget_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('kw_budget.kw_kw_sbu_project_budget_form')})]"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Click to create a new budget.
                </p>
                <p>
                    Use budgets to compare actual with expected revenues and costs
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="kw_sbu_project_budget_act_window_action_sbu">
            <field name="name">Project Budget/Additional/Revise Budget</field>
            <field name="res_model">kw_sbu_project_budget</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="domain">[('create_uid','=',uid)]</field>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_budget.view_kw_sbu_project_budget_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('kw_budget.kw_kw_sbu_project_budget_form')})]"/>
            <field name="context">{'take_action_view_bool': 1, 'create': False, 'delete': False, 'edit': False, 'import':False}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Click to create a new budget.
                </p>
                <p>
                    Use budgets to compare actual with expected revenues and costs
                </p>
            </field>
        </record>

        <record id="view_kw_sbu_project_budget_take_action_tree" model="ir.ui.view">
            <field name="name">kw_sbu_project_budget_tree</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <tree string="Revenue Budgetary" create='false' edit ='false' delete='false' import='false'>
                    <field name="fiscal_year_id"/>
                    <field name="create_uid"/>
                    <field name="budget_department" />
                    <field name="branch_id"/>
                    <field name="pending_at_ids" widget="many2many_tags"/>
                    <field name="approver_head_boolean" invisible="1"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="kw_sbu_project_budget_take_action_form">
            <field name="name">kw_sbu_project_budget_form</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <form string="Budget" create='false' edit ='true' delete='false'>
                    <header>
                        <button string="Approve" name="action_budget_confirm" confirm="Are you sure, you want to Approve?" type="object" class="oe_highlight" attrs="{'invisible': [('approver_head_boolean', '=', False)]}"/>
                        <button string="Confirm" name="action_budget_validate_finance" confirm="Are you sure, you want to Confirm?" states="approved" type="object" class="oe_highlight" groups="kw_budget.group_finance_kw_budget"/>
                        <button string="Confirm(CFO)" name="action_budget_validate" confirm="Are you sure, you want to Confirm?" states="cfo" type="object" class="oe_highlight" groups="kw_budget.group_cfo_kw_budget"/>
                        <button string="Validate" name="action_revenue_budget_validate" confirm="Are you sure, you want to Validate?" states="confirm" type="object" class="oe_highlight" groups="kw_budget.group_approver_kw_budget"/>
                        <button string="Cancel Budget" name="action_budget_cancel" confirm="Are you sure, you want to Cancel?" attrs="{'invisible': [('state', '!=', 'confirm')]}" type="object" class="btn-danger" groups="kw_budget.group_approver_kw_budget"/>
                        <button string="Revert Back" type="action" name="%(kw_budget.action_kw_budget_revert_wizard_main_project)d" class="oe_highlight" attrs="{'invisible': [('approver_head_boolean', '=', False), ('finance_revert_back_boolean', '=', False), ('approver_revert_back_boolean', '=', False), ('financecfo_revert_back_boolean', '=', False)]}"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1) th{
                        background-color: rgb(95, 196, 234);
                        color: #4c4c4c;
                        }

                    </style>
                    <sheet string="Budget">
                        <label for="fiscal_year_id" string="Financial Year" style="font-size:30px;color:rgb(95, 196, 234);"/>
                        <h1>
                            <div>
                                <field name="fiscal_year_id" attrs="{'readonly': [('state','not in', ['draft'])]}" placeholder="Financial Year" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                            </div>
                        </h1>
                        <group name="main">
                            <group>
                                <field name="create_uid"/>
                                <field name="department_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" />
                                <field name="division_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  />
                                <field name="section_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  />
                                <field name="branch_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  />
                                <field name="approver_head_boolean" invisible="1"/>
                                <field name="finance_revert_back_boolean" invisible="1"/>
                                <field name="approver_revert_back_boolean" invisible="1"/>
                                <field name="financecfo_revert_back_boolean" invisible="1"/>
                            </group>
                            <group>
                                <field name="budget_department" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly="1"/>
                            </group>
                        </group>
                        <notebook>
                          
                            <page string="Budget Lines">
                                <field name="sbu_project_budget_line_ids" colspan="4" nolabel="1">
                                    <tree string="Budget Lines" editable="bottom" decoration-warning="state in ['to_approve','confirm','approved','re_apply','re_f_approved']" decoration-danger="state=='cancel'" decoration-success="state in ['validate','draft']">
                                        <field name="sbu_project_budget_id" invisible = '1'/>
                                        <field name="work_order_type" required='1'/>
                                        <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                        <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                        <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                        <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}" invisible="1"/>
                                        <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                        <field name="client"/>
                                        <field name="order_value"/>
                                        <field name="head_expense_type" />
                                        <field name="head_of_expense"/>
                                        <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                        <field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                                      
                                        <field name="finance_approved_button_boolean" invisible="1"/>
                                        <field name="approver_approved_button_boolean" invisible="1"/>
                                        <field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" attrs="{'readonly':[('state','not in',['draft','to_approve'])]}" widget="monetary"/>
                                        <field name="billing_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" invisible='1'/>
                                    
                                        <field name="state" invisible="1"/>
                                        <!-- <field name="remark" readonly="1"/> -->
                                        <field name="account_code_id"
                                               options="{'no_create_edit': True,'no_open':True,'no_create':True}"
                                               groups="kw_budget.group_finance_kw_budget,kw_budget.group_approver_kw_budget"
                                               attrs="{'readonly': [('state','not in', ['to_approve','re_apply'])]}"
                                               required='1' invisible="0"/>

                                        <button name="approve_revised_revenue_budget"
                                                string="Approve"
                                                groups="kw_budget.group_finance_kw_budget" class="btn-success"
                                                attrs="{'invisible': [('finance_approved_button_boolean','=', False)]}"
                                                type="object"/>
                                        <button name="approve_revised_revenue_budget"
                                                string="Approve"
                                                groups="kw_budget.group_approver_kw_budget" class="btn-success"
                                                attrs="{'invisible': [('approver_approved_button_boolean','=', False)]}"
                                                type="object"/>

                                        <button name="reject_sbu_project_budget"
                                                string="Reject"
                                                groups="kw_budget.group_finance_kw_budget" class="btn-danger"
                                                attrs="{'invisible': [('finance_approved_button_boolean','=', False)]}"
                                                type="object"/>
                                        <button name="reject_sbu_project_budget"
                                                string="Reject"
                                                groups="kw_budget.group_approver_kw_budget" class="btn-danger"
                                                attrs="{'invisible': [('approver_approved_button_boolean','=', False)]}"
                                                type="object"/>

                                        <!-- <button name="revised_data_send_back"
                                                string="Send Back"
                                                groups="kw_budget.group_approver_kw_budget" class="oe_highlight"
                                                attrs = "{'invisible': [('approver_approved_button_boolean','=', False)]}" type="object"/>  -->
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="work_order_type" required='1'/>
                                            <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                            <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                            <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                            <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                            <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                            <field name="client"/>
                                            <field name="order_value"/>
                                            <field name="head_expense_type" />
                                            <field name="head_of_expense" />
                                            <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                            <field name="currency_id" invisible="1"/>
                                            <field name="apr_budget" />
                                            <field name="may_budget" />
                                            <field name="jun_budget" />
                                            <field name="jul_budget" />
                                            <field name="aug_budget" />
                                            <field name="sep_budget" />
                                            <field name="oct_budget"/>
                                            <field name="nov_budget" />
                                            <field name="dec_budget" />
                                            <field name="jan_budget" />
                                            <field name="feb_budget" />
                                            <field name="mar_budget" />
                                            <field name="total_amount"/>
                                            <field name="billing_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" invisible='1'/>
                                            <!-- <field name="remark"/> -->
                                        </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>

                        <group string="Revise Project Budget Action Log">
                            <field name="revise_sbu_project_action_log_ids" colspan="4" nolabel="1" readonly='1'>
                                <tree string="Revise Project Budget Action Log" decoration-danger="revise_budget_status in ['rejected_by_finance','rejected_by_approver']">
                                    <field name="project_budget_id" invisible="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="date" />
                                    <field name="approve_date" />
                                    <field name="head_of_expense" />
                                    <field name="approver_by"/>
                                    <field name="approve_by"/>
                                    <field name="state"/>
                                    <field name="revised_amount"/>
                                  
                                    <field name="total_amount" widget="monetary" options="{'currency_field':'currency_id'}"/>
                                    <field name="revise_budget_status" invisible="1" />
                                </tree>
                                <form>
                                    <field name="project_budget_id" invisible="1"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="date" />
                                    <field name="approve_date"/>
                                    <field name="head_of_expense"/>
                                    <field name="approver_by"/>
                                    <field name="approve_by"/>
                                    <field name="state"/>
                                    <field name="revised_amount"/>
                                    <field name="sbu_project_budget_line_id" invisible="1"/>
                                    <field name="total_amount" widget="monetary" options="{'currency_field':'currency_id'}"/>
                                    <field name="revise_budget_status" invisible="1" />
                                </form>
                            </field>
                        </group>

                    </sheet> 
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" />
                        <field name="activity_ids" widget="mail_activity" />
                        <field name="message_ids" widget="mail_thread" />
                    </div>
                </form>
            </field>
        </record>

        <record id="search_project_budget" model="ir.ui.view">
            <field name="name">Search Project Budget</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <search>
                    <field name="fiscal_year_id"/>
                    <filter name="fiscalyr_filter" string="Current Financial Year" 
                        domain="['&amp;',('fiscal_year_id.date_start', '&lt;=',context_today().strftime('%Y-%m-%d')),('fiscal_year_id.date_stop', '&gt;=',context_today().strftime('%Y-%m-%d'))]"
                        context="{}" readonly="1"/>
                    <filter name="prev_fiscalyr_filter" string="Previous Financial Year" 
                            domain="[('fiscal_year_id.date_stop', '&gt;=', (datetime.datetime.now() - relativedelta(years=1)).strftime('%Y-%m-%d')),
                                    ('fiscal_year_id.date_stop', '&lt;', datetime.datetime.now().strftime('%Y-%m-%d'))]" context="{}" readonly="1"/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_fiscal_year" string="Financial Year" domain="[]" context="{'group_by':'fiscal_year_id'}" />
                    </group>
                </search>
            </field>
        </record>

        <!-- actions opening views on models -->

        <record model="ir.actions.act_window" id="kw_sbu_project_budget_take_action_window">
            <field name="name">Project Budget/Budget Approval/Apporve New</field>
            <field name="res_model">kw_sbu_project_budget</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="context">{'take_action_sbu_budget':True}</field>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_budget.view_kw_sbu_project_budget_take_action_tree')}), 
            (0, 0, {'view_mode': 'form', 'view_id': ref('kw_budget.kw_sbu_project_budget_take_action_form')})]"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Click to create a new budget.
                </p>
                <p>
                    Use budgets to compare actual with expected revenues and costs
                </p>
            </field>
        </record>

          <!-- wizard for split  views on models -->
         <record id="split_project_budget_wizard_tree" model="ir.ui.view">
            <field name="name">split_project_budget_wizard_tree</field>
            <field name="model">split_project_budget_wizard</field>
            <field name="arch" type="xml">
                <form string="Budget" create='false' delete='false'>
                <sheet>
                <group>
                    <field name="project_budget_id" invisible = '1'/>
                    <!-- <field name="name_of_expenses" /> -->
                </group>
                <group string="Exisiting Budget Lines">
                    <table class="table table-bordered">
                        <tr>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Order Type</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Project Name</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Workorder Code</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Opporutinty Name</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Client Name</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Order Value</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Expense/Income</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Particular</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Category</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Apr</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">May</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Jun</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Jul</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Aug</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Sept</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Oct</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Nov</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Dec</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Jan</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Feb</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Mar</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Total Amount</td>
                            <td style="background-color: rgb(95, 196, 234);color: #4c4c4c;">Account Code</td>
                        </tr>
                        <tr>
                            <td><field name="work_order_type"/></td>
                            <td><field name="project_id"/></td>
                            <td><field name="project_code"/></td>
                            <td><field name="opportunity_name"/></td>
                            <td><field name="client"/></td>
                            <td><field name="order_value"/></td>
                            <td><field name="head_expense_type"/></td>
                            <td><field name="head_of_expense"/></td>
                            <td><field name="category_id"/></td>
                            <td><field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/></td>
                            <td><field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/></td>
                            <td><field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/></td>
                            <td><field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/></td>
                            <td><field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" /></td>
                            <td><field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/></td>
                            <td><field name="account_code_id"/></td>
                        </tr>
                    </table>
                </group>
                <group string="Split Budget Lines">
                    <field name="budget_line_ids" nolabel="1">
                        <tree editable="bottom">
                             <field name="work_order_type" required='1'/>         
                            <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                            <field name="project_code" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                            <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                            <field name="client"/>
                            <field name="order_value"/>
                            <field name="head_expense_type" />
                            <field name="head_of_expense" />
                            <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                            <field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                            <field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                            <field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                            <field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                            <field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" />
                            <field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary"/>
                            <field name="account_code_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"
                                    groups="kw_budget.group_finance_kw_budget,kw_budget.group_approver_kw_budget" required='1'/>
                        </tree>
                    </field>
                </group>
                </sheet>
                <footer>
                    <button name="split_project_budget" confirm="Are you sure, you want to Split Budget?" type="object" string="Split" class="btn-success"/>
                    <button string="Cancel" class="btn-danger" special="cancel"/>
                </footer>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="split_project_budget_wizard_action_window">
            <field name="name">Project Budget Updated</field>
            <field name="res_model">split_project_budget_wizard</field>
            <field name="view_mode">form</field>
            <field name="view_type">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="split_project_budget_wizard_tree" />
        </record>


        <!--*************************************   View Status Revenue Budget  ************************************-->

        <record id="view_kw_sbu_project_budget_view_status_tree" model="ir.ui.view">
            <field name="name">view_kw_sbu_project_budget_view_status_tree</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <tree string="Revenue Budgetary" create='false' edit ='false' delete='false' import='false'>
                    <field name="create_uid"/>
                    <field name="budget_department"/>
                    <field name="create_uid"></field>
                    <field name="branch_id"/>
                    <field name="fiscal_year_id"/>
                    <field name="pending_at_ids" widget="many2many_tags"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="kw_sbu_project_budget_status_form">
            <field name="name">kw_ckw_revenue_view_status_form</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <form string="Budget" create='false' delete='false'>
                    <header>
                        <field name="state" widget="statusbar" />
                        <button string="Generate ID" name="action_project_budget_generate_id" confirm="Are you sure, you want to Generate id?"  type="object"  class="btn-success" groups="kw_budget.group_finance_kw_budget" />
                    </header>
                    <style>
                        .table-responsive .o_list_view thead tr:nth-child(1) th{
                        background-color: rgb(95, 196, 234);
                        color: #4c4c4c;
                        }

                    </style>
                    <sheet string="Budget">
                        <label for="fiscal_year_id" string="Financial Year" style="font-size:30px;color:rgb(95, 196, 234);"/>
                        <h1>
                            <div>
                                <field name="fiscal_year_id" attrs="{'readonly': [('state','not in', ['draft'])]}" placeholder="Financial Year" options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                            </div>
                        </h1>
                        <group name="main">
                            <group>
                              
                                <field name="create_uid"></field>
                                <!-- <field name="department_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" />
                                <field name="division_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  />
                                <field name="section_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  /> -->
                                <field name="branch_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  />
                            </group>
                            <group>
                                <field name="budget_department" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly ='1'/>
                            </group>
                        </group>
                        <notebook>
                             <page string="Budget Lines">
                                <field name="sbu_project_budget_line_ids" colspan="4" nolabel="1">
                                    <tree string="Budget Lines" editable="bottom" decoration-warning="state in ['to_approve','confirm','approved','re_apply','re_f_approved']" decoration-danger="state=='cancel'" decoration-success="state in ['validate','draft']" delete='false'>
                                        <field name="sbu_project_budget_id" invisible = '1'/>
                                        <field name="sequence_ref" readonly ='1'/>
                                        <field name="work_order_type" readonly ='1'/>
                                        <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  readonly ='1'/>
                                        <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly ='1'/>
                                        <field name="opportunity_name" readonly ='1'/>
                                        <field name="client" readonly ='1'/>
                                        <field name="order_value" readonly ='1'/>
                                        <field name="head_expense_type" readonly ='1'/>
                                        <field name="head_of_expense" readonly ='1'/>
                                        <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly ='1'/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                                        <field name="finance_approved_button_boolean" invisible="1"/>
                                        <field name="approver_approved_button_boolean" invisible="1"/>
                                        <field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" readonly ='1' widget="monetary"/>
                                        <field name="billing_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" invisible='1'/>
                                        <field name="state" invisible="1"/>
                                        <field name="hide_split_button_boolean" invisible="1"/>
                                        <!-- <field name="remark" readonly="1"/> -->
                                        <field name="account_code_id"
                                               options="{'no_create_edit': True,'no_open':True,'no_create':True}"
                                               groups="kw_budget.group_finance_kw_budget,kw_budget.group_approver_kw_budget"
                                              invisible="0"/>
                                         <button type="action" name="%(split_project_budget_wizard_action_window)d"  string="Split"  class="btn-success"  groups="kw_budget.group_finance_kw_budget"  attrs="{'invisible': [('hide_split_button_boolean','=', True)]}"/>

                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                     <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" />
                        <field name="activity_ids" widget="mail_activity" />
                        <field name="message_ids" widget="mail_thread" />
                    </div>
                </form>
            </field>
        </record>

        <!-- actions opening views on models -->

        <record model="ir.actions.act_window" id="kw_sbu_project_budget_view_status_act_window">
            <field name="name">Project Budget/View Status</field>
            <field name="res_model">kw_sbu_project_budget</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_budget.view_kw_sbu_project_budget_view_status_tree')}),
             (0, 0, {'view_mode': 'form', 'view_id': ref('kw_budget.kw_sbu_project_budget_status_form')})]"/>
            <field name="domain">[('state', '!=', 'draft')]</field>
            <field name="context">{'search_default_fiscalyr_filter': 1, 'view_status_project_budget': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Click to create a new budget.
                </p>
                <p>
                    Use budgets to compare actual with expected revenues and costs
                </p>
            </field>
        </record>

        <record id="view_kw_sbu_project_budget_line_tree" model="ir.ui.view">
            <field name="name">kw_sbu_project_budget_line</field>
            <field name="model">kw_sbu_project_budget_line</field>
            <field name="arch" type="xml">
                <tree string="Project Budget">
                    <field name="sbu_project_budget_id" invisible = '1'/>
                    <field name="sequence_ref" readonly ='1'/>
                    <field name="work_order_type" readonly ='1'/>
                    <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  readonly ='1'/>
                    <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly ='1'/>
                    <field name="opportunity_name" readonly ='1'/>
                    <field name="client" readonly ='1'/>
                    <field name="order_value" readonly ='1'/>
                    <field name="head_expense_type" readonly ='1'/>
                    <field name="head_of_expense" readonly ='1'/>
                    <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly ='1'/>
                    <field name="currency_id" invisible="1"/>
                    <field name="apr_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="may_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="jun_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="jul_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="aug_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="sep_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="oct_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="nov_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="dec_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="jan_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="feb_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="mar_budget" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" readonly ='1'/>
                    <field name="finance_approved_button_boolean" invisible="1"/>
                    <field name="approver_approved_button_boolean" invisible="1"/>
                    <field name="total_amount" sum="Total" options="{'currency_field':'currency_id'}" readonly ='1' widget="monetary"/>
                    <field name="billing_amount" sum="Total" options="{'currency_field':'currency_id'}" widget="monetary" invisible='1'/>
                    <field name="state" invisible="1"/>
                   
                </tree>
            </field>
        </record>

        <record id="kw_sbu_project_budget_line_search" model="ir.ui.view">
            <field name="name">Search kw_sbu_project_budget_line</field>
            <field name="model">kw_sbu_project_budget_line</field>
            <field name="arch" type="xml">
                <search>
                    <field name="sbu_project_budget_id"/>
                    <field name="sequence_ref" />
                    <field name="work_order_type" />
                    <field name="project_id"/>
                    <field name="project_code" />
                    <field name="opportunity_name" />
                    <field name="client"/>
                    <field name="head_expense_type"/>
                </search>
            </field>
        </record>


        <!-- revenue budget view for add line button  -->

        <record model="ir.ui.view" id="kw_sbu_project_budget_form_new_line">
            <field name="name">kw_sbu_project_budgett_form_new_line_form</field>
            <field name="model">kw_sbu_project_budget</field>
            <field name="arch" type="xml">
                <form string="Budget">
                    <group>
                        <field name="sbu_project_budget_line_ids" colspan="4" nolabel="1">
                            <tree string="Budget Lines" editable="bottom">
                                <field name="work_order_type" required='1'/>
                                <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}"  attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                <field name="client"/>
                                <field name="order_value"/>
                                <field name="head_expense_type" />
                                <field name="head_of_expense"/>
                                <field name="category_id"  />
                                <field name="apr_budget" />
                                <field name="may_budget" />
                                <field name="jun_budget" />
                                <field name="jul_budget" />
                                <field name="aug_budget" />
                                <field name="sep_budget" />
                                <field name="oct_budget"/>
                                <field name="nov_budget" />
                                <field name="dec_budget" />
                                <field name="jan_budget" />
                                <field name="feb_budget" />
                                <field name="mar_budget" />
                                <field name="total_amount"/>
                                 <field name="billing_amount" invisible='1'/>
                                <field name="state" invisible="1"/>
                               
                            </tree>
                            <form>
                                <group>
                                    <field name="work_order_type" required='1'/>
                                    <!-- <field name="order_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                    <field name="order_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/> -->
                                    <field name="project_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')], 'required':[('work_order_type', '=', 'work_order')]}"/>
                                    <field name="project_code" options="{'no_create_edit': True,'no_open':True,'no_create':True}" attrs="{'invisible':[('work_order_type', '!=', 'work_order')]}"/>
                                    <field name="opportunity_name" attrs="{'invisible':[('work_order_type', '!=', 'opportunity')], 'required':[('work_order_type', '=', 'opportunity')]}"/>
                                    <field name="client"/>
                                    <field name="order_value"/>
                                    <field name="head_expense_type" />
                                    <field name="head_of_expense" />
                                    <field name="category_id"  options="{'no_create_edit': True,'no_open':True,'no_create':True}"/>
                                    <field name="apr_budget" />
                                    <field name="may_budget" />
                                    <field name="jun_budget" />
                                    <field name="jul_budget" />
                                    <field name="aug_budget" />
                                    <field name="sep_budget" />
                                    <field name="oct_budget"/>
                                    <field name="nov_budget" />
                                    <field name="dec_budget" />
                                    <field name="jan_budget" />
                                    <field name="feb_budget" />
                                    <field name="mar_budget" />
                                    <field name="total_amount"/>
                                     <field name="billing_amount" invisible='1'/>
                                </group>
                            </form>
                        </field>
                    </group>
                    <footer>
                        <button name="sbu_revised_add_line_submit" type="object" string="Confirm" class="btn-success"/>
                        <button string="Cancel" class="btn-danger" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

    </data>
</odoo>