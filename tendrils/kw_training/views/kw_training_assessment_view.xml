<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_kw_training_assessment_tree" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.tree</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">tree</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <tree import="false" delete="false">
                    <field name="training_id" invisible="1"/>
                    <field name="assessment_id" invisible="1"/>
                    <field name="score_id" invisible="1"/>
                    <field name="user_is_trainer" invisible="1"/>
                    <field name="user_is_participant" invisible="1"/>
                    <field name="user_is_manager" invisible="1"/>
                    <field name="assessment_started" invisible="1"/>
                    <field name="assessment_expired" invisible="1"/>
                    <field name="name" />
                    <field name="assessment_type" />
                    <field name="test_type" />
                    <field name="date"/>
                    <field name="from_time"/>
                    <field name="to_time"/>
					<button name="view_assessment" string="Manage Test" 
                            attrs="{'invisible': ['|',('assessment_type', '=', 'offline'),('assessment_started','=',True)]}"
                            type="object" class="oe_highlight" />
                    <button name="action_add_questions" string="Manage Questions" 
                            attrs="{'invisible': ['|',('assessment_started','=',True),('assessment_type','=','offline')]}"
                            type="object" class="oe_highlight"/>
                    <button name="view_assessment_score" string="View Result" 
                            attrs="{'invisible': ['|','|',('assessment_started','=',False),('assessment_id','=',False),('assessment_started','=',False)]}"
                            type="object" class="oe_highlight" />
                    <button name="view_update_assessment_score" string="Update Result" 
                            attrs="{'invisible': ['|',('assessment_started','=',False),('assessment_type', '=', 'online')]}"
                            type="object" class="oe_highlight" />
                </tree>
            </field>
        </record>

        <!-- Form view for "model" -->
        <record id="view_kw_training_assessment_form" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.form</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">form</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <form create="false" delete="false" >
                    <sheet>
                        <group>
                            <field name="training_id" invisible="1"/>
                            <field name="name"/>
                            <field name="assessment_type"/>
                            <field name="test_type" />
                            <field name="date"/>
                            <field name="from_time"/>
                            <field name="to_time"/>
                            <field name="marks" attrs="{'invisible' : [('assessment_type','=','online')]}"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_kw_training_assessment_kanban" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.kanban</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">kanban</field>
            <field name="mode">primary</field>
            <field name="sequence" eval="1"/>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <kanban import="false" delete="false">
                    <field name="training_id" invisible="1"/>
                    <field name="assessment_id" invisible="1"/>
                    <field name="score_id" invisible="1"/>
                    <field name="user_is_trainer" invisible="1"/>
                    <field name="user_is_participant" invisible="1"/>
                    <field name="user_is_manager" invisible="1"/>
                    <field name="assessment_started" invisible="1"/>
                    <field name="assessment_expired" invisible="1"/>
                    <field name="name" />
                    <field name="assessment_type" />
                    <field name="test_type" />
                    <field name="date"/>
                    <field name="from_time"/>
                    <field name="to_time"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click">
                                <div class="o_kanban_record_top container p-2 m-0">
                                    <div class="o_kanban_record_headings">
                                        <div class="text-left">
                                            <h3 class='text-uppercase'>
                                                <field name="name"/>
                                            </h3>
                                            <h3 class='text-uppercase badge badge-warning text-wrap font-weight-bold' style="font-size: 1rem;">
                                                <field name="assessment_type"/>
                                            </h3>
                                            <h3 class='text-uppercase badge badge-warning text-wrap font-weight-bold' style="font-size: 1rem;">
                                                <field name="test_type"/>
                                            </h3>
                                            <div class="clearfix"/>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <span class="font-weight-bold fa fa-calendar-o mb-2"/>
                                                        &amp;nbsp; <b> Date: </b>
                                                    <field name="date" widget="date"/>
                                                    <br/>
                                                    
                                                    <span class="font-weight-bold fa fa-clock-o mb-2"/>
                                                        &amp;nbsp; <b> From Time: </b>
                                                    <field name="from_time" />
                                                    <br/>
                                                    <span class="font-weight-bold fa fa-clock-o mb-2"/>
                                                        &amp;nbsp; <b> To Time: </b>
                                                    <field name="to_time"/>
                                                    <br/>
                                                </div>
                                            </div>
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <button name="view_assessment"  attrs="{'invisible': ['|',('assessment_type', '=', 'offline'),('assessment_started','=',True)]}" type="object" class="btn btn-primary">Manage Test</button>
                                                    <button name="action_add_questions"  attrs="{'invisible': ['|',('assessment_started','=',True),('assessment_type','=','offline')]}" type="object" class="btn btn-primary">Manage Questions</button>
                                                    <button name="view_assessment_score"  attrs="{'invisible': ['|','|',('assessment_started','=',False),('assessment_id','=',False),('assessment_started','=',False)]}" type="object" class="btn btn-primary">View Result</button>
                                                    <button name="view_update_assessment_score"  attrs="{'invisible': ['|',('assessment_started','=',False),('assessment_type', '=', 'online')]}" type="object" class="btn btn-primary">Update Result</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>



        <!-- Main window action for "model" -->
        <record id="action_kw_training_assessment_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Assessment</field>
            <field name="res_model">kw_training_assessment</field>
            <field name="view_mode">kanban,tree</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <field name="domain">[]</field>
            <field name="context">\{}</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('kw_training.view_kw_training_assessment_kanban')}),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_training.view_kw_training_assessment_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('kw_training.view_kw_training_assessment_form')})]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No attendance found
                </p>
            </field>
        </record>

        <record id="view_kw_training_assessment_readonly_tree" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.tree</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">tree</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <tree create="false" edit="false" delete="false" import="false">
                    <field name="training_id" invisible="1"/>
                    <field name="assessment_id" invisible="1"/>
                    <field name="score_id" invisible="1"/>
                    <field name="user_is_trainer" invisible="1"/>
                    <field name="user_is_participant" invisible="1"/>
                    <field name="user_is_manager" invisible="1"/>
                    <field name="user_has_given_assessment" invisible="1"/>
                    <field name="assessment_expired" invisible="1"/>
                    <field name="assessment_started" invisible="1"/>
                    <field name="name" />
                    <field name="assessment_type" />
                    <field name="test_type" />
                    <field name="date"/>
                    <field name="from_time"/>
                    <field name="to_time"/>
                    <button name="view_assessment_readonly_score" string="View Result"
                            attrs="{'invisible': ['|',('user_is_participant','=',True),'&amp;',('assessment_id','=',False),('score_id','=',False)]}" 
                            type="object" class="oe_highlight" />
                    <button name="view_assessment_participant_score" 
                            string="View Result" 
                            attrs="{'invisible': ['|','|',('user_is_participant','=',False),('assessment_expired','=',False),'&amp;',('score_id','=',False),('user_has_given_assessment','=',False)]}" 
                            type="object" class="oe_highlight" />
                    <button name="action_assessment_test" string="Take Test"
                        attrs="{'invisible': ['|','|','|',('assessment_id','=',False),
                            ('assessment_type','=','offline'),'|',('user_is_participant','=',False),('user_has_given_assessment','=',True),'|',('assessment_expired','=',True),('assessment_started','=',False)]}" 
                        type="object" class="oe_highlight" />
                    <button name="action_add_questions" string="Manage Questions"
                        attrs="{'invisible': ['|','|',('assessment_started','=',True),('user_is_trainer','=',False),('assessment_type','=','offline')]}" 
                    type="object" class="oe_highlight"/>
                </tree>
            </field>
        </record>

        <record id="view_kw_training_assessment_readonly_form" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.form</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">form</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <form create="false" edit="false" delete="false" duplicate="false">
                    <sheet>
                        <group>
                            <field name="training_id" invisible="1"/>
                            <field name="name"/>
                            <field name="assessment_type"/>
                            <field name="test_type" />
                            <field name="date"/>
                            <field name="from_time"/>
                            <field name="to_time"/>                            
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_kw_training_assessment_readonly_kanban" model="ir.ui.view">
            <field name="name">view.kw_training_assessment.kanban</field>
            <field name="model">kw_training_assessment</field>
            <field name="type">kanban</field>
            <field name="mode">primary</field>
            <field name="sequence" eval="1"/>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <kanban create="false" edit="false" delete="false" import="false">
                    <field name="training_id" invisible="1"/>
                    <field name="assessment_id" invisible="1"/>
                    <field name="score_id" invisible="1"/>
                    <field name="user_is_trainer" invisible="1"/>
                    <field name="user_is_participant" invisible="1"/>
                    <field name="user_is_manager" invisible="1"/>
                    <field name="user_has_given_assessment" invisible="1"/>
                    <field name="assessment_expired" invisible="1"/>
                    <field name="assessment_started" invisible="1"/>
                    <field name="name" />
                    <field name="assessment_type" />
                    <field name="test_type" />
                    <field name="date"/>
                    <field name="from_time"/>
                    <field name="to_time"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click">
                                <div class="o_kanban_record_top container p-2 m-0">
                                    <div class="o_kanban_record_headings">
                                        <div class="text-left">
                                            <h3 class='text-uppercase'>
                                                <field name="name"/>
                                            </h3>
                                            <h1 class='text-uppercase badge badge-warning text-wrap font-weight-bold' style="font-size: 1rem;">
                                                <field name="assessment_type"/>
                                            </h1>
                                            <h1 class='text-uppercase badge badge-warning text-wrap font-weight-bold' style="font-size: 1rem;">
                                                <field name="test_type"/>
                                            </h1>
                                            <div class="clearfix"/>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <span class="font-weight-bold fa fa-calendar-o mb-2"/>
                                                        &amp;nbsp; <b> Date: </b>
                                                    <field name="date" widget="date"/>
                                                    <br/>
                                                    <span class="font-weight-bold fa fa-clock-o mb-2"/>
                                                        &amp;nbsp; <b> From Time: </b>
                                                    <field name="from_time" />
                                                    <br/>
                                                    <span class="font-weight-bold fa fa-clock-o mb-2"/>
                                                        &amp;nbsp; <b> To Time: </b>
                                                    <field name="to_time"/>
                                                    <br/>
                                                </div>
                                            </div>
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <button name="view_assessment_readonly_score"  attrs="{'invisible': ['|',('user_is_participant','=',True),'&amp;',('assessment_id','=',False),('score_id','=',False)]}" type="object" class="btn btn-primary">View Result</button>
                                                    <button name="view_assessment_participant_score" attrs="{'invisible': ['|','|',('user_is_participant','=',False),('assessment_expired','=',False),'&amp;',('score_id','=',False),('user_has_given_assessment','=',False)]}" type="object" class="btn btn-primary">View Result</button>
                                                    <button name="action_assessment_test" string="Take Test" attrs="{'invisible': ['|','|','|',('assessment_id','=',False), ('assessment_type','=','offline'),'|',('user_is_participant','=',False),('user_has_given_assessment','=',True),'|',('assessment_expired','=',True),('assessment_started','=',False)]}" type="object" class="btn btn-primary">Take Test</button>
                                                    <button name="action_add_questions"  attrs="{'invisible': ['|','|',('assessment_started','=',True),('user_is_trainer','=',False),('assessment_type','=','offline')]}" type="object" class="btn btn-primary">Manage Questions</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="action_kw_training_assessment_readonly_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Assessment</field>
            <field name="res_model">kw_training_assessment</field>
            <field name="view_mode">kanban,tree</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <field name="domain">[]</field>
            <field name="context">\{}</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('kw_training.view_kw_training_assessment_readonly_kanban')}),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_training.view_kw_training_assessment_readonly_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('kw_training.view_kw_training_assessment_readonly_form')})]"/>

            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No attendance found
                </p>
            </field>
        </record>

    </data>
</odoo>