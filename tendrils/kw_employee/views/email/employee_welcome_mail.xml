<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="employee_creation_email_template" model="mail.template">
            <field name="name">Employee Creation e-mail template</field>
            <field name="email_from">${ctx['from_email']|safe}</field>
            <field name="subject">Welcome New Employee | ${object.name}</field>
            <field name="email_to">${ctx['email_to']|safe}</field>
            <field name="email_cc">${ctx['email_cc']|safe}</field>
            <field name="reply_to">${ctx['reply_to']|safe}</field>
            <field name="model_id" ref="kw_employee.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
          <field name="body_html">
              <![CDATA[
                <table border="0" cellspacing="0" cellpadding="0" width="100%" >
                <tr>
                    <td>
                        <div style="margin-left: 1.2rem;">
                            <h5 style="font-weight: 400;margin-bottom: 0;font-size: 18px;color:#676767;">
                              <small style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;font-weight: 600;">Dear</small>
                              % if ctx['mail_for'] == 'RA':
                                <strong>${object.parent_id.name},</strong>
                              % elif ctx['mail_for'] == 'Employee':
                                <strong>${object.name},</strong>
                              % else:
                                <strong>All,</strong>
                              % endif
                            </h5>

                            % if ctx['mail_for'] != 'Employee':
                                <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    Please welcome the new employee <strong>${object.name}</strong> who has joined us
                                    as ${object.job_id.name} at ${object.base_branch_id.alias}.
                                </p>
                              % if ctx['mail_for'] == 'RA':
                                <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    You have been selected as the reporting authority of <strong>${object.name}</strong>.
                                </p>
                              % endif
                              % if ctx['mail_for'] == 'Finance':
                                <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                    Please start the process for opening the bank account.
                                </p>
                              % endif
                            % else:
                              <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">
                                Welcome to CSM. We are delighted to have you among us.
                                <br/>
                                On behalf of all the members and management,
                                we would like to extend our warmest welcome and good wishes.
                            </p>
                            % endif
                            <br/>
                            <strong style="color: #676767;line-height: 22px;margin: 20px 0 10px 0;font-size: 18px;text-decoration: underline;">
                                Employee Details
                            </strong>
                            <br/><br/>
                            <table class="table table-bordered table-striped" border="0" cellspacing="0" cellpadding="0" width="100%">
                              <tbody style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 17px;">

                                % if object.name:
                                  <tr>
                                      <td><strong>Name</strong></td>
                                      <td>${object.name}</td>
                                  </tr>
                                % endif

                                % if object.date_of_joining:
                                  <tr>
                                    <td><strong>Date of Joining</strong></td>
                                    <td>${object.date_of_joining.strftime('%d-%b-%Y')}</td>
                                  </tr>
                                % endif

                                % if object.department_id:
                                  <tr>
                                      <td><strong>Department</strong></td>
                                      <td>${object.department_id.name}</td>
                                  </tr>
                                % endif

                                % if object.division:
                                  <tr>
                                    <td><strong>Division</strong></td>
                                    <td>${object.division.name}</td>
                                  </tr>
                                % endif

                                % if object.section:
                                  <tr>
                                    <td><strong>Practice</strong></td>
                                    <td>${object.section.name}</td>
                                  </tr>
                                % endif

                                % if object.practise:
                                  <tr>
                                    <td><strong>Section</strong></td>
                                    <td>${object.practise.name}</td>
                                  </tr>
                                % endif

                                % if object.job_branch_id:
                                  <tr>
                                    <td><strong>Location</strong></td>
                                    <td>${object.job_branch_id.alias}</td>
                                  </tr>
                                % endif

                                % if object.job_id:
                                  <tr>
                                    <td><strong>Designation</strong></td>
                                    <td>${object.job_id.name}</td>
                                  </tr>
                                % endif

                              % if ctx['mail_for'] == 'Employee':
                                % if object.grade:
                                  <tr>
                                    <td><strong>Grade & Band</strong></td>
                                    <td>${object.grade.name} - ${object.emp_band.name}</td>
                                  </tr>
                                % endif
                              % endif

                              % if object.parent_id:
                                <tr>
                                  <td><strong>Reporting Authority</strong></td>
                                    <td>${object.parent_id.name}</td>
                                </tr>
                              % endif

                              </tbody>
                            </table>
                            <br/>
                            <br/>

                            
                            <p style="color: #676767;font-size: 14px;">This is a system generated mail. Please Do not reply to this mail.</p>
                        </div>
                    </td>
                </tr>
            </table>
                ]]>

            </field>

       </record>
    </data>
</odoo>
