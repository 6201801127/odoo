<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="kwemp_hr_department_form_view_in">
			<field name="name">hr.department.view.form.inherit</field>
			<field name="model">hr.department</field>
			<field name="inherit_id" ref="hr.view_department_form"/>
			<field name="arch" type="xml">
				<field name="manager_id" position="attributes">
					<attribute name="options">{'no_open': True,'no_create':True,'no_edit':True}</attribute>
				</field>
				<field name="parent_id" position="attributes">
					<attribute name="options">{'no_open': True,'no_create':True,'no_edit':True}</attribute>
				</field>
				<field name="manager_id" position="after">
					<field name="dept_type" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
					<field name="code"/>
					<field name="kw_id" groups="base.group_no_one"/>
					<field name="sort_no"/>
				</field>
				<field name="company_id" position="after">
					<field name="description"/>
					<field name="no_of_employee"/>
				</field>
			</field>
		</record>

		<record model="ir.ui.view" id="kwemp_hr_department_tree_view_in">
			<field name="name">hr.department.view.tree.inherit</field>
			<field name="model">hr.department</field>
			<field name="inherit_id" ref="hr.view_department_tree"/>
			<field name="arch" type="xml">
				<field name="parent_id" position="after">
                    <field name="dept_type"/>
                    <field name="no_of_employee"/>
					<field name="sort_no"/>
                </field>

			</field>
		</record>

		<!-- search view  -->
		<record id="hr.view_department_filter" model="ir.ui.view">
			<field name="name">hr_department_view_search_inherit</field>
			<field name="model">hr.department</field>
			<field name="type">search</field>
			<field name="mode">primary</field>
			<field name="priority" eval="16"/>
			<field name="arch" type="xml">
				<search string="Departments">
					<field name="name" string="Department"/>
					<field name="manager_id"/>
					<field name="parent_id"/>
					<filter string="Unread Messages" name="message_needaction"
					        domain="[('message_needaction','=',True)]"/>
					<separator/>
					<filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
				</search>
			</field>
		</record>


		<record id="hr.open_module_tree_department" model="ir.actions.act_window">
			<field name="name">Departments</field>
			<field name="res_model">hr.department</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,kanban,form</field>
			<field name="search_view_id" ref="hr.view_department_filter"/>
			<field name="domain_force">[('company_id','child_of',[user.company_id.id])]</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new department
				</p>
				<p>
					Department structure is used to manage all documents
					related to employees by departments: expenses, timesheets,
					leaves, recruitments, etc.
				</p>
			</field>
			
		</record>
	</data>
</odoo>
