<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="kw_resource_skill_view_tree">
			<field name="name">Resource Skill Tree</field>
			<field name="priority" eval="25"/>
			<field name="model">hr.employee</field>
			<field name="arch" type="xml">
				<tree create="false" delete="false">
					<field name="emp_display_name"/>
					<field name="primary_skill_id" string='Primary Skill'/>
					<field name="skill_id" string='Additional Skills' widget="many2many_tags"/>
				</tree>
			</field>
		</record>
		<record id="kw_resource_skill_view_form" model="ir.ui.view">
			<field name="name">Resource Skill Form</field>
			<field name="priority" eval="25"/>
			<field name="model">hr.employee</field>
			<field name="arch" type="xml">
				<form string="Resource skill" create="false" delete="false">
					<sheet>
						<group>
							<group>
								<!-- <field name="skills" /> -->
								<field name="emp_display_name" options="{'no_open': True,'no_create':True,'no_edit':True}"
								       readonly="1"/>
								<field name="primary_skill_id" string='Primary Skill' options="{'no_open': True,'no_create':True,'no_edit':True}"/>
								<field name="skill_id" string="Additional Skills" widget="many2many_tags" options="{'no_create':True,'no_edit':True}" force_save='1'/>
							</group>
						</group>
					</sheet>
				</form>
			</field>
		</record>
		<record id="kw_resource_kanban_view" model="ir.ui.view">
			<field name="name">Resource Kanban</field>
			<field name="priority" eval="25"/>
			<field name="model">hr.employee</field>
			<field name="arch" type="xml">
				<kanban class="o_event_kanban_view" create="false" delete="false">
					<field name="id"/>
					<field name="name"/>
					<field name="job_id"/>
					<field name="skill_id"/>
					<templates>
						<t t-name="kanban-box">
							<div class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record o_kanban_record"
							     tabindex="0" role="article">
								<img t-att-src="kanban_image('hr.employee', 'image_small', record.id.raw_value)"
								     t-att-title="record.name" t-att-alt="record.name" width="40"
								     height="40" class="o_kanban_image_fill_left o_hr_rounded_circle"/>
								<div class="oe_kanban_details">
									<div class="o_kanban_record_top">
										<div class="o_kanban_record_headings">
											<strong class="o_kanban_record_title">
												<span>
													<field name="emp_display_name"/>
												</span>
											</strong>
											<br/>
											<small>
												<field name="job_id"/>
											</small>
											<hr/>
											<span>
												<field name="primary_skill_id"/>
												<field name="skill_id"/>
											</span>
										</div>
									</div>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>

		<record id="resource_skill_search_view" model="ir.ui.view">
			<field name="name">resource skill search view</field>
			<field name="model">hr.employee</field>
			<field name="arch" type="xml">
				<search>
					<field name="skill_id" string="Skill"/>
					<!-- Group By Options -->
					<!-- <group expand="0" string="Group By">
						<filter name="skill_id" string="Skill" context="{'group_by': 'skill_id'}"/>
					</group> -->
				</search>
			</field>
		</record>


		<record id="view_inherit_filter" model="ir.ui.view">
			<field name="name">Resource Skill Filter</field>
			<field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_filter"/>
			<field name="arch" type="xml">
				<!--hide advanced view search -->
				<!--				<search>-->
				<!--					<group expand="0" string="Group By">-->
				<!--                        <filter string="Date Of Joining" name="date_of_joining" date="date_of_joining"/>-->
				<!--                    </group>-->
				<!--				</search>-->
				<xpath expr="//search/filter[2]" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//search/filter[3]" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//search/filter[4]" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//search/filter[5]" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
			</field>
		</record>


		<record model="ir.actions.act_window" id="kw_resource_skill_window_action">
			<field name="name">Resource Skill</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
		</record>

		<record model="ir.actions.act_window.view" id="kw_resource_skill_act_window_view_tree">
			<field name="sequence" eval="2"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="kw_resource_skill_view_tree"/>
			<field name="act_window_id" ref="kw_resource_skill_window_action"/>
		</record>

		<record model="ir.actions.act_window.view" id="kw_resource_skill_act_window_view_form">
			<field name="sequence" eval="3"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="kw_resource_skill_view_form"/>
			<field name="act_window_id" ref="kw_resource_skill_window_action"/>
		</record>

		<record model="ir.actions.act_window.view" id="kw_resource_skill_act_window_view_kanban">
			<field name="sequence" eval="1"/>
			<field name="view_mode">kanban</field>
			<field name="view_id" ref="kw_resource_kanban_view"/>
			<field name="act_window_id" ref="kw_resource_skill_window_action"/>
		</record>
		<menuitem name="Resource"
		          id="kw_resource_skill_menu_root"
		          parent="hr.menu_hr_root"
		          groups="hr.group_hr_manager,kw_employee.group_hr_management"/>
		<menuitem name="Resource Skill"
		          id="kw_resource_skill_menu"
		          parent="kw_resource_skill_menu_root"
		          action="kw_resource_skill_window_action"
		          groups="kw_employee.group_hr_resource_manager,kw_employee.group_hr_management"
		          sequence='1'/>
	</data>
</odoo>
