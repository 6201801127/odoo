<?xml version="1.0"?>
<odoo>
  <data>   
    
    <record model="ir.ui.view" id="kw_meeting_agenda_proposals_view_tree">
      <field name="name">kw_meeting_agenda_proposals list</field>
      <field name="model">kw_meeting_agenda_proposals</field>
      <field name="arch" type="xml">
        <tree create="true" editable="top" >
          <field name="agenda_id" readonly="1" invisible="0"/>
          <field name="create_date" readonly="1"  />
          <field name="name" string="Remark"/>        
          <field name="create_uid" readonly="1"  />
          <field name="meeting_id"  invisible="1"/>        
        </tree>
      </field>
    </record>

    <!--START: Post your input form view for my meeting -->
      <record id="kw_meeting_agenda_proposals_view_form" model="ir.ui.view">
          <field name="name">kw_meeting_agenda_proposals.form</field>
          <field name="model">kw_meeting_agenda_proposals</field>
          <field name="arch" type="xml">
              <form string="Post Your Input" >
                <sheet>
                  <group>
                    <field name="agenda_id" string="Agenda"  
                    options="{'no_create':True,'no_open': True,'no_edit':True}"
                    />
                    <field name="name" string="Input(s)"/>                         
                  </group>     
                </sheet> 
              </form>
          </field>
      </record>
    <!--END: Post your input form view for my meeting -->

      <record id="action_window_meeting_agenda_proposals" model="ir.actions.act_window">
          <field name="name">Meeting Agenda Input</field>
          <field name="res_model">kw_meeting_agenda_proposals</field>
          <field name="view_type">form</field>
          <field name="target">new</field>
          <field name="domain">
            [
              ("agenda_id", "=",  active_id),
            ]
          </field>
          <field name="context">
            {
              
              'default_agenda_id': active_id,
            }
            </field>

      </record>

      <!-- Action for smart buttons : meeting schedule -->

      <record model="ir.ui.view" id="kw_meeting_agenda_proposals_button_view_tree">
        <field name="name">kw_meeting_agenda_proposals Smart button list</field>
        <field name="model">kw_meeting_agenda_proposals</field>
        <field name="arch" type="xml">
          <tree > 
              <field name="agenda_id" readonly="1" invisible="0"/> 
              <field name="meeting_id"  invisible="1"/>             
              <field name="name" string="Input(s)"/>        
              <field name="create_uid" string="Posted By"  />   
              <field name="create_date" readonly="1"  string="Posted Date"/>    
          </tree>
        </field>
      </record>

      <record id="action_get_meeting_proposals" model="ir.actions.act_window">
          <field name="name">Agenda Input(s)</field>
          <field name="res_model">kw_meeting_agenda_proposals</field>
          <field name="view_mode">tree</field>
          <field name="view_id" ref="kw_meeting_schedule.kw_meeting_agenda_proposals_button_view_tree" />
          <field name="domain">
            [
              ("agenda_id.meeting_id", "=",  active_id),
            ]
          </field>
          <field name="context">{"create": False,"edit": False}</field>
      </record>

    </data>
</odoo>