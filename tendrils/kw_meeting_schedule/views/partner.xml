<?xml version="1.0"?>
<odoo>
  <data>
    		<record id="view_participant_form" model="ir.ui.view">
            <field name="name">res.partner.consultancy.view</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="26"/>
            <field name="arch" type="xml">
                <form string="Partners">
					<sheet>

						<field name="image" widget='image' class="oe_avatar" options='{"preview_image": "image_medium", "size": [90, 90]}'/>
						<div class="oe_title">
							<field name="is_company" invisible="1"/>
							<field name="commercial_partner_id" invisible="1"/>
							<field name="company_type" widget="radio"
								class="oe_edit_only"
								options="{'horizontal': true}"/>
							<h1>
								<field name="name" default_focus="1" placeholder="Name" attrs="{'required' : [('type', '=', 'contact')]}"/>
							</h1>
							<div class="o_row">
								<field name="parent_id"
									widget="res_partner_many2one"
									placeholder="Company"
									domain="[('is_company', '=', True)]" context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer, 'show_vat': True}"
									attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}"/>
									<field name="company_name" attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
									<button name="create_company" type="object" class="oe_edit_only btn-link"
										attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}">
										   <span class="fa fa-plus-square"/>
										   Create company
									</button>
							</div>
						</div>

						<group>
							<group>
								<field name="type" attrs="{'invisible': [('parent_id','=', False)]}" groups="base.group_no_one"/>
								<label for="street" string="Address"/>
								<div class="o_address_format">
									<div attrs="{'invisible': ['|', ('parent_id', '=', False), ('type', '!=', 'contact')]}" class="oe_edit_only"><b>Company Address:</b></div>
									<field name="street" placeholder="Street..." class="o_address_street"
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
									<field name="street2" placeholder="Street 2..." class="o_address_street"
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
									<field name="city" placeholder="City" class="o_address_city"
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
									<field name="state_id" class="o_address_state" placeholder="State" options='{"no_open": True}'
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" context="{'country_id': country_id, 'zip': zip}"/>
									<field name="zip" placeholder="ZIP" class="o_address_zip"
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
									<field name="country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}'
										attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
								</div>
								<field name="vat" placeholder="e.g. BE0477472701" attrs="{'readonly': [('parent_id','!=',False)]}"/>
							   </group>
								<group>
									<field name="function" placeholder="e.g. Sales Director"
										attrs="{'invisible': [('is_company','=', True)]}"/>
									<field name="phone" widget="phone"/>
									<field name="mobile" widget="phone"/>
									<field name="user_ids" invisible="1"/>
									<field name="email" widget="email" context="{'gravatar_image': True}" attrs="{'required': [('user_ids','!=', [])]}"/>
									<field name="website" widget="url" placeholder="e.g. https://www.odoo.com"/>
									<field name="title" options='{"no_open": True}'
										attrs="{'invisible': [('is_company', '=', True)]}"/>
									<field name="lang"/>
									<field name="category_id" widget="many2many_tags" options="{'color_field': 'color', 'no_create':True,'no_edit':True}" placeholder="Tags..."/>
								</group>
							</group>
							<field name="supplier" invisible="True"/>
                            <field name="customer" invisible="True"/>
                            <field name="is_meeting_participant" invisible="True"/>
				</sheet>
				</form>
			</field>
		</record>
	
    </data>
</odoo>
