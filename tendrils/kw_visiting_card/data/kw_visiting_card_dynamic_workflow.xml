<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="kw_visiting_card_dynamic_workflow_main" model="odoo.workflow">
            <field name="name">Business Card Approval</field>
            <field name="activities_add" eval="True"/>
            <field name="followers_add" eval="False"/>
            <field name="mail_thread_add" eval="True"/>
            <field name="remove_default_attrs_mod" eval="False"/>
            <field name="model_id" ref="kw_visiting_card.model_kw_visiting_card_apply"/>
        </record>

        <record id="kw_visiting_card_dynamic_workflow_node_1" model="odoo.workflow.node">
            <field name="name">Applied</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Applied</field>
            <field name="sequence" eval="1"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_start" eval="True"/>
        </record>
        <record id="kw_visiting_card_dynamic_workflow_node_2" model="odoo.workflow.node">
            <field name="name">Approved</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Approved</field>
            <field name="sequence" eval="2"/>
            <field name="is_visible" eval="True"/>
        </record>
        <record id="kw_visiting_card_dynamic_workflow_node_6" model="odoo.workflow.node">
            <field name="name">Granted</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Granted</field>
            <field name="sequence" eval="3"/>
            <field name="is_visible" eval="True"/>
        </record>
        <record id="kw_visiting_card_dynamic_workflow_node_3" model="odoo.workflow.node">
            <field name="name">Sent For Printing</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Sent For Printing</field>
            <field name="sequence" eval="4"/>
            <field name="is_visible" eval="True"/>
        </record>
        <record id="kw_visiting_card_dynamic_workflow_node_4" model="odoo.workflow.node">
            <field name="name">Delivered to User</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Delivered to User</field>
            <field name="sequence" eval="5"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_end" eval="True"/>
        </record>
        <record id="kw_visiting_card_dynamic_workflow_node_5" model="odoo.workflow.node">
            <field name="name">Rejected</field>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="node_name">Rejected</field>
            <field name="sequence" eval="6"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_end" eval="True"/>
        </record>
               
        <record id="kw_visiting_card_dynamic_workflow_button_1" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Approve</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_1"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|', ('state', '!=', 'Applied'),'&amp;',('manager_access', '=', False), ('ra_access', '=', False)]"/>
            <field name="action_type">code</field>
            <field name="code" >
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_card_approve_remark_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
            </field>
        </record> 

        <record id="kw_visiting_card_dynamic_workflow_button_2" model="odoo.workflow.node.button">
            <field name="sequence" eval="2"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Reject</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_1"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|', ('state', '!=', 'Applied'),'&amp;',('manager_access', '=', False), ('ra_access', '=', False)]"/>
            <field name="action_type">code</field>
            <field name="code">
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_reject_remark_printing_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
                
            </field>
        </record>
        
        <record id="kw_visiting_card_dynamic_workflow_button_5" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Grant</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_2"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|',('state', '!=', 'Approved'), ('manager_access','=',False)]"/>
            <field name="action_type">code</field>
            <field name="code">
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_card_granted_remark_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
                
            </field>
        </record>
        
        <record id="kw_visiting_card_dynamic_workflow_button_6" model="odoo.workflow.node.button">
            <field name="sequence" eval="2"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Reject</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_2"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|',('state', '!=', 'Approved'), ('manager_access','=',False)]"/>
            <field name="action_type">code</field>
            <field name="code">
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_reject_remark_printing_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
                
            </field>
        </record> 

        <record id="kw_visiting_card_dynamic_workflow_button_3" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Sent For Printing</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_6"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|',('state', '!=', 'Granted'), ('manager_access','=',False)]"/>
            <field name="action_type">code</field>
            <field name="code">
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_card_admin_remark_printing_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
            </field> 
        </record>


        <record id="kw_visiting_card_dynamic_workflow_button_4" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_visiting_card_dynamic_workflow_main"/>
            <field name="name">Delivered to User</field>
            <field name="node_id" ref="kw_visiting_card_dynamic_workflow_node_3"/>
            <field name="is_highlight" eval="True"/>
            <field name="custom_domain" eval="True"/>
            <field name="btn_hide_domain" eval="['|',('state', '!=', 'Sent For Printing'), ('manager_access','=',False)]"/>
            <field name="action_type">code</field>
            <field name="code">
obj.write({'admin_remark':False})
form_view_id = env.ref("kw_visiting_card.kw_visiting_card_deliver_user_remark_printing_form_view").id
action= {
    'name':'Remarks',
    'type': 'ir.actions.act_window',
    'res_model': 'kw_visiting_card_apply',
    'view_mode': 'form',
    'view_type': 'form',
    'res_id': obj.id,
    'view_id': form_view_id,
    'target': 'new',
    'domain': [('id', '=', obj.id)]
    }
            </field>
        </record>  

    </data>
</odoo>