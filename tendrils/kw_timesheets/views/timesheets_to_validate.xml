<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="account_analytic_line_view_tree_new" model="ir.ui.view">
            <field name="name">kw_timesheets_to_validate.validate.tree</field>
            <field name="model">kw_timesheets_to_validate</field>
            <field name="priority" eval="99"/>
            <field name="arch" type="xml">
                <tree import="0" editable="top">
                    <field name="t_date" readonly="1"/>
                    <field name="timesheet_id"  invisible="1"/>
                    <field name="employee_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True,'no_edit':True}" />
                    <field name="hide_tagged_to" invisible="1" />
                    <field name="project_category_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True,'no_edit':True}"/>
                    <field name="project_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True,'no_edit':True}"/>
                    <field name="task_id" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True,'no_edit':True}"/>
                    <field name="description" readonly="1" options="{'no_open': True,'no_create':True,'no_edit':True,'no_edit':True}"/>
                    <field name="task_status" readonly="1"  attrs="{'invisible':[('hide_tagged_to', '=', True)]}"/>
                    <field name="work_hours"/>
                    <field name="unit_amount" string="Timesheet fill (Hours)" sum="Total" widget="float_time"/>
                    <button name="action_validate_timesheet" type="object" string="Validate" class="oe_highlight"/>      
                </tree>
            </field>
        </record>

        

        <record id="kw_timesheets_validate_window_action_new" model="ir.actions.act_window">
            <field name="name">Validate Timesheets</field>
            <field name="res_model">kw_timesheets_to_validate</field>
            <field name="view_mode">tree</field>
            <field name="domain">[]</field>
            <field name="context">{'create':False,'delete':False,'filter_ra_pm_reviewer_timesheet':1}</field>
            <!-- <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_timesheets_to_validate.account_analytic_line_view_tree_new')})]"/> -->
            <field name="help" type="html">
                <p>No timesheet found...</p>
            </field>
        </record>

        <!-- <menuitem id="kw_timesheet_to_validate_menu_action" 
                    name="TO VAlidate" parent="hr_timesheet.timesheet_menu_root"
                    action="kw_timesheets_validate_window_action_new" sequence="10" 
                    groups='hr_timesheet.group_hr_timesheet_user,group_kw_timesheets_report_manager'/>

         <act_window id="action_timesheet_validate_report_wizard_window"
                name="Validate Timesheet"
                src_model="kw_timesheets_to_validate"
                res_model="kw_timesheets_validate_wizard"
                view_type="form"
                view_mode="form"
                view_id="timesheet_validate_view_form"
                key2="client_action_multi"
                target="new"/> -->
        
    </data>
</odoo>
