<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="kw_timesheet_reminder_mail_to_employee_mail_template" model="mail.template">
            <field name="name">Timesheet Reminder email template For employee</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Updation | Reminder!</field>
            <field name="email_to">${ctx['to_mail']}</field>
            <!-- <field name="email_cc">${object.employee_id.work_email or ''|safe}</field> -->
            <field name="model_id" ref="analytic.model_account_analytic_line"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${ctx['emp_name']},  
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        This is a reminder that your timesheet updation is pending for:
                                    </p>
                                        
                                    <table border="1" cellpadding="5" cellspacing="0" style="width:50%;margin-left:1.2rem;border-collapse: collapse;font-size: 16px; margin-top:1rem; ">
                                        <tr>
                                            <th style="height: 30px;width:30%;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Sl.No. </th>
                                            <th style="height: 30px;width:70%;padding-left:5px;font-weight:700;color:#676767;text-align:left;"> Date </th>
                                        </tr>
                                        % for record in ctx['list_date']:
                                            <tr>
                                                <td style="padding-left:5px;color:#676767;height: 34px;width:10%;" >
                                                    ${loop.index}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;height: 34px;width:25%;">
                                                    ${record}
                                                </td>
                                            </tr>
                                        % endfor
                                    </table>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Please log into Tendrils to update and submit your timesheet latest by Sunday EOD.
                                    </p>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Failure to submit your timesheets may result in loss of Earned Leave (EL) or loss of pay.
                                    </p>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        If you have any questions regarding your Timesheet then please contact your Reporting Authority/Project Manager.
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
        </record>
       
        <record id="kw_timesheet_reminder_mail_to_ra_mail_template" model="mail.template">
            <field name="name">Timesheet Reminder Email template For RA</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Validation | Reminder!</field>
            <field name="email_to">${ctx['to_mail']}</field>
            <!-- <field name="email_cc">${object.employee_id.work_email or ''|safe}</field> -->
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${ctx['emp_name']},
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                       This is a gentle reminder to Validate the Timesheet of your team, before the end of today.</p>
                                        
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">If you have any questions please contact HR Department.</p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                         
                                </div>
                            </td>
                        </tr>
                    </table>
             ]]>
            </field>
        </record>

        <!-- Payroll el and paycut reminder mail template -->
        <record id="kw_timesheet_reminder_payroll_el_paycut_mail_template" model="mail.template">
            <field name="name">Timesheet Effort Summary &amp; Implication in Payroll email template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Effort Summary &amp; Implication in Payroll | ${(ctx['db_month'])}-${object.attendance_year}</field>
            <field name="email_to">${object.employee_id.work_email or ''|safe}</field>
            <field name="model_id" ref="kw_timesheets.model_kw_timesheet_payroll_report"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.employee_id.name},  
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Please find below the summary of your timesheet efforts for
                                        ${(ctx['db_month'])}-${object.attendance_year}
                                        and implication in payroll.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        <u>
                                            <b>
                                                Summary of Timesheet Efforts:
                                            </b>
                                        </u>
                                    </p>
                                    <table border="1" cellpadding="5" cellspacing="0" style="width:60%;border-collapse: collapse;font-size: 16px; margin-left:1em;">
                                        <tr>
                                            <td style="height: 30px;width:50%; font-weight:700;color:#676767;text-align:left;">Required Efforts</td>
                                            <td style="color:#676767;height: 34px;width:50%;" >
                                                ${ctx['trim_required_effort_hour']} hrs
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="height: 30px;width:50%; font-weight:700;color:#676767;text-align:left;">Actual Efforts</td>
                                            <td style="color:#676767;height: 34px;width:50%;" >
                                                ${ctx['trim_num_actual_effort']} hrs
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="height: 30px;width:50%; font-weight:700;color:#676767;text-align:left;">Deficit Efforts</td>
                                              
                                            <td style="color:#676767;height: 34px;width:50%;" >
                                                ${ctx['trim_total_effort_hr']} hrs
                                            </td>
                                        </tr>
                                      
                                    </table>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        <u>
                                            <b>
                                                Implication in Payroll:
                                            </b>
                                        </u>
                                    </p>
                                    <table border="1" cellpadding="5" cellspacing="0" style="width:60%;border-collapse: collapse;font-size: 16px; margin-left:1em;">
                                        <tr>
                                            <td style="height: 30px;width:50%; font-weight:700;color:#676767;text-align:left;">EL Deduction</td>
                                            <td style="color:#676767;height: 34px;width:50%;" >
                                                ${ctx['trim_timesheet_el_days']} days
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="height: 30px;width:50%; font-weight:700;color:#676767;text-align:left;">Paycut(LWOP)</td>
                                            <td style="color:#676767;height: 34px;width:50%;" >
                                                ${ctx['trim_timesheet_paycut_days']} days
                                            </td>    
                                        </tr>
                                    </table>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>

                                </div>
                            </td>
                        </tr>
                    </table>

             ]]>
            </field>
        </record>

         <!-- Payroll el and paycut reminder mail to HR -->
        <record id="kw_timesheet_hr_reminder_el_paycut_mail_template" model="mail.template">
            <field name="name">Timesheet Effort Summary &amp; Implication in Payroll HR-email template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Effort Summary &amp; Implication in Payroll Report of all Employee | ${(ctx['db_month'])}-${object.attendance_year}</field>
            <field name="email_to">manasi.das@csm.tech</field>
            <field name="model_id" ref="kw_timesheets.model_kw_timesheet_payroll_report"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear Manasi Das,  
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Please find below summary of timesheet efforts for
                                        ${(ctx['db_month'])}-${object.attendance_year}
                                        and implication in payroll.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        <u>
                                            <b>
                                                Summary of Timesheet Efforts:
                                            </b>
                                        </u>
                                    </p>
                                    <table border="1" style="width:100%;margin-left:1.2rem;border-collapse: collapse;font-size: 16px; margin-top:2rem; ">
                                        <tr>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Sl.No.</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Employee Code</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Employee Name</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Required Efforts</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Actual Efforts</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Deficit Efforts</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">EL Deduction</th>
                                            <th style="height: 30px;padding-left:5px;font-weight:700;color:#676767;text-align:left;">Paycut(LWOP)</th>
                                        </tr>
                                        % for row in ctx.get('emp_list'):
                                            <tr>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${loop.index}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[0]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[1]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[2]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[3]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[4]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[5]}
                                                </td>
                                                <td style="padding-left:5px;color:#676767;padding-left: 20px;height: 34px;width:20%;" >
                                                    ${row.split(':')[6]}
                                                </td>
                                            </tr>
                                        %endfor

                                    </table>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </table>

             ]]>
            </field>
        </record>


        <!-- start : Reminder to fill timesheet : email template for employees (for one day) -->
        <record id="timesheet_one_day_reminder_to_employee_mail_template" model="mail.template">
            <field name="name">Timesheet One Day Update Reminder email for employee</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Updation | Reminder!</field>
            <field name="email_to">${object.work_email or ''|safe}</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.name},  
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        This is a reminder that your timesheet updation is pending for: <b>${ctx['timesheet_date']}</b>
                                    </p>
                                        
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Please log into Tendrils to update your timesheet.
                                    </p>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Failure to submit your timesheets may result in loss of Earned Leave (EL) or loss of pay.
                                    </p>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        If you have any questions regarding your Timesheet then please contact your Reporting Authority/Project Manager.
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
        </record>
        <!-- end : Reminder to fill timesheet : email template for employees (for one day) -->

        <!-- start : Reminder to validate timesheet : email template for RA,PM,Reviewer (for one day) -->
        <record id="timesheet_one_day_reminder_to_ra_pm_reviewer_template" model="mail.template">
            <field name="name">Timesheet One Day Validate Reminder email for RA,PM,Reviewer</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet Validate | Reminder!</field>
            <field name="email_to">${object.work_email or ''|safe}</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.name},  
                                        </span>
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        This is a reminder that your project team/subordinates timesheet validate is pending for: <b>${ctx['timesheet_date']}</b>
                                    </p>
                                        
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Please log into Tendrils to validate your timesheet.
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
        </record>
        <!-- end : Reminder to fill timesheet : email template to users (for one day) -->
    </data>
</odoo>