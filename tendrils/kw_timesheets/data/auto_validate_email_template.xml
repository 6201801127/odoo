<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- Timesheet auto validate mail template -->
        <record id="kw_timesheet_auto_validate_mail_template" model="mail.template">
            <field name="name">Timesheet auto validate email template</field>
            <field name="email_from">tendrils@csm.tech</field>
            <field name="subject">Timesheet | Auto-Validated</field>
            <field name="email_to">${ctx['to_mail']}</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${ctx['emp_name']},
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Your timesheet from ${format_tz(ctx['prvs_mnth_26'], tz='UTC', format='%d-%B-%Y')} to ${format_tz(ctx['current_mnth_25'], tz='UTC', format='%d-%B-%Y')} has been auto validated by the system.
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>
                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
        </record>

        <!-- RA Validate mail template -->
        <record id="kw_timesheet_ra_validate_mail_template" model="mail.template">
            <field name="name">Timesheet RA validate email template</field>
            <field name="email_from">${object.parent_id.work_email or ''|safe}</field>
            <field name="subject">Timesheet | Validated</field>
            <field name="email_to">${object.work_email or ''|safe}</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.name},  
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Your timesheet from ${format_tz(ctx['start_date'], tz='UTC', format='%d-%B-%Y')} to ${format_tz(ctx['end_date'], tz='UTC', format='%d-%B-%Y')} has been validated by your reporting authority.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                       Remark: ${ctx['remark_get']}
                                    </p>  

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
            <field name="user_signature" eval="False"/>
        </record>

        <!-- RA,PM,Reviewer Validate mail template -->
        <record id="kw_timesheet_ra_pm_reviewer_validate_mail_template" model="mail.template">
            <field name="name">Timesheet RA,PM,Reviewer validate email template</field>
            <field name="email_from">${user.email or ''|safe}</field>
            <field name="subject">Timesheet | Validated</field>
            <field name="email_to">${object.employee_id.work_email or ''|safe}</field>
            <field name="email_cc">${object.employee_id.coach_id.work_email or ''|safe}</field>
            <field name="model_id" ref="hr_timesheet.model_account_analytic_line"/>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.employee_id.name},  
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Your timesheet for following date(s) has been validated by <span style="color:#167b9e">${user.name or ''|safe}</span>.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Remark : <span style="color:#167b9e">${object.remark or ''|safe}</span>.
                                    </p>
                                    <table border="1" style="border-collapse: collapse;font-size: 16px;margin-bottom:1em;">
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Date
                                            </td>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Activity
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                Hour(s)
                                            </td>
                                        </tr>
                                    
                                        % if ctx.get('timesheet_records') :
                                            % for timesheet in ctx.get('timesheet_records',[]) :
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                        ${timesheet.date.strftime("%d-%b-%Y")}
                                                    </td>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                        ${timesheet.task_id.name}
                                                    </td>
                                                    <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${str(datetime.timedelta(hours=timesheet.unit_amount))[:-3]}
                                                    </td>
                                                </tr>
                                            % endfor
                                        % endif
                                        
                                    </table>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
            <field name="user_signature" eval="False"/>
        </record>

        <!-- RA,PM,Reviewer Rejected mail template -->
        <record id="kw_timesheet_ra_pm_reviewer_timesheet_reject_mail_template" model="mail.template">
            <field name="name">Timesheet RA,PM,Reviewer Reject email template</field>
            <field name="email_from">${user.email or ''|safe}</field>
            <field name="subject">Timesheet | Rejected</field>
            <field name="email_to">${object.employee_id.work_email or ''|safe}</field>
            <field name="email_cc">${object.employee_id.coach_id.work_email or ''|safe}</field>
            <field name="model_id" ref="hr_timesheet.model_account_analytic_line"/>
            <field name="auto_delete" eval="False"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" >
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">
                                            Dear ${object.employee_id.name},  
                                        </span>
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Your timesheet for following date(s) has been Rejected by <span style="color:#167b9e">${user.name or ''|safe}</span>.
                                    </p>
                                    <p style="color: #676767;line-height: 145%;font-size: 16px;">
                                        Remark : <span style="color:#167b9e">${object.remark or ''|safe}</span>.
                                    </p>
                                    <table border="1" style="border-collapse: collapse;font-size: 16px;margin-bottom:1em;">
                                        <tr>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Date
                                            </td>
                                            <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                Activity
                                            </td>
                                            <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                Hour(s)
                                            </td>
                                        </tr>
                                        
                                        % if ctx.get('timesheet_records') :
                                            % for timesheet in ctx.get('timesheet_records',[]) :
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                        ${timesheet.date.strftime("%d-%b-%Y")}
                                                    </td>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;"width="200px">
                                                        ${timesheet.task_id.name}
                                                    </td>
                                                    <td style="color:#167b9e;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${str(datetime.timedelta(hours=timesheet.unit_amount))[:-3]}
                                                    </td>
                                                </tr>
                                            % endfor
                                        % endif
                                        
                                    </table>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        ------------------------------------------------------------------
                                    </p>

                                    <p style="color: #676767;line-height: 170%;font-size: 16px;">
                                        This is a system generated mail. Please do not reply to this email.
                                    </p>
                                   
                                </div>
                            </td>
                        </tr>
                    </table>  
                ]]>
            </field>
            <field name="user_signature" eval="False"/>
        </record>

    </data>
</odoo>