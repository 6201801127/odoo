<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="kw_timesheet_report_form" model="ir.ui.view">
            <field name="name">kw_timesheet_calendar_report.form</field>
            <field name="model">kw_timesheet_calendar_report</field>
            <!-- <field name="priority" eval="25"/> -->
            <field name="arch" type="xml">
                <form >
                    <sheet>
                    <group>              
                        <group>
                            <field name="employee_name" />
                            <field name="date" />
                            <field name="category_name"  options="{'no_open': True}"/>
                            <field name="project_id" options="{'no_open': True}"/>
                        </group>
                        <group>
                            <field name="category_mapped_to" invisible="1" />
                            <field name="opportunity" attrs="{'invisible': [('category_mapped_to','!=','Opportunity')]}"/>
                            <field name="task_id" options="{'no_open': True}"/>
                            <field name="effort"/>
                            <field name="desc"/>
                        </group>
                    </group>   
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Tree view for "model" -->
        <record id="view_kw_report_timesheet_tree" model="ir.ui.view">
            <field name="name">view.kw_timesheet_calendar.tree</field>
            <field name="model">kw_timesheet_calendar_report</field>
            <field name="type">tree</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <tree string="kw_timesheet_calendar_tree" create="false" edit="false" delete="false" import="false" >
                    <field name="employee_name" />
                    <!-- <field name="project"/> -->
                    <!-- <field name="category_name"/> -->
                    <!-- <field name="project_task"/>
                    <field name="date" />
                    <field name="desc" /> -->
                    <field name="timesheet_effort"/>
                </tree>
            </field>
        </record>

        <record id="view_kw_report_calendar" model="ir.ui.view">
            <field name="name">calendar report</field>
            <field name="model">kw_timesheet_calendar_report</field>
            <field name="arch" type="xml">
                <calendar string="Task" color="employee_name" date_start="date" mode="month" quick_add="false" >
                    <field name="display_task_duration" />
                    <!-- <field name="first_date" invisible='1'/> -->
                </calendar>
            </field>
        </record>

        <!-- Main window action for "model" -->
        <record id="action_kw_timesheet_calendar_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Timesheet calendar Report</field>
            <field name="res_model">kw_timesheet_calendar_report</field>
            <field name="view_mode">calendar,tree</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <field name="domain">[]</field>
        </record>
    </data>
</odoo>
