<?xml version='1.0' encoding='UTF-8' ?>
<odoo>
  <data>



    <!-- START : Form view for applying comp off -->
    <record id="view_off_day_entries_apply_form" model="ir.ui.view">
        <field name="name">Employee Apply Comp Off form</field>
        <field name="model">kw_hr_comp_off_allocation</field>
        <field name="type">form</field>
        <field name="priority" eval="100"/>
        <field name="arch" type="xml">
            <form string="Employee Apply Comp Off" >               
                <sheet>
                    <group>
                        <group>
                            <field name="state" invisible="1"/>                            
                            
                            <field name="attendance_id" invisible="1" />
                            <field name="attendance_date" string="Off Day Entry Date" />
                           

                            
                            <field name="employee_id" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"  groups="hr_holidays.group_hr_holidays_user" domain="[('user_id', '=',uid)]" />

                            <field name="comp_off_allocation" string="Request For" widget='radio' options="{'horizontal': true}" required="1" />
                            <field name="number_of_days" invisible="1"/>                            
                            <field name="reason" string="Reason" required="1" />

                        </group>
                    </group>
                </sheet>
                <footer>
                    <button string='Submit' name="apply_comp_off" type="object" class="btn font-weight-bold text-white" style="background-color: #108fbb;"  />
                    <button string="Cancel" class="btn-secondary" special="cancel"/>                       
                </footer>
            </form>
        </field>
    </record>
    <!-- END : Form view for applying comp off -->

    <!-- Apply window action from off day entry screen -->
    <record id="off_day_comp_off_apply_window_action" model="ir.actions.act_window">
        <field name="name">Apply Comp Off</field>
        <field name="res_model">kw_hr_comp_off_allocation</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_off_day_entries_apply_form"/>
        <field name="target">new</field>
        <field name="context">{'default_attendance_id': active_id}</field>
        
    </record>

     


  </data>
</odoo>