<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>

        <!--
            Update Wizard
        -->
        <record id="view_form_kw_payroll_process_wizard" model="ir.ui.view">
            <field name="name">kw_payroll_process_wizard form</field>
            <field name="model">kw_payroll_process_wizard</field>
            <field name="arch" type="xml">
                <form string="Process Payroll">
                     <script>
                        $(document).ready(function(){
                            $(".modal-title").show();
                        });
                    </script>
                    <header>
                    </header>
                    <sheet>     
                        <group>
                            <group>
                                <!-- <h4>Process Payroll</h4> -->
                                <field name="company_id" required="1" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="department_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="attendance_year" required="1"/>
                                <field name="attendance_month" required="1"/>
                            </group>
                        </group>
                        
                    </sheet>
                    <footer>
                        <button name="process_payroll_info" string="Process"
                                    type="object" class="oe_highlight"
                                    icon="fa-refresh"/>
                        <!-- <button name="share_latest_payroll_info_with_kwantify" string="Share with Kwantify"
                                    type="object" class=" btn btn-warning"
                                    icon="fa-share-alt"/> -->
                    </footer>
                </form>
            </field>
        </record>


        <record id="action_kw_payroll_process_wizard" model="ir.actions.act_window">
            <field name="name">Process Attendance for Payroll</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kw_payroll_process_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_form_kw_payroll_process_wizard"/>
            <field name="target">new</field>
        </record>
        <menuitem id="menu_payroll_process_update_wizard"
                  name="Process Attendance for Payroll"
                  action="action_kw_payroll_process_wizard"
                  parent="hr_attendance.menu_hr_attendance_settings"
                  sequence="30" groups="hr_attendance.group_hr_attendance_manager"/>


        <!-- SHare with Kwantify -->    
        <record id="view_form_kw_payroll_share_wizard" model="ir.ui.view">
            <field name="name">kw_payroll_share_wizard form</field>
            <field name="model">kw_payroll_process_wizard</field>
            <field name="arch" type="xml">
                <form string="Process Payroll">
                     <script>
                        $(document).ready(function(){
                            $(".modal-title").show();
                        });
                    </script>
                    <header>
                    </header>
                    <sheet>     
                        <group>
                            <field name="monthly_payroll_ids" />
                        </group>
                    </sheet>
                    <footer>                        
                        <button name="share_selected_payroll_info_with_kwantify" string="Share with Tendrils"
                                    type="object" class=" btn btn-warning"
                                    icon="fa-share-alt"/>

                        <button string="Close" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>


        <act_window id="action_payroll_info_share_kwantify_wizard"
		            name="Share with Kwantify"
		            src_model="kw_employee_monthly_payroll_info"
		            res_model="kw_payroll_process_wizard"
		            view_type="form" view_mode="form" view_id="view_form_kw_payroll_share_wizard"
		            key2="client_action_multi" target="new"
		/>

       
    </data>
</odoo>