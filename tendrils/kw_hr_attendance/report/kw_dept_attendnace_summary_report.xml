<?xml version="1.0"?>
<odoo>
  <data>

        <record id="view_kw_attendance_dept_summary_report_pivot" model="ir.ui.view">
            <field name="name">Employee Statistics Pivot View</field>
            <field name="model">kw_dept_attendnace_summary_report</field>
            <field name="arch" type="xml">
                <pivot string="Employee Statistics"> 
                    <field name="department_id"  type="row"/>

                    <field name="attendance_recorded_date" interval="day" type="col"/>                    
                    <field name="employee_id" type="measure" string="Total"/>
                    <field name="absent_state" type="measure"  />                   
                    <field name="normal_entry_state" type="measure" />
                    <field name="le_state" type="measure" />   
                   
                </pivot>
            </field>
        </record>

        <record id="view_kw_attendance_dept_summary_report_graph" model="ir.ui.view">
            <field name="name">kw_dept_attendnace_summary_report.graph</field>
            <field name="model">kw_dept_attendnace_summary_report</field>
            <field name="arch" type="xml">
                <graph string="Dept. Statistics">
                    <field name="department_id"/>
                    <field name="attendance_recorded_date"/>
                    <field name="state" />
                </graph>
            </field>
        </record>

       <!--  <record model="ir.ui.view" id="view_kw_attendance_summary_report_tree">
            <field name="name">kw_attendance_summary_report.view.report tree</field>
            <field name="model">kw_attendance_summary_report</field>           
            <field name="arch" type="xml"> 
                <tree >                  
                    <field name="employee_id" string="Name"/>
                    <field name="attendance_recorded_date" />
                    <field name="check_in" />
                    <field name="check_out" />
                    <field name="shift_name"/>                    
                    <field name="state" />
                    <field name="day_status" />    
                    <field name="check_in_status"/>
                    <field name="check_out_status"/>  
                    <field name="le_state"/>
                    <field name="le_action_status"/>               
                </tree>
            </field>
        </record>

 -->
        <record id="search_view_kw_attendance_dept_summary_report" model="ir.ui.view">
            <field name="name">Employee Statistics Search View</field>
            <field name="model">kw_dept_attendnace_summary_report</field>
            <field name="arch" type="xml">
                <search string="Search Meetings">
                    <field name="name" string="Employee" />
                    <field name="department_id" string="Department" />
                    <field name="attendance_recorded_date"/>                   
                   
                    <filter string="Attendance Date" name="filter_attendance_date" date="attendance_recorded_date"/>    
                    <filter string="Today" name="filter_attendance_day" domain="[('attendance_recorded_date', 'like',context_today().strftime('%Y-%m-%d'))]"  />                
                    <separator/>                  
                </search>
            </field>
        </record>


        <record model="ir.actions.act_window" id="action_kw_attendance_dept_summary_window">
            <field name="name">Department Attendance Report</field>
            <field name="res_model">kw_dept_attendnace_summary_report</field>
            <field name="view_mode">pivot,graph</field>
            <field name="domain">[]</field>
            <field name="context">{"search_default_filter_attendance_day":1,"create": False,"edit": False}</field>
            <field name="view_id" ref="view_kw_attendance_dept_summary_report_pivot"/> 
            <field name="search_view_id" ref="search_view_kw_attendance_dept_summary_report"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No record found
                </p>
            </field>
        </record>

     </data>
</odoo>