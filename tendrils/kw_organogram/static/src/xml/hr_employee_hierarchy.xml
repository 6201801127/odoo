<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
	<t t-name="hr_employee_hierarchy_report">
		<div class="container py-5">
			<div class="d-flex justify-content-center">
				<p class="h3 font-weight-bold">Employee Hierarchy</p>
			</div>
			<div class="d-flex justify-content-center">
				<div class="col-sm-4 col-md-4">
					<div class="input-group">
						<input type="text" id="search_employee_node" class="form-control" placeholder="Search" name="q"/>
						<div class="input-group-btn">
							<button id="search_employee_btn" class="btn btn-default" type="button"><i class="fa fa-search"/></button>
							<button id="search_employee_clear" class="btn btn-default" type="button"><i class="fa fa-trash"/></button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- <div class="chart-wrapper"> -->
		<div id="employee_chart_container"></div>
		
		<!-- </div> -->
		<script type="text/javascript">
			$(function() {
				var dict = employee_data
				//console.log(" >>> ", dict)
				for (let  k in dict){
					var margin = 0
					for (let  i in dict[k]){
						var data_source = dict[k][i]
						//console.log("data source==>>>> ",data_source);
						var og = $('#employee_chart_container').orgchart({
							'data' : data_source,
							'depth': 0,
							'nodeContent': 'title',
							'toggleSiblingsResp': false,
							'pan': true,
							'zoom': true,
							'parentNodeSymbol': '',
							'nodeTemplate': nodeTemplate,
							'direction': 'l2r',
							//'verticalLevel': 3,
      						//'visibleLevel': 4,
							'exportButton': true,
      						'exportFilename': 'EmployeeHierarchy'
						});
					}
				}
				$(".oc-export-btn").addClass('btn btn-primary').css({'position':'relative', 'top':'-70px'});
			});
			//$('#btn-chart1').on('click', function (argument) {
			  //oc.init({ 'data': datasource });
			//});
		</script>
	</t>
</templates>