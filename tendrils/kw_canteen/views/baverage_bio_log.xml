<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="0">
        <record id="view_baverage_bio_log_tree" model="ir.ui.view">
            <field name="name">view.baverage_bio_log.tree</field>
            <field name="model">baverage_bio_log</field>
            <field name="type">tree</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <tree string="baverage_bio_log_tree" create="false"  edit="false">
                    <field name="employee_id" invisible="1" />
                    <field name="emp_code" />
                    <field name="emp_name" />
                    <field name="month" invisible='1'/>
                    <field name="emp_designation_id" />
                    <field name="infra_unit_location_id"/>
                    <field name="beverage_type_id"/>
                    <field name="recorded_date" />
                    <field name="total_price" sum="Total"/>
                </tree>
            </field>
        </record>

        <record id="view_baverage_bio_log_form" model="ir.ui.view">
            <field name="name">view.baverage_bio_log.form</field>
            <field name="model">baverage_bio_log</field>
            <field name="type">form</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <form string="baverage_bio_log_form" create="false"  edit="false">
                    <header>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="employee_id" options="{'no_open': True}" />
                                <field name="essl_id" />
                                <field name="recorded_date" />
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="view_baverage_bio_log_search" model="ir.ui.view">
            <field name="name">view.baverage_bio_log.search</field>
            <field name="model">baverage_bio_log</field>
            <field name="type">search</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16" />
            <field name="active" eval="True" />
            <field name="arch" type="xml">
                <search string="baverage_bio_log_search">
                    <field name="employee_id" />
                    <field name="emp_code"/>
                    <field name="month"/>
                    <field name="emp_designation_id"/>
                    <field name="infra_unit_location_id"/>
                    <filter string="This FY Year" name="this_year_beverages_report" domain="[('recorded_date', '&gt;', context_today().strftime('%Y') + '/03/31'),
                            ('recorded_date', '&lt;=', (context_today()+relativedelta(years=1)).strftime('%Y')+ '/04/01')]"/>
                    <filter string="Last FY Year" name="last_year_beverages_report" domain="[('recorded_date', '&lt;=', context_today().strftime('%Y') + '/03/31'),
                            ('recorded_date', '&gt;=', (context_today()-relativedelta(years=1)).strftime('%Y')+ '/04/01')]"/>
                    <separator/>
                    <!-- <filter string="This month" domain="[('period_date', 'like',context_today().strftime('%m'))]" name="current_month_feedback"/> -->
                    <filter string="Self" name="filter_self_data" domain="[('employee_id.user_id','=',uid)]"/>
                    <separator />
                    <filter string="Today" name="filter_canteen_today" domain="[('recorded_date', '&lt;=',context_today().strftime('%Y-%m-%d')),('recorded_date', '&gt;=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filter string="Last Month" domain="[('recorded_date','&gt;',(context_today()-relativedelta(months=1)).strftime('%Y-%m-01')),('recorded_date','&lt;',(context_today()).strftime('%Y-%m-01'))]" name="last_month_beverage"/>
                    <filter string="This Month" domain="[('recorded_date', 'like',context_today().strftime('%Y-%m'))]" name="this_month_beverage"/>
                    <filter string="Last Month Bill" domain="[('recorded_date','&gt;=',(context_today()-relativedelta(months=2)).strftime('%Y-%m-26')),('recorded_date','&lt;=',(context_today()-relativedelta(months=1)).strftime('%Y-%m-25'))]" name="last_month_beverage"/>
                    <filter string="Current Month Bill" domain="[('recorded_date','&gt;=',(context_today()-relativedelta(months=1)).strftime('%Y-%m-26')),('recorded_date','&lt;=',(context_today()).strftime('%Y-%m-25'))]" name="last_month_beverage"/>

                    <separator/>
                    <filter string="April-June" domain="[('recorded_date','&gt;=',time.strftime('%%Y-04-01')),('recorded_date','&lt;',time.strftime('%%Y-06-30'))]" name="quarte1_beverage"/>                   
                    <separator/>
                    <filter string="July_Septmber" domain="[('recorded_date','&gt;=',time.strftime('%%Y-07-01')),('recorded_date','&lt;',time.strftime('%%Y-09-30'))]" name="quarte2_beverage"/>
                    <separator/>
                    <filter string="October-December" domain="[('recorded_date','&gt;=',time.strftime('%%Y-10-01')),('recorded_date','&lt;',time.strftime('%%Y-12-31'))]" name="quarte3_beverage"/>
                    <separator/>
                    <filter string="January-March" domain="[('recorded_date','&gt;=',time.strftime('%%Y-01-01')),('recorded_date','&lt;',time.strftime('%%Y-03-31'))]" name="quarte3_beverage"/>
                    <separator/>

                    <filter string="January" domain="[('recorded_date','&gt;=',time.strftime('%%Y-01-01')),('recorded_date','&lt;',time.strftime('%%Y-02-01'))]" name="january_report"/>
                    <filter string="February" domain="[('recorded_date','&gt;=',time.strftime('%%Y-02-01')),('recorded_date','&lt;',time.strftime('%%Y-03-01'))]" name="february_report"/>
                    <filter string="March" domain="[('recorded_date','&gt;=',time.strftime('%%Y-03-01')),('recorded_date','&lt;',time.strftime('%%Y-04-01'))]" name="march_report"/>
                    <filter string="April" domain="[('recorded_date','&gt;=',time.strftime('%%Y-04-01')),('recorded_date','&lt;',time.strftime('%%Y-05-01'))]" name="april_report"/>
                    <filter string="May" domain="[('recorded_date','&gt;=',time.strftime('%%Y-05-01')),('recorded_date','&lt;',time.strftime('%%Y-06-01'))]" name="may_report"/>
                    <filter string="June" domain="[('recorded_date','&gt;=',time.strftime('%%Y-06-01')),('recorded_date','&lt;',time.strftime('%%Y-07-01'))]" name="june_report"/>
                    <filter string="July" domain="[('recorded_date','&gt;=',time.strftime('%%Y-07-01')),('recorded_date','&lt;',time.strftime('%%Y-08-01'))]" name="july_report"/>
                    <filter string="August" domain="[('recorded_date','&gt;=',time.strftime('%%Y-08-01')),('recorded_date','&lt;',time.strftime('%%Y-09-01'))]" name="august_report"/>
                    <filter string="September" domain="[('recorded_date','&gt;=',time.strftime('%%Y-09-01')),('recorded_date','&lt;',time.strftime('%%Y-10-01'))]" name="september_report"/>
                    <filter string="October" domain="[('recorded_date','&gt;=',time.strftime('%%Y-10-01')),('recorded_date','&lt;',time.strftime('%%Y-11-01'))]" name="october_report"/>
                    <filter string="November" domain="[('recorded_date','&gt;=',time.strftime('%%Y-11-01')),('recorded_date','&lt;',time.strftime('%%Y-12-01'))]" name="november_report"/>
                    <filter string="December" domain="[('recorded_date','&gt;=',time.strftime('%%Y-12-01')),('recorded_date','&lt;=',time.strftime('%%Y-12-31'))]" name="december_report"/>
                    
                    <group expand="1" string="Group By">
                        <filter string="Employee" name="group_by_employee_id" domain="[]" context="{'group_by':'employee_id'}"/>
                        <filter string="Infra Unit Location" name="group_by_infra_loc" domain="[]" context="{'group_by':'infra_unit_location_id'}"/>
                        <filter string="Designation" name="group_by_designation" domain="[]" context="{'group_by':'emp_designation_id'}"/>
                    </group> 
                </search>
            </field>
        </record>
        <record model="ir.ui.view" id="baverage_bio_log_pivot">
            <field name="name">baverage_bio_log.pivot</field>
            <field name="model">baverage_bio_log</field>
            <field name="arch" type="xml">
                <pivot>
                    <field name="employee_id" type="row"/>
                    <field name="essl_id" type="measure"/>
                    <!-- <field name="recorded_date" type="measure"/> -->
                </pivot>
            </field>
        </record>

        <record id="action_baverage_bio_log_act_window" model="ir.actions.act_window">
            <field name="type">ir.actions.act_window</field>
            <field name="name">Beverage Report</field>
            <field name="res_model">baverage_bio_log</field>
            <field name="view_mode">tree,form,pivot</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <field name="domain">[]</field>
            <field name="context">\{}</field>
			<field name="context">{'search_default_filter_canteen_today':1,'search_default_filter_self_data': 1}</field>
            <field name="search_view_id" ref="view_baverage_bio_log_search" />
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    No Beverage Bio Log Recorded.
                </p>
            </field>
        </record>


    </data>
</odoo>