<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="canteen_group" model="ir.module.category">
            <field name="name">Canteen</field>
        </record>

        <record id="canteen_emp_user_group" model="res.groups">
            <field name="name"> User</field>
            <field name="category_id" ref="canteen_group" />
        </record>

        <record id="canteen_manager_group" model="res.groups">
            <field name="name">Manager</field>
            <field name="category_id" ref="canteen_group" />
        </record>

        <!-- record rule -->

        <record id = "user_see_canteen_own_feedback" model = "ir.rule">
            <field name = "name">User only see his/her meal record</field>
            <field name = "model_id" ref = "model_kw_canteen_meal_feedback" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>
    
        <record id = "manager_see_see_canteen_all_feedback" model = "ir.rule">
            <field name = "name">Manager  see all Meal Feedback</field>
            <field name = "model_id" ref = "model_kw_canteen_meal_feedback" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id = "user_see_canteen_beverage_own_feedback" model = "ir.rule">
            <field name = "name">User only see his/her beverage record</field>
            <field name = "model_id" ref = "model_kw_canteen_beverage_feedback" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>
    
        <record id = "manager_see_see_canteen_beverage_all_feedback" model = "ir.rule">
            <field name = "name">Manager  see all Beverage Feedback</field>
            <field name = "model_id" ref = "model_kw_canteen_beverage_feedback" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id = "user_after_create" model = "ir.rule">
            <field name = "name">User Regular Meal Rule</field>
            <field name = "model_id" ref = "model_kw_canteen_regular_meal" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id = "user_after_create_guest" model = "ir.rule">
            <field name = "name">User Guest Meal Rule</field>
            <field name = "model_id" ref = "model_kw_canteen_guest_meal" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id = "manager_after_create_guest" model = "ir.rule">
            <field name = "name">Manager Guest Meal Rule</field>
            <field name = "model_id" ref = "model_kw_canteen_guest_meal" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id = "user_applied_record" model = "ir.rule">
            <field name = "name">Manager Regular meal rule</field>
            <field name = "model_id" ref = "model_kw_canteen_regular_meal" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name = "domain_force"> ['|',('state','!=','draft'),('create_uid','=',user.id)] </field>
        </record>

        <record id = "user_see_report" model = "ir.rule">
            <field name = "name">Meal Log User rule</field>
            <field name = "model_id" ref = "model_meal_price_log" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id = "user_see_meal_bio_log_report" model = "ir.rule">
            <field name = "name">User Meal log Rule</field>
            <field name = "model_id" ref = "model_meal_bio_log" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id = "manager_see_meal_bio_log_report" model = "ir.rule">
            <field name = "name">Manager Meal Bio log rule</field>
            <field name = "model_id" ref = "model_meal_bio_log" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id ="user_see_meal_beverage_report" model = "ir.rule">
            <field name = "name">User Beverage log rule</field>
            <field name = "model_id" ref = "model_baverage_bio_log" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id ="manager_see_meal_beverage_report" model = "ir.rule">
            <field name = "name">Manager Beverage Log Rule</field>
            <field name = "model_id" ref = "model_baverage_bio_log" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

        <record id = "user_see_canteen_correction_id" model = "ir.rule">
            <field name = "name"> user only see his/her record</field>
            <field name = "model_id" ref = "model_kw_canteen_correction_request" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id = "user_see_draft_record_id" model = "ir.rule">
            <field name = "name"> user only see his/her record</field>
            <field name = "model_id" ref = "model_kw_canteen_correction_request" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name = "domain_force"> ['|',('employee_id','=',user.employee_ids.id),('state','!=','1')] </field>
        </record>

        <record id ="user_canteen_transaction_report" model = "ir.rule">
            <field name = "name">User Canteen Transaction rule</field>
            <field name = "model_id" ref = "model_employee_canteen_expense_report" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
            <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
        </record>

        <record id ="manager_canteen_transaction_report" model = "ir.rule">
            <field name = "name">Manager Canteen Transaction Rule</field>
            <field name = "model_id" ref = "model_employee_canteen_expense_report" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>


        <record id ="manager_kw_canteen_expense_master" model = "ir.rule">
            <field name = "name">Manager Canteen Transaction Rule</field>
            <field name = "model_id" ref = "model_kw_canteen_expense_master" />
            <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_manager_group'))]" />
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

       <!-- <record id ="user_see_beverage_price_log" model = "ir.rule">
           <field name = "name"> user only see his/her record</field>
           <field name = "model_id" ref = "model_beverage_price_log" />
           <field name = "groups" eval = "[(4, ref ('kw_canteen.canteen_emp_user_group'))]" />
           <field name = "domain_force"> [('employee_id','=',user.employee_ids.id)] </field>
       </record> -->
    </data>
</odoo>