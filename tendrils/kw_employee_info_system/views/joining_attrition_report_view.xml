<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record model="ir.ui.view" id="fiscal_year_wise_joining_report_tree">
        <field name="name">joining.report.tree</field>
        <field name="model">fiscal_year_wise_joining_report</field>
        <field name="arch" type="xml">
            <tree string="Joining Report" create='false' edit='false' import='false'>
                <field name="fiscal_year" />
                <field name="quarterly" />
                <!-- <field name='quarter'/> -->
                <field name="month_year" />
                <field name="department" />
                <field name="year" invisible='1'  />
                <field name="month" invisible='1' />
                <field name="male_count"  />
                <field name="female_count" />
                <field name="total_employees"  />
                <!-- <field name="this_quarter_count" />
                <field name="this_month_count" /> -->
                <field name="male_ratio"  />
                <field name="female_ratio"  />
                <field name="monthly_growth" />
                <field name="quarterly_growth" />
                <field name="yearly_growth" />
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="fiscal_year_wise_joining_report_graph">
        <field name="name">joining.report.graph</field>
        <field name="model">fiscal_year_wise_joining_report</field>
        <field name="arch" type="xml">
            <graph string="Joining Report">
                <field name="fiscal_year" type='row'/>
                <!-- <field name="half_yearly"  /> -->
                <field name="month_year" />
                <field name="quarterly" />
                <!-- <field name='quarter'/> -->
                <field name="department" />
                <field name="total_employees"  />
                <field name="male_count"  />
                <field name="female_count" />
                <field name="male_ratio"  />
                <field name="female_ratio"  />
                <field name="monthly_growth" />
                <field name="quarterly_growth" />
                <field name="yearly_growth" />
            </graph>
        </field>
    </record>

    <record id="fiscal_year_wise_joining_report_search" model="ir.ui.view">
        <field name="name">fiscal_year_wise_joining_report.search</field>
        <field name="model">fiscal_year_wise_joining_report</field>
        <field name="arch" type="xml">
            <search string="">
                <field name="fiscal_year" />
                <field name="quarterly"/>
                <field name="month_year"/>
                <field name="department"/>
                <field name="year"/>
				<field name="month"/>

                <filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]" name="this_year_joining_date"/>
                <filter string="This Month" domain="[('month', '=',context_today().strftime('%m'))]" name="last_month_joining_date"/>
                
                <!-- <filter string="This Quarter" domain="[('fiscal_year', '=', context_today().strftime('%Y')), ('quarterly', '&gt;=', (context_today() - relativedelta(months=3)).strftime('%Y-%m-%d'))]" name="this_quarter_joining_date" help="Records for this quarter"/> -->


                <!-- this_month_joining_date -->
                
                <group expand="0" string="Group By">
                    <filter name="group_by_month_year" string="Monthly" domain="" context="{'group_by':'month_year'}"/>
                    <filter name="group_by_fiscal_year" string="FY" domain="[]" context="{'group_by':'fiscal_year'}"/>
                    <!-- <filter name="group_by_quarter" string="Quarter" domain="[]" context="{'group_by':'half_yearly_string'}"/> -->
                    <filter name="group_by_quarterly" string="Quarterly" domain="[]" context="{'group_by':'quarterly'}"/>
                    <filter name="group_by_department" string="Department" domain="[]" context="{'group_by':'department'}"/>


                </group>
            </search>
        </field>
    </record>


    <record model="ir.actions.act_window" id="fiscal_year_wise_joining_report_act_window">
        <field name="name">Joining Report</field>
        <field name="res_model">fiscal_year_wise_joining_report</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,graph</field>
        <field name="domain">[('date_of_joining','>=','2018-04-01')]</field>
        <field name="search_view_id" ref="kw_employee_info_system.fiscal_year_wise_joining_report_search"/>
        <field name="context">{}</field>  <!-- force empty -->
        <field name="help" type="html">
          <p class="o_view_nocontent_empty_folder">
            No content
          </p><p>
            From this report, you can have an overview on all depreciations. The
            search bar can also be used to personalize your assets depreciation reporting.
          </p>
        </field>
    </record>
   
    <menuitem id="fiscal_year_wise_joining_report_menu"
                name="Joining Report"
                parent="kw_employee_info_system.employee_mis_report_menu"
                action="kw_employee_info_system.fiscal_year_wise_joining_report_act_window"
                sequence="100"/>
                
                

    <record model="ir.ui.view" id="fiscal_year_wise_attrition_report_graph">
        <field name="name">attrition.report.graph</field>
        <field name="model">fiscal_year_wise_attrition_report</field>
        <field name="arch" type="xml">
            <graph string="attrition Report">
                <field name="fiscal_year" type='row'/>
                <!-- <field name="half_yearly"  /> -->
                <field name="month_year" />
                <field name="quarterly" />
                <field name="department" />
                <field name="total_employees"  />
                <field name="male_count"  />
                <field name="female_count" />
                <field name="male_ratio"  />
                <field name="female_ratio"  />
                <field name="monthly_growth" />
                <field name="quarterly_growth" />
                <field name="yearly_growth" />

            </graph>
        </field>
    </record>
    <record model="ir.ui.view" id="fiscal_year_wise_attrition_report_tree">
        <field name="name">attrition.report.tree</field>
        <field name="model">fiscal_year_wise_attrition_report</field>
        <field name="arch" type="xml">
            <tree string="Attrition Report" create='false' edit='false' import='false'>
                <field name="fiscal_year" />
                <field name="quarterly" />
                <field name="month_year" />
                <field name="department" />
                <!-- <field name="date_of_attrition" /> -->
                <field name="male_count"  />
                <field name="female_count" />
                <field name="total_employees"  />
                <!-- <field name="this_year_count" />
                <field name="this_quarter_count" />
                <field name="this_month_count" /> -->
                <field name="male_ratio"  />
                <field name="female_ratio"  />
                <field name="monthly_growth" />
                <field name="quarterly_growth" />
                <field name="yearly_growth" />
            </tree>
        </field>
    </record>

    <record id="fiscal_year_wise_attrition_report_search" model="ir.ui.view">
        <field name="name">fiscal_year_wise_attrition_report.search</field>
        <field name="model">fiscal_year_wise_attrition_report</field>
        <field name="arch" type="xml">
            <search string="">
                <field name="fiscal_year" />
                <field name="quarterly"/>
                <field name="month_year"/>
                <field name="department"/>
                <field name="year"/>
				<field name="month"/>

                <filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]" name="this_year_joining_date"/>
                <filter string="This Month" domain="[('month', '=',context_today().strftime('%m'))]" name="last_month_joining_date"/>

                <group expand="0" string="Group By">
                    <filter name="group_by_month_year" string="Monthly" domain="" context="{'group_by':'month_year'}"/>
                    <filter name="group_by_fiscal_year" string="FY" domain="[]" context="{'group_by':'fiscal_year'}"/>
                    <!-- <filter name="group_by_quarter" string="Quarter" domain="[]" context="{'group_by':'half_yearly_string'}"/> -->
                    <filter name="group_by_quarterly" string="Quarterly" domain="[]" context="{'group_by':'quarterly'}"/>
                    <filter name="group_by_department" string="Department" domain="[]" context="{'group_by':'department'}"/>

                </group>
            </search>
        </field>
    </record>      
            
    <record model="ir.actions.act_window" id="fiscal_year_wise_attrition_report_act_window">
        <field name="name">Attrition Report</field>
        <field name="res_model">fiscal_year_wise_attrition_report</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,graph</field>
        <field name="domain">[('last_working_day','>=','2018-04-01')]</field>
        <field name="search_view_id" ref="kw_employee_info_system.fiscal_year_wise_attrition_report_search"/>
        <field name="context">{}</field>  <!-- force empty -->
        <field name="help" type="html">
            <p class="o_view_nocontent_empty_folder">
            No content
            </p><p>
            From this report, you can have an overview on all depreciations. The
            search bar can also be used to personalize your assets depreciation reporting.
            </p>
        </field>
    </record>
    
    <menuitem id="fiscal_year_wise_attrition_report_menu"
                name="Attrition Report"
                parent="kw_employee_info_system.employee_mis_report_menu"
                action="kw_employee_info_system.fiscal_year_wise_attrition_report_act_window"
                sequence="101"/>
</odoo>