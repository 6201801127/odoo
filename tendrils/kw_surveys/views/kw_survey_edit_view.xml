<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="kw_survey_view_kanban" model="ir.ui.view">
            <field name="name">View Survey</field>
            <field name="model">kw_surveys_details</field>
            <field name="arch" type="xml">
                <kanban class="o_event_kanban_view" create="false" import='false' delete="false" edit="false">
                    <field name="employee_ids"/>
                    <field name="survey_name"/>
                    <field name="survey_id"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="from_date" />
                    <field name="to_date"/>
                    <field name="state"/>
                    <field name="date_time"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click" style="width:330px;">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <h4>
                                            <img t-att-src="kanban_image('hr.employee', 'image_small', record.employee_ids.raw_value)" t-att-alt="record.employee_ids.value" width="40" height="40" class="rounded-circle"/>
                                            <b t-esc="record.employee_ids.value">
                                            </b>
                                        </h4>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <h2 class="text-uppercase badge text-wrap font-weight-bold p-2" style="background-color: #ade4ef; font-size: 1rem;">
                                        <span t-esc="record.survey_name.value"/>
                                    </h2>
                                </div>
                                <div class="mb-2">
                                    <h3 class="text-uppercase badge text-wrap font-weight-bold p-2" style="background-color: #ade4ef; font-size: 1rem;">
                                        <span t-esc="record.survey_id.value"/>
                                    </h3>
                                </div>
                                <div class="row mt-3 mb-2">
                                    <div class="col-sm-8">
                                        <table class="table table-borderless">
                                            <tr>
                                                <td class="p-0" width="30%">
                                                    <i class="fa fa-calendar  mr-2" />
From</td>
                                                <td class="p-0">:&amp;nbsp;</td>
                                                <td class="p-0">
                                                    <span>
                                                        <t t-esc="record.start_date.value"/>
                                                    </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="p-0" width="30%">
                                                    <i class="fa fa-calendar  mr-2" />
To</td>
                                                <td class="p-0">:&amp;nbsp;</td>
                                                <td class="p-0">
                                                    <span>
                                                        <t t-esc="record.end_date.value"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="col-sm-4 text-center">
                                        <h3>
                                            <field name="state" widget="label_selection"/>
                                        </h3>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>


        <record id="kw_survey_view_form" model="ir.ui.view">
            <field name="name">view.kw_surveys_details.form</field>
            <field name="model">kw_surveys_details</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="kw_surveys_form" create="false" duplicate='false' import='false' delete="false" edit="true">
                    <sheet>
                        <field name="from_date" invisible='1' />
                        <field name="to_date" invisible='1'/>
                        <field name="state" invisible='1'/>
                        <field name="date_time" invisible='1'/>
                        <field name="state" invisible='1'/>
                        <group>
                            <group>
                                <field name="survey_name" autocomplete="off" readonly='1'/>
                                <field name="survey_id" attrs="{'readonly': [('state','in',['3','4'])]}" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            </group>
                            <group>
                                <field name="start_date" attrs="{'readonly': [('state','in',['3','4'])]}" autocomplete="off" options="{'datepicker':{'minDate': 0}}" />
                                <field name="end_date" attrs="{'readonly': [('state','in',['3','4'])]}" autocomplete="off" />
                            </group>
                            <group>
                                <field name="employee_ids" readonly='1' options="{'no_open': True,'no_create':True,'no_edit':True}" context="{'tree_view_ref':'kw_surveys.view_hr_employee_kw_survey_tree'}"/>
                            </group>
                            <group string="Survey Mode">
                                <field name="portal" readonly='1'/>
                                <field name="log_in" readonly='1'/>
                                <field name="email" readonly='1'/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="kw_survey_view_tree" model="ir.ui.view">
            <field name="name">View Survey tree</field>
            <field name="model">kw_surveys_details</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="employee_ids"/>
                    <field name="survey_name"/>
                    <field name="survey_id"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="kw_survey_view_action" model="ir.actions.act_window">
            <field name="name">View Survey</field>
            <field name="res_model">kw_surveys_details</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="view_type">form</field>
            <field name="domain">[]</field>
        </record>

        <record id="kw_survey_view_action_kanban" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="kw_survey_view_kanban"/>
            <field name="act_window_id" ref="kw_survey_view_action"/>
        </record>

        <record id="kw_survey_view_action_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="kw_survey_view_tree"/>
            <field name="act_window_id" ref="kw_survey_view_action"/>
        </record>

        <record id="kw_survey_view_action_form" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="kw_survey_view_form"/>
            <field name="act_window_id" ref="kw_survey_view_action"/>
        </record>

    </data>
</odoo>
