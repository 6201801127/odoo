<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <!-- Employe WFh extension request mail  -->
        <record id="kw_wfh_emp_extension_request_mail_template" model="mail.template">
            <field name="name">WFH by User : Extension Request e-mail template</field>
            <field name="email_from">${object.employee_id.work_email}</field>
            <field name="subject">WFH request from ${object.employee_id.name}(${object.employee_id.emp_code})</field>
            <field name="email_to">${object.employee_id.parent_id.work_email |safe}</field>
			<field name="email_cc">${object.emp_request_cc() or ''}</field>
            <field name="lang">${object.lang}</field>
            <field name="model_id" ref="kw_wfh.model_kw_wfh"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                           <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;padding-left: 5px;">

                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Hello</span>
                                        ${object.employee_id.parent_id.name},
                                    </h5>
                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                      You have a new Work From Home Extension request from ${object.employee_id.name}(${object.employee_id.emp_code}).
                                    </p>

                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                <table border="0" cellspacing="0" cellpadding="5" style="border-collapse: collapse;font-size: 16px;">
                                    <tbody style="vertical-align: top;>
                                        <tr>
                                            <td style="height: 34px;font-size: 1.6rem;font-weight: unset;color: #444141;padding-bottom: 10px;" width="300px">
                                            <p style="padding-left: 5;">Details</p>
                                            </td>
                                    
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                Reason
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                                ${object.reason_id.reason}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;">
                                                Reason Description
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                            ${object.remark}                                       
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                From Date
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                            ${format_tz(object.request_from_date, tz='UTC', format='%d-%b-%Y')}                                        </td>
                                        </tr>

                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                To Date
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                            ${format_tz(object.request_to_date, tz='UTC', format='%d-%b-%Y')}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                Computer information
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                                ${object.computer_info.name}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                Internet Connectivity
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                                ${dict (object.fields_get (allfields = ['inter_connectivity']) ['inter_connectivity'] ['selection']) [object.inter_connectivity]}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                Citrix Accessibility Required?
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                                ${dict (object.fields_get (allfields = ['citrix_access']) ['citrix_access'] ['selection']) [object.citrix_access]}
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="color:#676767;height: 34px;" width="200px">
                                                Revised To Date
                                            </td>
                                            <td style="color:#167b9e;height: 34px;">
                                            ${format_tz(object.revised_to_date, tz='UTC', format='%d-%b-%Y')}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table border="0" cellspacing="0" cellpadding="5" style="border-collapse: collapse;font-size: 16px;">
                                    <tr>
                                        <td>
                                            <a style="padding: .5rem 3rem;border-radius: .2em;border: none;color: #fff;background-color: #30a20f;font-size: 16px;margin-top: 1.5rem;display:inline-block;white-space: nowrap;text-decoration: NONE;"target="new";
                                            href="/wfh/view?db=${'db_name' in ctx and ctx['db_name'] or ''}&amp;token=${'token' in ctx and ctx['token'] or ''}&amp;action=${'act_id' in ctx and ctx['act_id'] or ''}">
                                            
                                                View Details
                                            </a>
                                        </td>
                                        <td>
                                            <a href="/wfh/grant?db=${'db_name' in ctx and ctx['db_name'] or ''}&amp;token=${'token' in ctx and ctx['token'] or ''}&amp;action=${'act_id' in ctx and ctx['act_id'] or ''}"
                                                target="_blank"
                                                style="padding: .5rem 3rem;border-radius: .2em;border: none;color: #fff;background-color: #30a20f;font-size: 16px;margin-top: 1.5rem;display:inline-block;white-space: nowrap;text-decoration: NONE;">
                                                Approve
                                            </a>
                                        </td>
                                       <!--  <td>
                                            <a href="/wfh/hold?db=${'db_name' in ctx and ctx['db_name'] or ''}&amp;token=${'token' in ctx and ctx['token'] or ''}&amp;action=${'action_id' in ctx and ctx['action_id'] or ''}"
                                                target="_blank"
                                                style="padding: .5rem 3rem;border-radius: .2em;border: none;color: #fff;background-color: #098bb9;font-size: 16px;margin-top: 1.5rem;display:inline-block;white-space: nowrap;text-decoration: NONE;">
                                                Hold
                                            </a>
                                        </td> -->
                                        <td>
                                            <a href="/wfh/reject?db=${'db_name' in ctx and ctx['db_name'] or ''}&amp;token=${'token' in ctx and ctx['token'] or ''}&amp;action=${'action_id' in ctx and ctx['action_id'] or ''}"
                                                target="_blank"
                                                style="padding: .5rem 3rem;border-radius: .2em;border: none;color: #fff;background-color: #ff0000;font-size: 16px;margin-top:1.5rem;display:inline-block;white-space: nowrap;text-decoration: NONE;">
                                                Reject
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;font-size: 16px;color:#676767;padding-left: 1px;">
                                    <p>Thank You.</p>
                                    <br/>
                                    % if object.employee_id.user_id and object.employee_id.user_id.signature:
                                        ${object.employee_id.user_id.signature | safe}
                                    % endif
                                </div>

                            </td>
                        </tr>

                    </table>


                ]]>

            </field>
        </record>

        <!-- user Wfh extenson status (approve/reject) mail-->
        <record id="kw_wfh_emp_extension_request_status_email_template" model="mail.template">
            <field name="name">WFH by User : Extension Request (approve/reject) Status e-mail template</field>
            <!-- <field name="email_from">tendrils@csm.tech</field> -->
            <field name="email_from">${object.employee_id.parent_id.work_email |safe}</field>
            <field name="subject">WFH request for ${object.employee_id.name}(${object.employee_id.emp_code})| ${ctx['state']} </field>
            <field name="email_to">${object.employee_id.work_email |safe}</field>
            <!-- <field name="email_cc">${object.employee_id.department_id.manager_id.work_email |safe},${object.get_hrd_cc_email() or ''},${object.get_IT_Admin_users_mail() or ''}</field> -->
            <field name="email_cc">${object.emp_grant_cc() or ''}</field>
            <field name="model_id" ref="kw_wfh.model_kw_wfh"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[

                      <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;padding-left: 5px;">

                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Hello</span>
                                        ${object.employee_id.name},
                                    </h5>

                                    <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                    Your request for Work From Home Extension has been ${ctx['state']} by ${object.env.user.employee_ids.display_name}.
                                    </p>

                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                <table border="0" cellspacing="0" cellpadding="5" style="border-collapse: collapse;font-size: 16px;">
                                    <tbody style="vertical-align: top;>
                                    <tr>
                                        <td style="height: 34px;font-size: 1.6rem;font-weight: unset;color: #444141;padding-bottom: 10px;" width="300px"> 
                                        <p style="padding-left: 5;">Details</p>
                                        </td>
                                        
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            Reason
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                            ${object.reason_id.reason}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;">
                                            Reason Description
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                           ${object.remark}                                       
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            From Date
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                           ${format_tz(object.request_from_date, tz='UTC', format='%d-%b-%Y')}                                       
                                        </td>
                                    </tr>
                                   
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            To Date
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                          ${format_tz(object.request_to_date, tz='UTC', format='%d-%b-%Y')}
                                        </td>
                                     </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            Computer information
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                            ${object.computer_info.name}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            Internet Connectivity
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                            ${dict (object.fields_get (allfields = ['inter_connectivity']) ['inter_connectivity'] ['selection']) [object.inter_connectivity]}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;" width="200px">
                                            Citrix Accessibility Required?
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                            ${dict (object.fields_get (allfields = ['citrix_access']) ['citrix_access'] ['selection']) [object.citrix_access]}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="color:#676767;height: 34px;">
                                           RA remark
                                        </td>
                                        <td style="color:#167b9e;height: 34px;">
                                            ${object.ra_remark}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="" colspan="2">
                                            <a style="padding: .5rem 3rem;border-radius: .2em;border: none;color: #fff;background-color: #30a20f;font-size: 16px;margin-top: 1.5rem;display:inline-block;white-space: nowrap;text-decoration: NONE;"target="new";
                                            href="/wfh/view?db=${'db_name' in ctx and ctx['db_name'] or ''}&amp;token=${'token' in ctx and ctx['token'] or ''}&amp;action=${'act_id' in ctx and ctx['act_id'] or ''}">
                                                View Details
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                                </table>
                                </div>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;font-size: 16px;color:#676767;padding-left: 1px;">
                                    <p>Thank You.</p>
                                <br/>
                                % if object.employee_id.parent_id.user_id and object.employee_id.parent_id.user_id.signature:
                                    ${object.employee_id.parent_id.user_id.signature | safe}
                                % endif
                                </div>
                            </td>
                        </tr>

                    </table>


                    ]]>

            </field>
        </record>


    </data>
</odoo>