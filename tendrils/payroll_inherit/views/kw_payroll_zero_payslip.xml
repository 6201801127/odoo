<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<!-- model.name tree view -->
		<record id="kw_payroll_zero_payslip_view_tree" model="ir.ui.view">
			<field name="name">Allowance Allocation</field>
			<field name="model">kw_payroll_zero_payslip</field>
			<field name="arch" type="xml">
				<tree editable="top" delete='0'>
					<field name="year" required="1"/>
					<field name="month"
					       attrs="{'required':[('year','!=',False)]}"/>
					<field name="employee" options="{'no_open': True,'no_create':True,'no_edit':True}"
					       attrs="{'required':[('year','!=',False)]}" context="{'tree_view_ref':'kw_hr_leaves.hr_employee_encashment_tree_view'}"/>
					<field name="department"/>
					<field name="division"/>
					<field name="section"/>
					<field name="practice"/>
					<field name="designation"/>
					<field name="company_id" options="{'no_open': True,'no_create':True,'no_edit':True}" required='1'/>
                    <field name="reason"/>
				</tree>
			</field>
		</record>
		<!-- kw_payroll_zero_payslip search view -->
		<record id="kw_payroll_zero_payslip_view_search" model="ir.ui.view">
			<field name="name">kw_payroll_zero_payslip.view.search</field>
			<field name="model">kw_payroll_zero_payslip</field>
			<field name="arch" type="xml">
				<search string="Search Description">
					<!-- Add your fields here -->
					<field name="month"/>
					<field name="employee"/>
					<field name="department"/>
                    <field name="company_id"/>
					<filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]"
					        name="current_year_attendance"/>
					<filter string="Last Year"
					        domain="[('year', '=',(context_today()-relativedelta(years=1)).strftime('%Y'))]"
					        name="last_year_attendance"/>
					<separator/>

					<filter string="This Month" name="current_month_year" domain="[('current_month','=',True)]"/>
					<filter string="January" domain="[('month','=',1)]" name="january_attendance"/>
					<filter string="February" domain="[('month','=',2)]" name="february_attendance"/>
					<filter string="March" domain="[('month','=',3)]" name="march_attendance"/>
					<filter string="April" domain="[('month','=',4)]" name="april_attendance"/>
					<filter string="May" domain="[('month','=',5)]" name="may_attendance"/>
					<filter string="June" domain="[('month','=',6)]" name="june_attendance"/>
					<filter string="July" domain="[('month','=',7)]" name="july_attendance"/>
					<filter string="August" domain="[('month','=',8)]" name="august_attendance"/>
					<filter string="September" domain="[('month','=',9)]" name="september_attendance"/>
					<filter string="October" domain="[('month','=',10)]" name="october_attendance"/>
					<filter string="November" domain="[('month','=',11)]" name="november_attendance"/>
					<filter string="December" domain="[('month','=',12)]" name="december_attendance"/>
					<group expand="0" string="Group By">
						<filter string="Employee" name="employee" context="{'group_by':'employee'}"/>
						<filter string="Department" name="department_id" context="{'group_by':'department'}"/>
						<filter string="Company" name="company" context="{'group_by':'company_id'}"/>
					</group>
				</search>
			</field>
		</record>

		<!-- model.name action window -->
		<record id="kw_payroll_zero_payslip_action" model="ir.actions.act_window">
			<field name="name">Zero Payslip</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">kw_payroll_zero_payslip</field>
			<field name="context">{'search_default_current_year_attendance':1,'search_default_current_month_year':1}</field>
			<field name="view_mode">tree</field>
			<field name="view_type">form</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					No Records to show...
				</p>
			</field>
		</record>
		<menuitem name="Zero Payslip" id="zero_payslip_menu" parent="process_payroll_menu" action="kw_payroll_zero_payslip_action" sequence="25"/>

	</data>
</odoo>
