<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Tree view -->
        <record id="employee_no_dependant_report_view_tree" model="ir.ui.view">
            <field name="name">employee_no_dependant_report.tree</field>
            <field name="model">hr.employee.without.dependant.report</field>
            <field name="arch" type="xml">
                <tree create="false" decoration-danger="emp_active == False">
                    <field name="location"/>
                    <field name="department"/>
                    <field name="emp_code"/>
                    <field name="emp_name" class="font-weight-bold"/>
                    <field name="gender"/>
                    <field name="date_of_joining"/>
                    <field name="dob"/>
                    <field name="emp_active"/>
                </tree>
            </field>
        </record>

        <record id="employee_no_dependant_report_search" model="ir.ui.view">
            <field name="name">employee_no_dependant_report.view.search</field>
            <field name="model">hr.employee.without.dependant.report</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <field name="emp_name"/>
                    <field name="location"/>
                    <field name="department"/>
                    <field name="emp_active"/>

                    <separator/>
                    <filter name="group_department" string="Department" context="{'group_by':'department'}"/>
                    <filter string="Department Admin" domain="[('department.code','ilike','Admin')]"
                            name="admin_search"/>
                    <filter string="Department BSS" domain="[('department.name','ilike','BSS')]" name="bss"/>
                    <filter string="Department EBG" domain="[('department.code','ilike','EBG')]" name="ebg"/>
                    <filter string="Department CEOs Office" domain="[('department.name','ilike','CEOs Office')]"
                            name="seo"/>
                    <filter string="Department Finance" domain="[('department.code','ilike','Fin')]" name="fin"/>
                    <filter string="Department HR" domain="[('department.code','ilike','HR')]" name="hr"/>
                    <filter string="Department IT" domain="[('department.code','ilike','IT')]" name="it"/>
                    <filter string="Department Quality" domain="[('department.code','=','Qual')]" name="qual"/>
                    <filter string="Department Marketing" domain="[('department.name','=','Marketing')]" name="mkt"/>
                    <filter string="Department Procurement" domain="[('department.display_name','=','Procurement')]"
                            name="pro"/>
                    <filter string="Department Management" domain="[('department.name','ilike','Management')]"
                            name="management"/>
                    <filter string="Department Sales" domain="[('department.name','ilike','Sales')]" name="sales"/>
                    <filter string="Active" domain="[('emp_active','=',True)]" name="Active"/>
                    <filter string="Inactive" domain="[('emp_active','=',False)]" name="Inactive"/>
                </search>
            </field>
        </record>

        <record id="employee_without_dependant_report_action_window" model="ir.actions.act_window">
            <field name="name">Employee without Dependent Report</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.employee.without.dependant.report</field>
            <field name="view_mode">tree</field>
            <field name="search_view_id" ref="employee_no_dependant_report_search"/>
            <field name="view_id" ref="employee_no_dependant_report_view_tree"/>
            <field name="view_type">form</field>
            <field name="domain">[]</field>
            <!-- <field name="context">{'search_default_active_employees':1}</field> -->
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Records to show...
                </p>
            </field>
        </record>

        <menuitem name="Employee Without Dependent Report"
                  id="employee_no_dependant_report_act_menu"
                  parent="health_insurance_employee"
                  action="employee_without_dependant_report_action_window"
                  sequence="7"
                  groups='kw_employee.group_payroll_manager,hr.group_hr_manager,payroll_inherit.payroll_insurance_group'
        />

        <!-- hr_block_employee_in_self_ins tree view -->
        <record id="hr_block_employee_in_self_ins_view_tree" model="ir.ui.view">
            <field name="name">hr_block_employee_in_self_ins.view.tree</field>
            <field name="model">hr_block_employee_in_self_ins</field>
            <field name="arch" type="xml">
                <tree delete='1' editable='top'>
                    <field name="date_range" options="{'no_open': True,'no_create':True,'no_edit':True}" required='1'/>
                    <field name="employee_id" class="font-weight-bold" options="{'no_open': True,'no_create':True,'no_edit':True}" required='1'/>
                    <field name="emp_code"/>
                    <field name="department"/>
                    <field name="job_id"/>
                    <field name="gender"/>
                    <field name="date_of_joining"/>
                    <field name="dob"/>
                </tree>
            </field>
        </record>
        <!-- hr_block_employee_in_self_ins action window -->
        <record id="hr_block_employee_in_self_ins_action" model="ir.actions.act_window">
            <field name="name">Block Employee From Self Insurance</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr_block_employee_in_self_ins</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
        </record>

         <menuitem name="Block Employee From Self Insurance"
                  id="employee_block_self_ins_menu"
                  parent="health_insurance_employee"
                  action="hr_block_employee_in_self_ins_action"
                  sequence="8"
                  groups='kw_employee.group_payroll_manager,hr.group_hr_manager,payroll_inherit.payroll_insurance_group'
        />

        

    </data>
</odoo>
    
