<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<!-- tree view -->
		<record id="kw_ctc_report__view_tree" model="ir.ui.view">
			<field name="name">kw_ctc_report.tree</field>
			<field name="model">kw_ctc_report</field>
			<field name="arch" type="xml">
				<tree string="CTC Report Tree vieew">
					<field name="year"/>
					<field name="month"/>
					<field name="location"/>
					<field name="department_id"/>
					<!-- <field name="employement_type"/> -->
					<field name="fte_count" sum="fte_count"/>
					<field name="fte_amount" sum="fte_amount"/>
					<field name="ret_project_count" sum="ret_project_count"/>
					<field name="ret_project_amount" sum="ret_project_amount"/>
					<field name="ret_overhead_count" sum="ret_overhead_count"/>
					<field name="ret_overhead_amount" sum="ret_overhead_amount"/>
					<field name="outsourced_count" sum="outsourced_count"/>
					<field name="outsourced_amount" sum="outsourced_amount"/>
					<field name="contractual_count" sum="contractual_count"/>
					<field name="contractual_amount" sum="contractual_amount"/>
					<field name="total" sum="total"  class="font-weight-bold"/>
				</tree>
			</field>
		</record>
		<!-- Pivot view -->
		<!-- <record id="ctc_report_view_pivot" model="ir.ui.view">
			<field name="name">kw_ctc_report.view.pivot</field>
			<field name="model">kw_ctc_report</field>
			<field name="arch" type="xml">
				<pivot string="Pivot Description">
					Add your fields here
					<field name="month" type="row"/>
					<field name="department_id" type="row"/>
					<field name="employement_type" type="row"/>
					<field name="location" type="row"/>
					<field name="emp_count" type="measure"/>
					<field name="ctc" type="measure"/>
				</pivot>
			</field>
		</record> -->
		<record id="ctc_report_search" model="ir.ui.view">
			<field name="name">kw_ctc_report.view.search</field>
			<field name="model">kw_ctc_report</field>
			<field name="arch" type="xml">
				<search string="Search Description">
					<field name="year"/>
					<field name="month"/>
					<field name="department_id"/>
					<field name="location"/>
					<!-- <filter name="employment_type_fte" string="FTE" domain="[('employement_type.code','=','P')]"/>
					<filter name="employment_type_ret" string="RET" domain="[('employement_type.code','in',['S','C'])]"/>
					<filter name="employment_type_off_shore" string="Offshore" domain="[('employement_type.code','=','R')]"/>
					<filter name="employment_type_contractual" string="Contractual" domain="[('employement_type.code','=','CE')]"/> -->
					<separator/>
					<filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]"
					        name="current_year_salary"/>
					<filter string="Last Year"
					        domain="[('year', '=',(context_today()-relativedelta(years=1)).strftime('%Y'))]"
					        name="last_year_salary"/>
							<separator/>
					<filter string="This Month" name="current_month_salary"
							domain="[('month_int', '=',context_today().strftime('%m'))]"/>
					<filter string="January" domain="[('month','=',1)]" name="january_salary"/>
					<filter string="February" domain="[('month','=',2)]" name="february_salary"/>
					<filter string="March" domain="[('month','=',3)]" name="march_salary"/>
					<filter string="April" domain="[('month','=',4)]" name="april_salary"/>
					<filter string="May" domain="[('month','=',5)]" name="may_salary"/>
					<filter string="June" domain="[('month','=',6)]" name="june_salary"/>
					<filter string="July" domain="[('month','=',7)]" name="july_salary"/>
					<filter string="August" domain="[('month','=',8)]" name="august_salary"/>
					<filter string="September" domain="[('month','=',9)]" name="september_salary"/>
					<filter string="October" domain="[('month','=',10)]" name="october_salary"/>
					<filter string="November" domain="[('month','=',11)]" name="november_salary"/>
					<filter string="December" domain="[('month','=',12)]" name="december_salary"/>
					<separator/>
					<filter string="Bhubaneswar" domain="[('location.alias', 'ilike','Bhubaneswar')]"
					        name="bhubaneshwar_branch"/>
					<filter string="Others" domain="[('location.alias', 'not ilike','Bhubaneswar')]"
					        name="rest_other_branch"/>
					<separator/>
				</search>
			</field>
		</record>

		<!-- hr_first_salary_report action window -->
		<record id="ctc_report_action" model="ir.actions.act_window">
			<field name="name">CTC Report</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">kw_ctc_report</field>
			<field name="context">{'search_default_current_year_salary':1,'search_default_current_month_salary':1,'create':0,'edit':0,'delete':0,'import':0}</field>
			<field name="view_mode">tree</field>
			<field name="view_type">form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					<!-- Add Text Here -->
				</p>
				<p>
					<!-- More details about what a user can do with this object will be OK -->
				</p>
			</field>
		</record>
		<!-- hr.payslip search view -->
		<menuitem name="CTC Report"
		          id="ctc_report_menu"
		          parent="payroll_report_root_menu_act"
		          action="ctc_report_action" sequence="1"/>

	</data>
</odoo>