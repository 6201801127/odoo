<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
        <!-- Tree view -->
		<record id="salary_disburse_report__view_tree" model="ir.ui.view">
            <field name="name">salary_disburse_report_view.tree</field>
            <field name="model">kw_salary_disburse_report</field>
            <field name="arch" type="xml">
                <tree string="Salary Disburse Report Tree view" create="false" import="false">
                    <field name="year"/>
                    <field name="month"/>
					<field name="base_branch_id"/>
					<field name="job_id"/>
					<field name="department_id"/>
					<field name="emp_code"/>
					<field name="employee_id" invisible='1'/>
					<field name="name" class="font-weight-bold"/>
					<field name="amount" sum='Total'/>
					<!-- <field name="bank_id"/> -->
					<!-- <field name="bank_account"/> -->
					<!-- <field name="ifsc_code"/> -->
					<field name="bank" />
					<field name="acc_number" />
					<field name="ifsc" />
                </tree>
            </field>
        </record>
      
		<!-- search view -->
		<record id="salary_disburse_report_search" model="ir.ui.view">
			<field name="name">salary_disburse_report.view.search</field>
			<field name="model">kw_salary_disburse_report</field>
			<field name="arch" type="xml">
				<search string="Search Description">
                    <field name="year"/>
                    <field name="month"/>
					<field name="emp_code"/>
					<field name="name"/>
					<field name="amount"/>
                    
					<filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]" name="current_year_salary"/>
                    <filter string="Last Year" domain="[('year', '=',(context_today()-relativedelta(years=1)).strftime('%Y'))]" name="last_year_salary"/>  
                    <separator/>
					
					
					<filter string="This Month" name="current_month_salary" domain="[('month_int', '=',context_today().strftime('%m'))]"/>
					<filter string="Last Month" domain="[('month_int','=',(context_today()-relativedelta(months=1)).strftime('%m')),('year', '=',context_today().strftime('%Y'))]" name="last_month_salary"/>
					<separator/>
					<filter string="Draft" domain="[('state','=','draft')]" name="draft_salary"/>
                    <filter string="Done" domain="[('state','=','done')]" name="done_salary"/>
					<separator/>
					
					<filter string="January" domain="[('month','=','1')]" name="january_salary"/>
                    <filter string="February" domain="[('month','=','2')]" name="february_salary"/>
                    <filter string="March" domain="[('month','=','3')]" name="march_salary"/>
                    <filter string="April" domain="[('month','=','4')]" name="april_salary"/>
                    <filter string="May" domain="[('month','=','5')]" name="may_salary"/>
                    <filter string="June" domain="[('month','=','6')]" name="june_salary"/>
                    <filter string="July" domain="[('month','=','7')]" name="july_salary"/>
                    <filter string="August" domain="[('month','=','8')]" name="august_salary"/>
                    <filter string="September" domain="[('month','=','9')]" name="september_salary"/>
                    <filter string="October" domain="[('month','=','10')]" name="october_salary"/>
                    <filter string="November" domain="[('month','=','11')]" name="november_salary"/>
                    <filter string="December" domain="[('month','=','12')]" name="december_salary"/>
                    <separator/>
					<group expand="0" string="Group By">
                        <filter name="state_wise" string="State" domain="" context="{'group_by':'state'}"/>
                    </group>
				</search>
			</field>
		</record>

		<!-- action window -->
		<record id="salary_disburse_report_action" model="ir.actions.act_window">
			<field name="name">Salary Disbursement</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">kw_salary_disburse_report</field>
			<field name="view_mode">tree</field>
            <field name="context">{'search_default_current_year_salary':1,'search_default_current_month_salary':1,'create':0,'edit':0,'delete':0,'import':0}</field>
			<field name="view_type">form</field>
			<field name='search_view_id' ref='salary_disburse_report_search'/>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					No Records to show...
				</p>
			</field>
		</record>
		<menuitem id="salary_disburse_report_menu" name="Salary Disbursement" parent="payroll_inherit.finance_payroll_menu" action="salary_disburse_report_action" sequence="10"/>
		
		<record id="kw_salary_disburse_verify_report_tree" model="ir.ui.view">
            <field name="name">kw_salary_disburse_verify_report.tree</field>
            <field name="model">kw_salary_disburse_verify_report</field>
            <field name="arch" type="xml">
                <tree string="Salary Disburse Report Tree view" create="false" import="false">
                    <field name="year"/>
                    <field name="month"/>
					<field name="base_branch_id"/>
					<field name="job_id"/>
					<field name="department_id"/>
					<field name="emp_code"/>
					<field name="employee_id" invisible='1'/>
					<field name="name" class="font-weight-bold"/>
					<field name="amount" sum='Total'/>
					<!-- <field name="bank_id"/> -->
					<!-- <field name="bank_account"/> -->
					<!-- <field name="ifsc_code"/> -->
					<field name="bank" />
					<field name="acc_number" />
					<field name="ifsc" />
                </tree>
            </field>
        </record>
      
		<!-- search view -->
		<record id="kw_salary_disburse_verify_report_search" model="ir.ui.view">
			<field name="name">kw_salary_disburse_verify_report.view.search</field>
			<field name="model">kw_salary_disburse_verify_report</field>
			<field name="arch" type="xml">
				<search string="Search Description">
                    <field name="year"/>
                    <field name="month"/>
					<field name="emp_code"/>
					<field name="name"/>
					<field name="amount"/>
                    
					<filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]" name="current_year_salary"/>
                    <filter string="Last Year" domain="[('year', '=',(context_today()-relativedelta(years=1)).strftime('%Y'))]" name="last_year_salary"/>  
                    <separator/>
					
					
					<filter string="This Month" name="current_month_salary" domain="[('month_int', '=',context_today().strftime('%m'))]"/>
					<filter string="Last Month" domain="[('month_int','=',(context_today()-relativedelta(months=1)).strftime('%m')),('year', '=',context_today().strftime('%Y'))]" name="last_month_salary"/>
					<separator/>
					<filter string="Draft" domain="[('state','=','draft')]" name="draft_salary"/>
                    <filter string="Done" domain="[('state','=','done')]" name="done_salary"/>
					<separator/>
					
					<filter string="January" domain="[('month','=','1')]" name="january_salary"/>
                    <filter string="February" domain="[('month','=','2')]" name="february_salary"/>
                    <filter string="March" domain="[('month','=','3')]" name="march_salary"/>
                    <filter string="April" domain="[('month','=','4')]" name="april_salary"/>
                    <filter string="May" domain="[('month','=','5')]" name="may_salary"/>
                    <filter string="June" domain="[('month','=','6')]" name="june_salary"/>
                    <filter string="July" domain="[('month','=','7')]" name="july_salary"/>
                    <filter string="August" domain="[('month','=','8')]" name="august_salary"/>
                    <filter string="September" domain="[('month','=','9')]" name="september_salary"/>
                    <filter string="October" domain="[('month','=','10')]" name="october_salary"/>
                    <filter string="November" domain="[('month','=','11')]" name="november_salary"/>
                    <filter string="December" domain="[('month','=','12')]" name="december_salary"/>
                    <separator/>
					<group expand="0" string="Group By">
                        <filter name="state_wise" string="State" domain="" context="{'group_by':'state'}"/>
                    </group>
				</search>
			</field>
		</record>

		<!-- action window -->
		<record id="kw_salary_disburse_verify_report_action" model="ir.actions.act_window">
			<field name="name">Salary Disbursement</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">kw_salary_disburse_verify_report</field>
			<field name="view_mode">tree</field>
            <field name="context">{'search_default_current_year_salary':1,'search_default_current_month_salary':1,'create':0,'edit':0,'delete':0,'import':0}</field>
			<field name="view_type">form</field>
			<field name='search_view_id' ref='salary_disburse_report_search'/>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					No Records to show...
				</p>
			</field>
		</record>
		<menuitem id="salary_disburse_report_verified_menu" name="Salary Disbursement" parent="payroll_inherit.verify_payroll_menu" action="kw_salary_disburse_verify_report_action" groups="payroll_inherit.payroll_verify_group" sequence="6"/>
		

	</data>
</odoo>
