<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Tree view -->
        <record id="payroll_bulk_esi_calculation_report_report__view_tree" model="ir.ui.view">
            <field name="name">payroll_bulk_esi_calculation_report.tree</field>
            <field name="model">payroll_bulk_esi_calculation_report</field>
            <field name="arch" type="xml">
                <tree string="ESI Report" create="false" import="false">
                    <field name="date_to" invisible='1'/>
                    <field name="year"/>
                    <field name="month"/>
                    <field name="non_esi_gross" sum="Total"/>
                    <field name="esi_basic" sum="Total"/>
                    <field name="empr_contribution" sum="Total"/>
                    <!-- <field name="ip_contribution"/> -->
                    <!-- <field name="total"/> -->
                </tree>
            </field>
        </record>

        <record id="view_payroll_bulk_esi_calculation_report_search" model="ir.ui.view">
            <field name="name">payroll bulk esi calculation_report_search</field>
            <field name="model">payroll_bulk_esi_calculation_report</field>
            <field name="arch" type="xml">
                <search string="payroll_esi_calculation_report_search">
					<field name="year"/>
					<field name="month"/>

					 <filter string="This Year" domain="[('year', '=',context_today().strftime('%Y'))]" name="current_year_bulk_esi"/>
					 <filter string="Last Year" domain="[('year', '=',(context_today()-relativedelta(years=1)).strftime('%Y'))]" name="last_year_bulk_esi"/>
					 <separator/>
                     <filter string="This Month" domain="[('date_to', 'like',context_today().strftime('%Y-%m'))]" name="this_month_esi"/>
                     <filter string="Last Month" domain="[('date_to','&gt;',(context_today()-relativedelta(months=1)).strftime('%Y-%m-01')),('date_to','&lt;',(context_today()).strftime('%Y-%m-01'))]" name="last_month_salary"/>
					<separator/>

                    <filter string="January" domain="[('month','=','1')]" name="january_bulk_esi"/>
					<filter string="February" domain="[('month','=','2')]" name="february_bulk_esi"/>
					<filter string="March" domain="[('month','=','3')]" name="march_bulk_esi"/>
					<filter string="April" domain="[('month','=','4')]" name="april_bulk_esi"/>
					<filter string="May" domain="[('month','=','5')]" name="may_bulk_esi"/>
					<filter string="June" domain="[('month','=','6')]" name="june_bulk_esi"/>
					<filter string="July" domain="[('month','=','7')]" name="july_bulk_esi"/>
					<filter string="August" domain="[('month','=','8')]" name="august_bulk_esi"/>
					<filter string="September" domain="[('month','=','9')]" name="september_bulk_esi"/>
					<filter string="October" domain="[('month','=','10')]" name="october_bulk_esi"/>
					<filter string="November" domain="[('month','=','11')]" name="november_bulk_esi"/>
					<filter string="December" domain="[('month','=','12')]" name="december_bulk_esi"/>

                    <separator/>
					
                </search>
            </field>
        </record>

       
        <!-- action window -->
        <record id="payroll_bulk_esi_calculation_report_action" model="ir.actions.act_window">
            <field name="name">ESIC Report</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">payroll_bulk_esi_calculation_report</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
            <field name="target">current</field>
            <!-- <field name="context">{'search_default_current_year_bulk_esi':1,'search_default_this_month_esi':1,}</field> -->
            <!-- <field name="search_view_id" ref="view_payroll_bulk_esi_calculation_report_search" /> -->
        </record>

        <menuitem id="statutory_root_menu_act" 
        name="Statutory Reports" parent="hr.menu_hr_reporting_timesheet" 
        action="res_bank_master_action" sequence="20"  
       />
        <menuitem name="ESIC Report" id="payroll_bulk_esi_calculation_report_menu" parent="statutory_root_menu_act" action="payroll_bulk_esi_calculation_report_action" sequence="2"/>
        <menuitem name="EPF Calculation Report" id="payroll_epf_calculation_report_menu" parent="payroll_inherit.statutory_root_menu_act" action="payroll_epf_calculation_report_action" sequence="3"/>

    </data>
</odoo>