<odoo>
    <data>


        <record id="server_config_management_list" model="ir.ui.view">
            <field name="name">server config list</field>
            <field name="model">kw_cr_server_configuration</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="serial_no" readonly='1'/>
                    <field name="server_name" required="1"/>
                    <field name="server_type" required="1"/>
                    <field name="dedicated_shared" required="1"/>
                    <field name="date_of_installation"/>
                    <field name="location" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    <field name="project" options="{'no_open': True,'no_create':True,'no_edit':True}" required='1'/>
                    <field name="instance" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    <field name="owner"/>
                    <field name="purpose"/>
                    <field name="department_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                    <field name="adminstrator_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>

                    <field name="make_by"/>
                    <field name="model_name"/>
                    <field name="sn_name"/>
                    <field name="cpu_nos"/>
                    <field name="cpu_frequency"/>
                    <field name="ram_processor"/>
                    <field name="hdd_in"/>
                    <field name="lan_data"/>
                    <field name="date_of_process"/>
                    <field name="warranty_num"/>
                    <field name="cost_of"/>
                    <field name="fa_code"/>
                    <field name="rack"/>
                    <field name="san_volume"/>
                    <field name="os_type"/>
                    <field name="os_type_in"/>
                    <field name="database_name"/>
                    <field name="platform1"/>
                    <field name="platform2"/>
                    <field name="active" widget="boolean_toggle"/>
                    <!-- <field name="active"/>
                    <field name="valid_till_date"/> -->

                </tree>
            </field>
        </record>
        <record id="server_config_management_form" model="ir.ui.view">
            <field name="name">server config form</field>
            <field name="model">kw_cr_server_configuration</field>
            <field name="arch" type="xml">
                <form duplicate='1'>
                    <header>

                    </header>
                    <sheet>
                        <group>
                            <group string="">
                                <field name="serial_no" readonly='1'/>
                                <field name="server_name" options="{'no_open': True,'no_create':True,'no_edit':True}"
                                       required="1"/>
                                <field name="server_type" required="1"/>
                                <field name="dedicated_shared" required="1"/>
                                <field name="date_of_installation"/>
                                <field name="location" options="{'no_open': True,'no_create':True,'no_edit':True}"
                                       string='Data Center'/>
                                <field name="visit_for" widget="radio" options="{'horizontal': true}"/>
                                <field name="project" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="instance" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="owner" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="purpose"/>
                                <field name="department_id"
                                       options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="adminstrator_id"
                                       options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="active" widget="boolean_toggle"/>
                                <field name="valid_till_date"/>
                                <!-- <field name="environment_id" options="{'no_open': True,'no_create':True,'no_edit':True}" required="1"/>
                                <field name="infra_details" options="{'no_open': True,'no_create':True,'no_edit':True}"/> -->
                                <field name="remark" invisible='1'/>
                                <field name="server_create_date"/>
                            </group>
                            <group>

                                <field name="make_by" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="model_name" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="sn_name" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="cpu_nos"/>
                                <field name="cpu_frequency"/>
                                <field name="ram_processor"/>
                                <field name="hdd_in"/>
                                <field name="lan_data"/>
                                <field name="date_of_process" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="warranty_num" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="cost_of" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="fa_code" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="rack" attrs="{'invisible':[('server_type','=','Virtual')]}"/>
                                <field name="san_volume"/>
                                <field name="os_type" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="os_type_in" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="database_name"
                                       options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="platform1" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="platform2" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <!-- <field name="cpu" invisible="1"/> -->
                                <!-- <field name="dedicate_share" invisible="1"/> -->
                                <!-- <field name="ram_p" invisible ="1"/> -->
                            </group>

                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="server_config_search_view" model="ir.ui.view">
            <field name="name">server_config_search_view</field>
            <field name="model">kw_cr_server_configuration</field>
            <field name="type">search</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <search string="Organization Band">
                    <field name="server_name" string="Server"/>
                    <field name="server_type"/>
                    <field name="dedicated_shared"/>
                    <field name="location"/>
                    <field name="department_id"/>
                    <field name="os_type"/>
                    <field name="os_type_in"/>
                    <field name="database_name"/>
                    <field name="project"/>

                    <filter string="Active" domain="[('active', '=',True)]" name="enable_server"/>
                    <filter string="Inactive" domain="[('active', '=',False)]" name="disable_server"/>
                </search>
            </field>
        </record>
        <record id="server_config_action_window" model="ir.actions.act_window">
            <field name="name">Server Management</field>
            <field name="res_model">kw_cr_server_configuration</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="server_config_search_view"/>
            <field name="view_ids" eval="[(5, 0, 0),
                     (0, 0, {'view_mode': 'tree', 'view_id': ref('server_config_management_list')}),
                     (0, 0, {'view_mode': 'form', 'view_id': ref('server_config_management_form')})]"/>
        </record>

        <!--CR Management Take Action menu-->
        <menuitem name="Server Management"
                  id="server_config_menu"
                  parent='kw_environment_master_root_menu'
                  action="server_config_action_window"
                  groups='change_request_management.group_cr_manager,change_request_management.group_cr_configuration_manager'
                  sequence="12"/>
    </data>
</odoo>
