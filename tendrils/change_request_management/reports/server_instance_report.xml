<odoo>
    <data>
        <!-- Define the tree view for server instance Report -->
        <record id="view_server_instance_report_tree" model="ir.ui.view">
            <field name="name">Server Instance Report</field>
            <field name="model">environment_cr_service_count</field>
            <field name="arch" type="xml">
                <tree create="false" import="false" delete="false">
                    <field name="environment_id"/>
                    <field name="cr_count" sum="cr_count"/>
                    <field name="service_count" sum="service_count"/>
                </tree>
            </field>
        </record>

      
        <record model="ir.ui.view" id="view_server_instance_report_graph">
            <field name="name">Server Instance Report Graph</field>
            <field name="model">environment_cr_service_count</field>
            <field name="arch" type="xml">
                <graph string="CR and Service Count">
                    <field name="environment_id" type="row"/>
                    <field name="cr_count"  type="measure" string="CR Count"/>
                    <field name="service_count"  type="measure" string="SR Count"/>
                </graph>
            </field>
        </record>

        <record id="view_server_instance_report_search" model="ir.ui.view">
            <field name="name">Server Instance Report Search</field>
            <field name="model">environment_cr_service_count</field>
            <field name="arch" type="xml">
                <search>
                    <field name="environment_id" string="Server Name"/>
                </search>
            </field>
        </record>


        <record id="view_server_instance_report_action" model="ir.actions.act_window">
            <field name="name">Server Instance</field>
            <field name="res_model">environment_cr_service_count</field>
            <field name="view_mode">tree,graph</field>
        </record>

<!-- menu for server instance Report -->

        <menuitem id="server_instance_report_menu" name="Server Instance Report" parent="menu_report_root" sequence="18"
                  action="view_server_instance_report_action" groups="change_request_management.group_cr_manager"/>
    </data>
</odoo>
