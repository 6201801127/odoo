<odoo>
    <data noupdate="0">

        <record id="kw_cr_management_cancel_email_template" model="mail.template">
            <field name="name">${ctx['name']}</field>
            <!-- <field name="subject">CR | ${object.reference_no} | Cancelled</field>-->
            <field name="subject">${object.project_id.name} (${object.project_code}) | ${object.reference_no} | ${object.environment_id.name} | ${object.module_id.name} | ${ctx['subject']}</field>

            <field name="email_from">${ctx['email_from']}</field>
            <!-- <field name="email_to">kwcr@csm.tech</field> -->
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_cc">${ctx['cc_mail']}</field>

            <field name="model_id" ref="model_kw_cr_management"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                <table>
                    <thead>
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;">
                                    % if ctx['mail_for'] == 'Cancel':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                            CR ${object.reference_no} request for <b>Cancel</b> by ${ctx['user_name']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'Reject':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                            ${object.reference_no} <b>Rejected</b> by ${ctx['user_name']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'Hold':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                             ${object.reference_no} <b>Hold</b> by ${ctx['user_name']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'Approve':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                            ${object.reference_no} <b>Approved</b> by ${ctx['user_name']}.
                                        </p>
                                    
                                    % elif ctx['mail_for'] == 'PM_reject':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                            ${object.reference_no} <b>Rejected</b> by ${ctx['user_name']}.
                                        </p>
                                    % elif ctx['mail_for'] == 'in_progress':
                                        <p>
                                            <b>
                                                <span style="color:rgb(22, 123, 158);font-size: 18px;margin-right: 2px;"> Hi, </span>
                                            </b>
                                        </p>
                                        <p>
                                            ${object.reference_no} <b>is In-progress</b> by ${ctx['user_name']}.
                                        </p>
                                    
                                    % endif
                                    
                                        <table border="0" style="border-collapse: collapse;font-size: 16px;">
                                            <tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Project Name:
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.project_id.name}
                                                </td>
                                                
                                            </tr>
                                            <tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Project code:
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.project_code}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Environment :
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.environment_id.name}
                                                </td>
                                            </tr>
                                            % if ctx['pltform']:
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Platform :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.platform_id.name}
                                                    </td>
                                                </tr>
                                            %endif
                                            <tr>
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Activity :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.activity.name}
                                                    </td>
                                                    
                                                </tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Module :
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.module_id.name}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Priority :
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.priority}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                    Description :
                                                </td>
                                                <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                    ${object.description}
                                                </td>
                                            </tr>
                                            % if ctx['mail_for'] == 'Cancel':
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Remark :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.cancel_cmt}
                                                    </td>
                                                    
                                                </tr>
                                            % elif ctx['mail_for'] == 'Reject':
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Remark :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.reject_cmt}
                                                    </td>
                                                    
                                                </tr>
                                            % elif ctx['mail_for'] == 'Hold':
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Remark :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.hold_cmt}
                                                    </td>
                                                    
                                                </tr>
                                            % elif ctx['mail_for'] == 'Approve':
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Remark :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.approved_cmt}
                                                    </td>
                                                    
                                                </tr>
                                            % elif ctx['mail_for'] == 'PM_reject':
                                                <tr>
                                                    <td style="color:#676767;padding-left: 20px;border-bottom: 1px solid #ebe5e5;height: 34px;" width="200px">
                                                        Remark :
                                                    </td>
                                                    <td style="color:#167b9e;border-bottom: 1px solid #ebe5e5;height: 34px;">
                                                        ${object.reject_cmt}
                                                    </td>
                                                    
                                                </tr>
                                            %endif
                                        
                                        </table>
                                   

                                </div>
                                <div style="margin-bottom:1em;font-size: 16px;color:#676767;padding-left: 1px;">
                                    <p>Thank You.</p>
                                    <p>
                                        % if object.env.user and object.env.user.signature:
                                            ${object.env.user.signature | safe}
                                        % endif
                                    </p>
                                </div>  
    
                            </td>
                        </tr>
                    </thead>
                </table>
                ]]>
            </field>
        </record>
    </data>
</odoo>
