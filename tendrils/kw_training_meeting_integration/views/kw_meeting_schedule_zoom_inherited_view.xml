<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="meeting_event_form_view_zoom_training" model="ir.ui.view">
            <field name="name">kw_meeting_schedule.zoom_integrate.form</field>
            <field name="model">kw_meeting_events</field>
            <field name="inherit_id" ref="kw_training_meeting_integration.view_kw_training_meeting_calendar_event_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='meeting_detail_main']/group[@name='meeting_detail']/field[@name='allday']" position="before">
                    <field name="zoom_enabled_user" invisible="1"/>
                    <field name="online_meeting" attrs="{'readonly': ['|',('state', 'in', ['cancelled']),'|',('meeting_start_status', '=',True),'&amp;',('id', '!=', False), ('recurrency','=',True)]}" />
                    <field name="other_meeting_url" attrs="{'required':[('online_meeting','=', 'other')],'invisible':[('online_meeting','!=', 'other')]}"/>
                    <field name="logged_user_id" invisible="1"/>
                </xpath>
                <field name="location_id" position="replace">
                    <field name="location_id" options="{'no_create': True,'no_open': True}" attrs="{'required':[('online_meeting','=', False)],'readonly':['|',('state', 'in', ['cancelled']),'|',('meeting_start_status', '=',True),'&amp;',('id', '!=', False), ('recurrency','=',True)]}"/>
                </field>
                <field name="meeting_room_id" position="replace">
                    <field name="meeting_room_id" options="{'no_create': True,'no_open': True}" widget="form.kwmeeting_room_onchange" attrs="{'required':[('online_meeting','=', False)],'readonly':['|',('state', 'in', ['cancelled']),'|',('meeting_start_status', '=',True),'&amp;',('id', '!=', False), ('recurrency','=',True)]}"/>
                </field>
                <xpath expr="//sheet/div[@name='button_box']" position="inside">
                    <button class="btn btn-primary ml-2 oe_stat_button" type="object" name="action_start_meeting" string="Start Online Meeting" icon="fa-users" attrs="{'invisible':['|','|','|','|',('is_create_user','=',False),('online_meeting', '=', False),('id','=', False),('disable_meeeting','=', True),('participant_meeeting','=', False)]}"/>

                    <button class="btn btn-warning ml-2" type="object" name="action_join_meeting" string="Join Online Meeting" icon="fa-users" attrs="{'invisible':['|','|','|','|',('is_create_user','=',True),('online_meeting', '=', False),('id','=', False),('disable_meeeting','=', True),('participant_meeeting','=', False)]}"/>

                    <field name="participant_meeeting" invisible="1"/>
                    <field name="is_create_user" invisible="1"/>
                    <field name="disable_meeeting" invisible="1"/>
                </xpath>

            </field>
        </record>
    </data>
</odoo>