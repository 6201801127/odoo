<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<template id="image_upload" name="Social Image Upload">
		<t t-call="website.layout">
			<div class="container py-3">
				<div t-if="not link_err_msg" class="card">
					<div class="badge-dark card-header mb-4">
						<img src="/kwantify_theme/static/src/img/csm_logo.png" class="" alt="logo"/>
					</div>
					<div class="card-body p-2">
						<div class="d-flex justify-content-start">
							<div class="col-12 col-7">
								<div class=" px-md-5">

									<p>Dear <t t-esc="emp"/>,</p>

									<p class="mt-3 mb-4">
										Please upload your candid photo with a smile to be used in our website.
									</p>

									<form name="frm_social_image" id="frm_social_image" class="form-horizontal"
									      autocomplete="off" method="post"
									      enctype="multipart/form-data">
										<div class="card md-form p-2 text-center">
											<input type='hidden' name='csrf_token' t-att-value='request.csrf_token()'/>

											<div class="file-epf row card-body justify-content-center">
												<p class="align-self-center mr-5">
													Upload Image
													<i class="mandatory text-danger">*</i>
												</p>

												<div class="">
													<input type="file" id="socialPhoto" name="socialPhoto"
													       accept="image/jpg,image/png,image/jpeg"
													       class="form-control social_image"
													       t-att-value="socialPhoto"
													       required='required'/>
													<p class='text-danger font-weight-light font-note text-left'>* Only JPG/PNG formats are allowed.</p>
												</div>
											</div>
										</div>

<!-- 										<div class="modal fade" id="modal" tabindex="-1" role="dialog"
										     aria-labelledby="modalLabel" aria-hidden="true">
											<div class="modal-dialog modal-lg" role="document">
												<div class="modal-content">
													<div class="modal-header">
														<button type="button" class="close" data-dismiss="modal"
														        aria-label="Close">
															<span class=''>X</span>
														</button>
													</div>
													<div class="modal-body">
														<div class="img-container">
															<div class="row">
																<div class="col-md-8">
																	<img id="image"
																	     src="/kw_employee_social_image/static/src/img/sample.jpg"/>
																</div>
																<div class="col-md-4">
																	<div class="preview" style=""/>
																</div>
															</div>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary"
														        data-dismiss="modal">Cancel
														</button>
														<button type="button" class="btn btn-success" id="crop">Crop
															&amp; Submit
														</button>
													</div>
												</div>
											</div>
										</div> -->
	<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Crop your image</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&#x2715;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="img-container">
                        <div class="row mx-1">
                            <div class="col-md-12 px-0 mb-3">
                                <img id="image" src="https://avatars0.githubusercontent.com/u/3456749"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 mb-3">
                                <ul class="pl-4 text-black-50 small">
                                    <li>Scroll over the image to zoom-in/zoom-out.</li>
                                    <li>Drag the crop box to re-position and resize.</li>
                                </ul>
                            </div>
                            <div class="col-md-10">
                                <h6>Image Preview</h6>
                                <div class="preview"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-success" id="crop">Crop &amp; Submit</button>
                </div>
            </div>
        </div>
    </div>

										<div class="d-flex justify-content-start">
											<span id="error" class="p-2 text-warning font-weight-bold font-italic"/>
										</div>
										<div class="d-flex justify-content-center mb-4">
<!--											<button type="button" class="btn btn-success" id="btn_submit">Submit</button>-->
											<t t-if="skip &lt; 3">
												<a class="btn btn-primary" t-attf-href="/candid-image/skip-submit">
													Skip &amp;nbsp;
													<i class="fa fa-arrow-circle-right"/>
												</a>
											</t>
										</div>
									</form>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</t>
	</template>
	<!-- <record id="image_sumbit" model="website.page">
			<field name="name">Submitted</field>
			<field name="website_published">True</field>
			<field name="url">/image_submit</field>
			<field name="type">qweb</field>
			<field name="key">kw_employee_social_image.submitted_page</field>
			<field name="arch" type="xml">
				<t name='Submitted' t-name='kw_employee_social_image.submitted_page'>
					<t t-call="website.layout">
						<div class="container border border-warning  mt-3" style='height:300px;' >
							<div class="container">
								<h3 class='alert alert-success p-3 ' role='status' style="font-weight:bold;">Image Uploaded Successfully</h3>
							</div>
						</div>
					</t>
				</t>
			</field>
	</record> -->
	<template id="image_upload_thanks_pages" name="Thank You">
		<t t-call="website.layout">
			<div class="wrap">
				<div class="container">
					<section class="service-request mt32">
						<div class="container card">
							<div class="badge-dark card-header mb-4">
								<img src="/kwantify_theme/static/src/img/csm_logo.png" class="" alt="logo"/>
							</div>
							<div class="card-body p-5">
								<div class="row pt-3 pb-5">
									<div class="col-12 mx-auto">
										<div class="section__content text-center">

											<h2 class="display-6 text-center font-weight-bold mt-6 mb-4">
												Thank you!
												<br/>
												Your image has been uploaded successfully.
											</h2>
											<a class="btn btn-primary" style="background-color: #f7941d !important;"
											   t-attf-href="/web">
												Go To Dashboard &amp;nbsp;
												<i class="fa fa-arrow-circle-right "/>
											</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</section>
				</div>
			</div>
		</t>
	</template>
	<template id="happy_face_form_style_thanks" inherit_id="kw_employee_social_image.image_upload_thanks_pages">
		<xpath expr="." position="inside">
			<link rel="stylesheet" href="/kw_employee_social_image/static/src/css/imagecrop.css"/>
		</xpath>
	</template>
	<template id="happy_face_form_style" inherit_id="kw_employee_social_image.image_upload">
		<xpath expr="." position="inside">
			<link href="/kwantify_theme/static/src/lib/bootstrap-sweetalert/dist/sweetalert.css" rel="stylesheet"/>
			<script type="text/javascript"
			        src="/kwantify_theme/static/src/lib/bootstrap-sweetalert/dist/sweetalert.js"/>

			<link href="/kwantify_theme/static/src/mdb/css/mdb.min.css" rel="stylesheet"/>
			<link rel="stylesheet" href="/kwantify_theme/static/src/lib/cropperjs/cropper.css"/>
			<link rel="stylesheet" href="/kw_employee_social_image/static/src/css/imagecrop.css"/>

			<script src="/kwantify_theme/static/src/lib/cropperjs/cropper.js"/>
			<script type="text/javascript" src="/kw_employee_social_image/static/src/js/imagecrop.js"/>
		</xpath>
	</template>
</odoo>
