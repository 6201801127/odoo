<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="kw_recruitment_requisition_dynamic_workflow_main" model="odoo.workflow">
            <field name="name">Manpower Requisition Form</field>
            <field name="activities_add" eval="True"/>
            <field name="followers_add" eval="False"/>
            <field name="mail_thread_add" eval="True"/>
            <field name="remove_default_attrs_mod" eval="False"/>
            <field name="model_id" ref="kw_recruitment.model_kw_recruitment_requisition"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_node_1" model="odoo.workflow.node">
            <field name="name">Draft</field>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="node_name">draft</field>
            <field name="sequence" eval="1"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_start" eval="True"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_node_2" model="odoo.workflow.node">
            <field name="name">Send</field>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="node_name">send</field>
            <field name="sequence" eval="2"/>
            <field name="is_visible" eval="True"/>
            
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_node_3" model="odoo.workflow.node">
            <field name="name">Approved</field>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="node_name">approved</field>
            <field name="sequence" eval="3"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_end" eval="True"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_node_4" model="odoo.workflow.node">
            <field name="name">Reject</field>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="node_name">reject</field>
            <field name="sequence" eval="3"/>
            <field name="is_visible" eval="True"/>
            <field name="flow_end" eval="True"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_link_1" model="odoo.workflow.link">
            <field name="name">Draft -> Send</field>
            <field name="node_from" ref="kw_recruitment_requisition_dynamic_workflow_node_1"/>
            <field name="node_to" ref="kw_recruitment_requisition_dynamic_workflow_node_2"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_link_2" model="odoo.workflow.link">
            <field name="name">Send -> Approved</field>
            <field name="node_from" ref="kw_recruitment_requisition_dynamic_workflow_node_2"/>
            <field name="node_to" ref="kw_recruitment_requisition_dynamic_workflow_node_3"/>
        </record>
        
        <record id="kw_recruitment_requisition_dynamic_workflow_link_3" model="odoo.workflow.link">
            <field name="name">Send -> Reject</field>
            <field name="node_from" ref="kw_recruitment_requisition_dynamic_workflow_node_2"/>
            <field name="node_to" ref="kw_recruitment_requisition_dynamic_workflow_node_4"/>
        </record> 

        <record id="kw_recruitment_requisition_dynamic_workflow_link_4" model="odoo.workflow.link">
            <field name="name">Reject -> Draft</field>
            <field name="node_from" ref="kw_recruitment_requisition_dynamic_workflow_node_4"/>
            <field name="node_to" ref="kw_recruitment_requisition_dynamic_workflow_node_1"/>
        </record>  
             
        <record id="kw_recruitment_requisition_dynamic_workflow_button_1" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="name">Send for Approval</field>
            <field name="node_id" ref="kw_recruitment_requisition_dynamic_workflow_node_1"/>
            <field name="is_highlight" eval="True"/>
            <field name="btn_hide_domain" eval="[('state', '!=', 'draft')]"/>
            <field name="action_type">link</field>
            <field name="link_id" ref="kw_recruitment_requisition_dynamic_workflow_link_1"/>
        </record>

        <record id="kw_recruitment_requisition_dynamic_workflow_button_2" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="name">Approve</field>
            <field name="node_id" ref="kw_recruitment_requisition_dynamic_workflow_node_2"/>
            <field name="is_highlight" eval="True"/>
            <field name="btn_hide_domain" eval="[('state', '!=', 'send')]"/>
            <field name="action_type">link</field>
            <field name="link_id" ref="kw_recruitment_requisition_dynamic_workflow_link_2"/>
        </record> 

        <record id="kw_recruitment_requisition_dynamic_workflow_button_3" model="odoo.workflow.node.button">
            <field name="sequence" eval="2"/>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="name">Reject</field>
            <field name="node_id" ref="kw_recruitment_requisition_dynamic_workflow_node_2"/>
            <field name="is_highlight" eval="True"/>
            <field name="btn_hide_domain" eval="[('state', '!=', 'send')]"/>
            <field name="action_type">link</field>
            <field name="link_id" ref="kw_recruitment_requisition_dynamic_workflow_link_3"/>
        </record> 

        <record id="kw_recruitment_requisition_dynamic_workflow_button_4" model="odoo.workflow.node.button">
            <field name="sequence" eval="1"/>
            <field name="workflow_id" ref="kw_recruitment_requisition_dynamic_workflow_main"/>
            <field name="name">Re-open</field>
            <field name="node_id" ref="kw_recruitment_requisition_dynamic_workflow_node_4"/>
            <field name="is_highlight" eval="True"/>
            <field name="btn_hide_domain" eval="[('state', '!=', 'reject')]"/>
            <field name="action_type">link</field>
            <field name="link_id" ref="kw_recruitment_requisition_dynamic_workflow_link_4"/>
        </record> 

    </data>
</odoo>