<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_hr_applicant_offer" model="ir.ui.view">
            <field name="name">HR Applicant Offer Letter Form</field>
            <field name="model">hr.applicant.offer</field>
            <field name="arch" type="xml">
                <form string="All Offer Application" version="7.0">
                    <header>
                        <button
                                name="%(report_letter_appointment_permanent)d"
                                class="oe_highlight" string="Print Offer" type="action"
                                attrs="{'invisible': [('offer_type','!=','Intern')]}"
                        />
                        <button
                                name="%(report_letter_appointment_permanent_lateral)d"
                                class="oe_highlight" string="Print Offer" type="action"
                                attrs="{'invisible': [('offer_type','!=','Lateral')]}"
                                />
                        <button
                                name="%(report_letter_appointment_permanent_ret)d"
                                class="oe_highlight" string="Print Offer" type="action"
                                attrs="{'invisible': [('offer_type','!=','RET')]}"
                        />
                        <button
                                name="%(report_letter_appointment_permanent_offshore)d"
                                class="oe_highlight" string="Print Offer" type="action"
                                attrs="{'invisible': [('offer_type','!=','Offshore')]}"
                        />
                        <!-- <button name="action_confirm" string="_Close"
                                colspan="1" type="object" icon="fa-window-close"/> -->
                        <button
                                name="button_send_email"
                                class="oe_highlight" string="Send in Email" type="object"
                                attrs="{'invisible': [('status','=', 'sent')]}"/>
                        <button
                                name="button_send_email"
                                class="oe_highlight" string="Resend in Email" type="object"
                                attrs="{'invisible': [('status','=', 'draft')]}"/>
                        <field name="status" widget="statusbar" statusbar_visible="draft,sent"/>
                    </header>
                    <group>
                        <group>
                            <field name="ref_code" readonly="1"/>
                            <field name="create_user_offer" invisible="1"/>
                            <field name="offer_type" attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="current_date" attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="salutation" required="1" attrs="{'readonly': [('offer_accpet_bool','=', True)]}" 
                              options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            <field name="applicant_id" readonly="1"/>
                            <field name="name" invisible="1"/>
                            <field name="designation"
                                   required="1"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="department"
                                   required="1"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="joining_date"
                                   required="1"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="job_location_id"
                                   required="1"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            <field name="city_id"
                                   invisible="1"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="state_id"
                                   required="1"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                            <field name="job_location"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"
                                   required="1"
                                   />
                            <label for="relevant_exp_year" string="Relevant Experience" class="oe_inline"/>
                            <div>
                                <group>
                                    <field name="relevant_exp_year" string="Year" attrs="{'invisible':[('relevant_exp_year','&gt;',1)]}"
                                           required="1"/>
                                    <field name="relevant_exp_year" string="Years"
                                           attrs="{'invisible':['|',('relevant_exp_year','=',False),('relevant_exp_year','&lt;',2)]}"
                                           required="1"/>
                                    <field name="relevant_exp_month" string="Month" attrs="{'invisible':[('relevant_exp_month','&gt;',1)]}"
                                           required="1"/>
                                    <field name="relevant_exp_month" string="Months"
                                           attrs="{'invisible':['|',('relevant_exp_month','=',False),('relevant_exp_month','&lt;',2)]}"
                                           required="1"/>
                                </group>
                            </div>
                            <field name="notice_period_days"/>
                            <field name="email_of_applicant"/>
                                        
                        </group>
                        <group>
                            <field name="currency_id"
                                   required="1"
                                   options="{'no_open': True,'no_create':True,'no_edit':True}"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="budget_amount"/>
                            <field name="first_amount"
                                   attrs="{'required': [('offer_type','=', 'Intern')],'invisible': [('offer_type','!=', 'Intern')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'Intern'),('amount_in_word', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>
                            <field name="revised_amount"
                                   attrs="{'required': [('offer_type','=', 'Intern')],'invisible': [('offer_type','!=', 'Intern')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word_reviised"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'Intern'), ('amount_in_word_reviised', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>
                            <field name="annual_amount"
                                   attrs="{'required': [('offer_type','=', 'Intern')],'invisible': [('offer_type','!=', 'Intern')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word_annual"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'Intern'),('amount_in_word_annual', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>

                            <field name="annual_amount_lateral"
                                   attrs="{'required': [('offer_type','=', 'Lateral')],'invisible': [('offer_type','!=', 'Lateral')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word_annual_lat"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'Lateral'),('amount_in_word_annual_lat', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>
                            <field name="annual_amount_offshore"
                                   attrs="{'required': [('offer_type','=', 'Offshore')],'invisible': [('offer_type','!=', 'Offshore')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word_month_off"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'Offshore'),('amount_in_word_month_off', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>       
                            <field name="tmp_has_band" invisible="1"/>
                            <field name="grade" required="1" options="{'no_open': True,'no_create':True,'no_edit':True}" attrs="{'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="emp_band" options="{'no_open': True,'no_create':True,'no_edit':True}" attrs="{'readonly': [('offer_accpet_bool', '=', True)],'invisible': [('tmp_has_band', '=', False)], 'required': [('tmp_has_band', '=', True)]}"/>
                            <field name="monthly_ctc"
                                   attrs="{'required': [('offer_type','=', 'RET')],'invisible': [('offer_type','!=', 'RET')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            
                            <field name="amount_in_word_month_ret"
                                   attrs="{'invisible': [('offer_type','!=', 'RET')],'readonly': True}"/>
                            <field name="annual_amount_ret"
                                   attrs="{'required': [('offer_type','=', 'RET')],'invisible': [('offer_type','!=', 'RET')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="amount_in_word_annual_ret"
                                   attrs="{'invisible': ['|', ('offer_type','!=', 'RET'),('amount_in_word_annual_ret', '=', False)],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   readonly="1"/>
                            <field name="pt_type"
                                   attrs="{'required': [('offer_type','=', 'Lateral')],'invisible': [('offer_type','!=', 'Lateral')],'readonly': [('offer_accpet_bool', '=', True)]}"/>

                            <field name="contract_expiry_ret"
                                attrs="{'invisible': [('offer_type','not in',('RET', 'Offshore'))],'readonly': [('offer_accpet_bool', '=', True)], 'required': [('offer_type','in',('RET', 'Offshore'))]}"/>
                            <field name="contract_end_date_ret"
                                attrs="{'invisible': [('contract_expiry_ret','!=','Date')],'readonly': [('offer_accpet_bool', '=', True)],'required': [('contract_expiry_ret','=','Date')],}"/>
                            <field name="months"
                                   attrs="{'invisible': ['|',('offer_type','not in', ('Lateral','RET','Offshore')),('contract_expiry_ret','!=','Month')],'readonly': [('offer_accpet_bool', '=', True)],'required': ['|',('offer_type','in', ('Lateral')),'&amp;', ('offer_type','in',('RET','Offshore')), ('contract_expiry_ret','=','Month')],}"/>
                            <field name="days"
                                   attrs="{'invisible': ['|',('offer_type','not in', ('Offshore')),('contract_expiry_ret','=','Date')],'readonly': [('offer_accpet_bool', '=', True)],}"/>
                            <field name="agreement_months"
                                   attrs="{'invisible': [('offer_type','!=', 'Intern')],'readonly': [('offer_accpet_bool', '=', True)]}"/>

                            <field name="contact_no"
                                   required="1"
                                   attrs="{'readonly': [('offer_accpet_bool','=', True)]}"/>
                            <field name="acceptance_date"
                                   attrs="{'required': [('offer_type','=', 'Intern')],'invisible': [('offer_type','!=', 'Intern')],'readonly': [('offer_accpet_bool', '=', True)]}"/>
                            <field name="type_dmy"
                                   attrs="{'required': [('offer_type','=', 'RET')],'invisible': [('offer_type','!=', 'RET')],'readonly': [('offer_accpet_bool', '=', True)]}"
                                   invisible="1"/>
                            <field name="offer_accpet_bool" invisible="1"/>
                            <field name="resend_mail_bool" invisible="1"/>
                            <field name="avail_health_insurance"/>
                            <field name="professional_tax_applicable"/>
                            <field name="gratuity_applicable"/>
                            <field name="avail_pf_benefit"/>
                            <field name="pf_deduction"  attrs="{'invisible': [('avail_pf_benefit','=', False)]}" widget='radio' options="{'horizontal': true}"/>
                            <field name="active" invisible="1"/>
                            <field name="company_id" invisible="1"/>
                            <field name="earned_leaves" readonly="0" force_save='1' attrs="{'invisible':[('offer_type', 'in', ['Offshore','Intern'])]}"/>
                            <field name="medical_leave" readonly="0" force_save='1' attrs="{'invisible':[('offer_type', 'in', ['Offshore'])]}"/>
                            <field name="casual_leave" readonly="0" force_save='1' attrs="{'invisible':[('offer_type', 'in', ['Offshore'])]}"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Annexure A">
                            <button
                                    name="auto_calculate"
                                    class="oe_highlight"
                                    string="Update Annexure"
                                    type="object"/>
                            <group>
                                <group>
                                    <field name="update_basic" required="1"/>
                                </group>
                            </group>
                            <field name="annexture_offer1" force_save='1'>
                                <tree editable="bottom" edit="0" create="0" delete="0">
                                    <field name="offer_id" invisible="1"/>
                                    <field name="component" readonly="1" force_save='1'/>
                                    <field name="description" readonly="1" force_save='1'/>
                                    <field name='code' readonly="1" groups="base.group_no_one" force_save='1'/>
                                    <field name="percentage" readonly="1" groups="base.group_no_one" force_save='1'/>
                                    <field name="per_month" readonly="1" sum='Total' force_save='1'/>
                                    <field name="per_year" readonly="1" sum='Total' force_save='1'/>
                                </tree>
                            </field>
                            <field name="annexure_offer2">
                                <tree editable="bottom" create="0" delete="0">
                                    <field name="offer_id" invisible="1"/>
                                    <field name="component"/>
                                    <field name="description" readonly="1" force_save='1'/>
                                    <field name="code" groups="base.group_no_one" readonly="1" force_save='1'/>
                                    <field name="percentage" groups="base.group_no_one" readonly="1" force_save='1'/>
                                    <field name="per_month" sum='Total' readonly="1" force_save='1'/>
                                    <field name="per_year" sum='Total' readonly="1" force_save='1'/>
                                </tree>
                            </field>
                            <group>
                                <group>
                                    <field name="average_1_month"/>
                                </group>
                                <group>
                                    <field name="average_1_year"/>
                                </group>
                            </group>

                            <field name="annexure_offer3" force_save='1'>
                                <tree editable="bottom" create="0" delete="0">
                                    <field name="offer_id" invisible="1"/>
                                    <field name="component"/>
                                    <field name="description" readonly="1" force_save='1'/>
                                    <field name="code" groups="base.group_no_one" readonly="1" force_save='1'/>
                                    <field name="percentage" groups="base.group_no_one" readonly="1" force_save='1'/>
                                    <field name="per_month" sum='Total' readonly="1" force_save='1'/>
                                    <field name="per_year" sum='Total' readonly="1" force_save='1'/>
                                </tree>
                            </field>
                            <group>
                                <group>
                                    <field name="average_2_month"/>
                                </group>
                                <group>
                                    <field name="average_2_year"/>
                                </group>
                            </group>
                            <group>
                                <group>
                                    <field name="average_3_month"/>
                                </group>
                                <group>
                                    <field name="average_3_year"/>
                                </group>
                            </group>
                            <group>
                                <group>
                                    <field name="companys_contribution" attrs="{'invisible':[('offer_type','=','Offshore')]}"/>
                                </group>
                                <group>
                                    <field name="companys_accidental_contribution" attrs="{'invisible':[('offer_type','=','Offshore')]}" />
                                </group>
                            </group>
                            <group>
                                <field name="annual_remuneration"/>
                            </group>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_kw_offer_letter_tree" model="ir.ui.view">
            <field name="name">hr.applicant.offer.tree</field>
            <field name="model">hr.applicant.offer</field>
            <field name="arch" type="xml">
                <tree string="Offer Letters">
                    <field name="applicant_id"/>
                    <field name="offer_type"/>
                    <field name="ref_code"/>
                    <field name="current_date"/>
                    <field name="salutation" required="1"/>
                    <field name="name" required="1"/>
                    <field name="designation" required="1"/>
                    <field name="department" required="1"/>
                    <field name="job_location_id" required="1"/>
                    <field name="joining_date" required="1"/>
                    <field name="city_id" required="1"/>
                    <field name="state_id" required="1"/>
                    <field name="status"/>
                </tree>
            </field>
        </record>
        <record id="view_offer_letters_search" model="ir.ui.view">
            <field name="name">offer_letter_search</field>
            <field name="model">hr.applicant.offer</field>
            <field name="type">search</field>
            <field name="mode">primary</field>
            <field name="priority" eval="16"/>
            <field name="active" eval="True"/>
            <field name="arch" type="xml">
                <search string="Search data">
                    <field name="applicant_id"/>
                    <field name="offer_type"/>
                    <field name="designation"/>
                    <field name="department"/>
                    <field name="job_location_id"/>
                </search>
            </field>
        </record>

        <record id="action_offer_letters" model="ir.actions.act_window">
            <field name="name">Offer Letters</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.applicant.offer</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="search_view_id" ref="view_offer_letters_search"/>
        </record>

        <record id="view_hr_applicant_offer_details" model="ir.ui.view">
            <field name="name">HR Offer Letter Form</field>
            <field name="model">offer.details.master</field>
            <field name="arch" type="xml">
                <form string="All Offer Letters" version="7.0">
                    <field name="name"/>
                    <field name="annexture_offer1" force_save='1'>
                        <tree editable="bottom">
                            <field name="master_id" invisible="1"/>
                            <field name="component"/>
                            <field name="description"/>
                            <field name="code"/>
                            <field name="percentage"/>
                        </tree>
                    </field>
                    <field name="annexture_offer2">
                        <tree editable="bottom">
                            <field name="master_id2" invisible="1"/>
                            <field name="component"/>
                            <field name="description"/>
                            <field name="code"/>
                            <field name="percentage"/>
                        </tree>
                    </field>
                    <field name="annexture_offer3">
                        <tree editable="bottom">
                            <field name="master_id3" invisible="1"/>
                            <field name="component"/>
                            <field name="description"/>
                            <field name="code"/>
                            <field name="percentage"/>
                        </tree>
                    </field>
                </form>
            </field>
        </record>

        <record id="action_offer_letters_details" model="ir.actions.act_window">
            <field name="name">Offer Letters Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">offer.details.master</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
        </record>

        <record id="view_health_insurance_form" model="ir.ui.view">
            <field name="name">Health Insurance Configuration Form</field>
            <field name="model">hr.recruitment.health.insurance.config</field>
            <field name="arch" type="xml">
                <form string="Health Insurance Configuration">
                    <group>
                        <field name="amount"/>
                        <field name="from_date"/>
                        <field name="to_date"/>
                        <field name="offer_type"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_health_insurance_tree" model="ir.ui.view">
            <field name="name">Health Insurance Configuration Tree</field>
            <field name="model">hr.recruitment.health.insurance.config</field>
            <field name="arch" type="xml">
                <tree string="Health Insurance Configuration" editable='top'>
                    <field name="from_date"/>
                    <field name="to_date"/>
                    <field name="amount"/>
                    <field name="offer_type"/>
                </tree>
            </field>
        </record>

        <record id="view_health_insurance_accidental_form" model="ir.ui.view">
            <field name="name">Accidental Insurance Configuration Form</field>
            <field name="model">hr.recruitment.health.accidental.insurance.config</field>
            <field name="arch" type="xml">
                <form string="Health Insurance Configuration">
                    <group>
                        <field name="amount"/>
                        <field name="from_date"/>
                        <field name="to_date"/>
                    </group>
                </form>
            </field>
        </record>

         <record id="view_health_insurance_accidental_tree" model="ir.ui.view">
            <field name="name">Accidental Insurance Configuration Tree</field>
            <field name="model">hr.recruitment.health.accidental.insurance.config</field>
            <field name="arch" type="xml">
                <tree string="Health Insurance Configuration" editable="top">
                    <field name="from_date"/>
                    <field name="to_date"/>
                    <field name="amount"/>
                </tree>
            </field>
        </record>

        <record id="action_health_insurance_details" model="ir.actions.act_window">
            <field name="name">Health Insurance Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.health.insurance.config</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
        </record>

        <record id="action_accidental_insurance_details" model="ir.actions.act_window">
            <field name="name">Accidental Insurance Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.health.accidental.insurance.config</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
        </record>



        <menuitem name="All Offer Letters"
                  parent="kw_recruitment.menu_offer_letter_root"
                  id="menu_kw_offer_letters"
                  action="action_offer_letters"/>

        <menuitem name="Health Insurance Configuration"
                  parent="kw_recruitment.menu_offer_letter_root"
                  id="menu_health_insu_details"
                  action="action_health_insurance_details"/>

        <menuitem name="Accidental Insurance Configuration"
                  parent="kw_recruitment.menu_offer_letter_root"
                  id="menu_health_insu_accide_details"
                  action="action_accidental_insurance_details"/>

        <menuitem name="Offer Letters Configuration"
                  parent="kw_recruitment.menu_offer_letter_root"
                  id="menu_kw_offer_letters_details"
                  action="action_offer_letters_details"/>

<!--        LTA PP Configuration-->
        <record id="view_lta_pp_config_tree" model="ir.ui.view">
            <field name="name">LTA PP Configuration Tree</field>
            <field name="model">hr_applicant_offer_lta_pp_setting</field>
            <field name="arch" type="xml">
                <tree string="LTA and PP Configuration" editable='bottom'>
                    <field name="min_value"/>
                    <field name="max_value"/>
                    <field name="lta_amount"/>
                    <field name="pp_amount"/>
                </tree>
            </field>
        </record>
        <record id="action_lta_pp_details" model="ir.actions.act_window">
            <field name="name">Leave Travel Allowance and Professional Persuit Setting</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr_applicant_offer_lta_pp_setting</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
        </record>

        <menuitem name="LTA and PP Setting"
                  parent="kw_recruitment.menu_offer_letter_root"
                  id="menu_kw_lta_pp_details"
                  action="action_lta_pp_details"/>

    </data>
</odoo>