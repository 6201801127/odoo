<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    <!-- Question widgets -->
        <template id="free_text" name="Free text box">
            <textarea class="form-control" rows="3" t-att-name="prefix"  maxlength="500" required="required"></textarea>
            <span class="text-primary mt-2">Maximum 500 characters are allowed.</span>
        </template>

        <template id="textbox" name="Text box">
            <t t-set="technical" t-value="['Interview Feedback_T_Tel','Interview Feedback_T_Tel - Development','Interview Feedback_T_F2F','Interview Feedback_T_F2F - Development','Interview Feedback_NT_Tel','Interview Feedback_NT_F2F','Interview Feedback_HR']"/>
            <t t-set="sqst" t-value="['Scoresheet Practical Test - Testing','Scoresheet Practical test-DBA','Scoresheet Practical test-DBA-V2']"/>
            <t t-set="dqst" t-value="['Scoresheet_Practical test_NSA','Scoresheet Practical Test-DBA(New)','Scoresheet_Practical test_BSS','Scoresheet_Practical_Web Designer','Scoresheet_Practical_Graphic Designer']"/>
            <t t-set="pre_form" t-value="'Presentation Skill- Score sheet'"/>
            <t t-set="dba_new" t-value="'Scoresheet Practical Test-DBA(New)'"/>
            <t t-set="dba_V2" t-value="'Scoresheet Practical test-DBA-V2'"/>
            <t t-set="new_interview_form" t-value="'New Interview Feedback_HR'" />

            <t t-if="count==1 and survey.title.strip() in technical and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.partner_name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==2 and survey.title.strip() in technical and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.job_location_id.name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==3 and survey.title.strip() in technical and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix"
                t-att-value="str(user_input.applicant_id.exp_year)+' Year(s) '+str(user_input.applicant_id.exp_month)+' Month(s)' if user_input.applicant_id.exp_year else 'Fresher'"
                t-att-readonly="True"/>
            </t>
            
            <t t-elif=" count==4 and survey.title.strip() in technical and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.job_position.title" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==5 and survey.title.strip() in technical and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.partner_id.name" t-att-readonly="True"/>
            </t>
            
            <t t-elif=" count==7 and survey.title.strip() in technical and user_input">
               <t t-if="user_input.applicant_id.qualification_ids">
                    <t t-set="other_qualification" t-value="user_input.applicant_id.qualification_ids.filtered(lambda r: r.code=='others')"/>
                    <t t-set="qualifications" t-value="user_input.applicant_id.qualification_ids.filtered(lambda r: r.code !='others')"/>
                    <t t-set="qualification" t-value="','.join(qualifications.mapped('name')) or ''"/>
                    <t t-if="other_qualification">
                        <t t-if="qualification">
                            <t t-set="qualification" t-value="qualification + ', ' + user_input.applicant_id.other_qualification"/>
                        </t>
                        <t t-else="">
                            <t t-set="qualification" t-value="user_input.applicant_id.other_qualification"/>
                        </t>
                    </t>
                    <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="qualification" t-att-readonly="True"/>
                </t>
                <t t-else="">
                    <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="''" t-att-readonly="True"/>
                </t>
            </t>
            <t t-elif="count==1 and survey.title.strip() in new_interview_form and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.partner_name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==2 and survey.title.strip() in new_interview_form and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.job_location_id.name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==3 and survey.title.strip() in new_interview_form and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix"
                t-att-value="str(user_input.applicant_id.exp_year)+' Year(s) '+str(user_input.applicant_id.exp_month)+' Month(s)' if user_input.applicant_id.exp_year else 'Fresher'"
                t-att-readonly="True"/>
            </t>
            
            <t t-elif=" count==4 and survey.title.strip() in new_interview_form and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.job_position.title" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==5 and survey.title.strip() in new_interview_form and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.partner_id.name" t-att-readonly="True"/>
            </t>
            
            <t t-elif=" count==7 and survey.title.strip() in new_interview_form and user_input">
               <t t-if="user_input.applicant_id.qualification_ids">
                    <t t-set="other_qualification" t-value="user_input.applicant_id.qualification_ids.filtered(lambda r: r.code=='others')"/>
                    <t t-set="qualifications" t-value="user_input.applicant_id.qualification_ids.filtered(lambda r: r.code !='others')"/>
                    <t t-set="qualification" t-value="','.join(qualifications.mapped('name')) or ''"/>
                    <t t-if="other_qualification">
                        <t t-if="qualification">
                            <t t-set="qualification" t-value="qualification + ', ' + user_input.applicant_id.other_qualification"/>
                        </t>
                        <t t-else="">
                            <t t-set="qualification" t-value="user_input.applicant_id.other_qualification"/>
                        </t>
                    </t>
                    <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="qualification" t-att-readonly="True"/>
                </t>
                <t t-else="">
                    <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="''" t-att-readonly="True"/>
                </t>
            </t>
            <t t-elif=" count==1 and survey.title.strip() in sqst and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.partner_name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==2 and survey.title.strip() in sqst and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.partner_id.name" t-att-readonly="True"/>
            </t>
            
            <t t-elif=" count==1 and survey.title.strip() in dqst and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.partner_name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==2 and survey.title.strip() in dqst and user_input">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.partner_id.name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==1 and survey.title.strip() == pre_form">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.applicant_id.partner_name" t-att-readonly="True"/>
            </t>
            <t t-elif=" count==2 and survey.title.strip() == pre_form">
                <input type="text" class="form-control" t-att-name="prefix"/>
            </t>
            <t t-elif=" count==4 and survey.title.strip() == pre_form">
                <input type="text" class="form-control readonly" t-att-name="prefix" t-att-value="user_input.partner_id.name" t-att-readonly="True"/>
            </t>
            <t t-else="">
                <input type="text" class="form-control" t-att-name="prefix" t-att-readonly="False"/>
            </t>
        </template>

        <template id="numerical_box" name="Numerical box">
            <t t-set="maxfive" t-value="['Scoresheet_Practical test_NSA','Scoresheet_Practical_Graphic Designer','Scoresheet_Practical test_BSS','Scoresheet_Practical_Web Designer','Scoresheet Practical test-DBA','Scoresheet Practical Test - Testing']"/>
            <t t-set="dba_new" t-value="'Scoresheet Practical Test-DBA(New)'"/>
            <t t-set="dba_V2" t-value="'Scoresheet Practical test-DBA-V2'"/>
            <t t-if = "survey.title.strip() in maxfive">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="5" required="required" placeholder="0 - 5"/>
            </t>
            <t t-elif="count==3 and survey.title.strip() == dba_new and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="25" required="required" placeholder="0 - 25"/>
            </t>
            <t t-elif="count==3 and survey.title.strip() == dba_V2 and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="40" required="required" placeholder="0 - 40"/>
            </t>
            <t t-elif="count in [4,8] and survey.title.strip() == dba_new and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="20" required="required" placeholder="0 - 20"/>
            </t>
            <t t-elif="count==4 and survey.title.strip() == dba_V2 and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="20" required="required" placeholder="0 - 20"/>
            </t>
            <t t-elif="count in [5,6] and survey.title.strip() == dba_new and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="10" required="required" placeholder="0 - 10"/>
            </t>
            <t t-elif="count==5 and survey.title.strip()==dba_V2 and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="10" required="required" placeholder="0 - 10"/>
            </t>
            <t t-elif="count==7 and survey.title.strip() == dba_new and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="15" required="required" placeholder="0 - 15"/>
            </t>
            <t t-elif="count==6  and survey.title.strip() == dba_V2 and user_input">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="30" required="required" placeholder="0 - 30"/>
            </t>
            <t t-else="">
                <input type="number" step="any" class="form-control" t-att-name="prefix" min="0" max="100" required="required" placeholder="0 - 100"/>
            </t>
        </template>

        <template id="date" name="Date box">
            <t t-set="technical" t-value="['Interview Feedback_T_Tel','Interview Feedback_T_Tel - Development','Interview Feedback_T_F2F','Interview Feedback_T_F2F - Development','Interview Feedback_NT_Tel','Interview Feedback_NT_F2F','Interview Feedback_HR','new_interview_form']"/>
            <div class="form-group">
                <div class="input-group date" t-attf-id="datetimepicker_#{question.id}"
                     data-target-input="nearest"
                     t-att-data-mindate="question.validation_min_date"
                     t-att-data-maxdate="question.validation_max_date">
                    <t t-if=" count==6 and survey.title.strip() in technical and user_input">
                        <!-- <t t-esc="user_input.kw_meeting_id.id"/>
                        <t t-esc="user_input.id"/> -->
                        <input type="hidden1" class="form-control tmpdate" style="pointer-events:none"
                               t-att-name="prefix" t-att-value="user_input.kw_meeting_id.start" t-att-readonly="True"/>
                        <span style="margin-left: 10px;font-weight: bolder;color: #495057;"
                              t-esc="user_input.kw_meeting_id.start.strftime('%d-%b-%Y')"/>

                    </t>
                    <t t-elif=" count==6 and survey.title.strip() in new_interview_form and user_input">
                        <input type="hidden2" class="form-control tmpdate" style="pointer-events:none"
                               t-att-name="prefix" t-att-value="user_input.kw_meeting_id.start" t-att-readonly="True"/>
                        <span style="margin-left: 10px;font-weight: bolder;color: #495057;"
                              t-esc="user_input.kw_meeting_id.start.strftime('%d-%b-%Y')"/>

                    </t>
                    <t t-elif=" count==3 and survey.title.strip() ==presentation and user_input">
                        <input type="hidden3" class="form-control tmpdate" style="pointer-events:none"
                               t-att-name="prefix" t-att-value="user_input.kw_meeting_id.start" t-att-readonly="True"/>
                        <span style="margin-left: 10px;font-weight: bolder;color: #495057;"
                              t-esc="user_input.kw_meeting_id.start.strftime('%d-%b-%Y')"/>

                    </t>
                    <t t-else="">
                        <!-- <t t-esc="user_input.kw_meeting_id.id"/>
                        <t t-esc="user_input.id"/> -->
                        <input type="text" class="form-control datetimepicker-input"
                               t-attf-data-target="#datetimepicker_#{question.id}"
                               t-att-name="prefix"
                               />
                    </t>
                    <div class="input-group-append" t-attf-data-target="#datetimepicker_#{question.id}" data-toggle="datetimepicker">
                        <div class="input-group-text">
                            <i class="fa fa-calendar"/>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <template id="simple_choice" name="Simple choice">
            <t t-set="technical" t-value="['Interview Feedback_T_Tel','Interview Feedback_T_Tel - Development','Interview Feedback_T_F2F','Interview Feedback_T_F2F - Development','Interview Feedback_NT_Tel','Interview Feedback_NT_F2F','Interview Feedback_HR','new_interview_form']"/>
            <div t-if="question.display_mode == 'dropdown' and token" class="js_drop row">
                <div class="col-lg-12">
                    <select class="form-control" t-att-name="prefix">
                        <option disabled="1" selected="1" value="">Choose...</option>
                        <t t-foreach='question.labels_ids' t-as='label'>
                            <option t-att-value='label.id'><t t-esc='label.value'/></option>
                        </t>
                        <t t-if='question.comments_allowed and question.comment_count_as_answer'>
                            <option class="js_other_option" value="-1"><span t-esc="question.comments_message" /></option>
                        </t>
                    </select>
                </div>
                <div t-if='question.comments_allowed and question.comment_count_as_answer' class="col-lg-6">
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')" data-oe-survey-othert="1"/>
                </div>
                <div t-if='question.comments_allowed and not question.comment_count_as_answer' class="col-lg-12 mt16">
                    <span t-field="question.comments_message"/>
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')"/>
                </div>
            </div>
            <div t-if="question.display_mode == 'columns' or not token" class="row js_radio">
                <div t-foreach='question.labels_ids' t-as='label' t-attf-class="col-lg-#{question.column_nb}">
                    <label t-att-class="' bg-success ' if quizz_correction and label.quizz_mark > 0.0 else None">
                        <input type="radio" t-att-name="prefix" t-att-value='label.id' required="required"/>
                        <span t-field='label.value'/>
                    </label>
                </div>
                <div t-if='question.comments_allowed and question.comment_count_as_answer' class="js_comments col-lg-12">
                    <label>
                        <input type="radio" t-att-name="prefix" value="-1" required="required"/>
                        <span t-field="question.comments_message" />
                    </label>
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')"/>
                </div>
                <div t-if='question.comments_allowed and not question.comment_count_as_answer' class="col-lg-12">
                    <span t-field="question.comments_message"/>
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')" data-oe-survey-othert="1"/>
                </div>
            </div>
        </template>

        <template id="multiple_choice" name="Multiple choice">
            <t t-set="technical" t-value="['Interview Feedback_T_Tel','Interview Feedback_T_Tel - Development','Interview Feedback_T_F2F','Interview Feedback_T_F2F - Development','Interview Feedback_NT_Tel','Interview Feedback_NT_F2F','Interview Feedback_HR','new_interview_form']"/>
            <div class="row">
                <div t-foreach='question.labels_ids' t-as='label' t-attf-class="col-lg-#{question.column_nb}">
                    <label t-att-class="' bg-success ' if quizz_correction and label.quizz_mark > 0.0 else None">
                        <input type="checkbox" t-att-name="'%s_%s' % (prefix, label.id)" t-att-value='label.id' />
                        <span t-field='label.value'/>
                    </label>
                </div>
                <div t-if='question.comments_allowed and question.comment_count_as_answer' class="js_ck_comments col-lg-12">
                    <label>
                        <input type="checkbox" t-att-name="'%s_%s' % (prefix, -1)" value="-1" />
                        <span t-field="question.comments_message" />
                    </label>
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')"/>
                </div>
                <div t-if='question.comments_allowed and not question.comment_count_as_answer' class="col-lg-12">
                    <span t-field="question.comments_message"/>
                    <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')" data-oe-survey-othert="1"/>
                </div>
            </div>
        </template>

        <template id="matrix" name="Matrix">
            <t t-set="technical" t-value="['Interview Feedback_T_Tel','Interview Feedback_T_Tel - Development','Interview Feedback_T_F2F','Interview Feedback_T_F2F - Development','Interview Feedback_NT_Tel','Interview Feedback_NT_F2F','Interview Feedback_HR']"/>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th></th>
                        <th t-foreach="question.labels_ids" t-as="col_label">
                            <span t-field="col_label.value" />
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="question.labels_ids_2" t-as="row_label">
                        <th>
                            <span t-field="row_label.value" />
                        </th>
                        <td t-foreach="question.labels_ids" t-as="col_label">
                            <input t-if="question.matrix_subtype == 'simple'" type="radio" t-att-name="'%s_%s' % (prefix, row_label.id)" t-att-value='col_label.id' />
                            <input t-if="question.matrix_subtype == 'multiple'" type="checkbox" t-att-name="'%s_%s_%s' % (prefix, row_label.id, col_label.id)" t-att-value='col_label.id' />
                        </td>
                    </tr>
                </tbody>
            </table>
            <div t-if='question.comments_allowed'>
                <span t-field="question.comments_message"/>
                <input type="text" class="form-control" t-att-name="'%s_%s' % (prefix, 'comment')" />
            </div>
        </template>
        </data>
    </odoo>
