<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="kw_workorder_form_view" model="ir.ui.view">
            <field name="name">Workorder Form View</field>
            <field name="model">sales.workorder</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="row">
                            <div class="col-12" >
                                <h1><span attrs="{'invisible':[('id','=',False)]}">
                                    (code <field name="code" style="color:#108fbb;font-weight:bold" nolabel="1" readonly="1"/>)
                                    </span>
                                </h1>
                            </div>
                           
                        </div>
                        <group>
                            <group string="Client Details" >
                                <field name="company_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" required="1"/>
                                <field name="country_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" required="1"/>
                                <field name="state_id" string="State and UT" options="{'no_create_edit': True,'no_open':True,'no_create':True}" required="1"/>
                                <field name="partner_id" string="Client Name" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" required="1"/>
                            </group>
                            
                            <group string="Project Details">
                                <field name="project_id" required="1" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                <field name="sub_category_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                <field name="sbu_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                <field name="eq_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                            </group>

                            <group string="Workorder Details">
                                <field name="order_name" required="1"/>
                                <field name="order_reference_no" required="1"/>
                                <field name="order_date" required="1"/>
                                <field name="procurement_mode" required="1" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                <field name="order_value" required="1"/>
                                <field name="order_exempted_tax" required="1"/>
                                <field name="delivery_location" required="1" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                <field name="contract_start_date" required="1"/>
                                <field name="contract_end_date" required="1"/>
                            </group>
                            <group string="Components of Workorder">
                                <field name="workorder_comp_id">
                                    <tree editable="bottom">
                                        <field name="s_no"/>
                                        <field name="hsn_code"/>
                                        <field name="group_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                        <field name="account_head_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                        <field name="account_subhead_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}"/>
                                        <field name="price_unit"/>
                                    </tree>
                                </field>
                            </group>
                            <group string="Contact Info (Client Nodal Officer)">
                                <field name="nodal_officer_id" string="Officer Name" domain="[('parent_id', '=', partner_id)]" options="{'no_create': True, 'no_delete': True, 'no_open': True, 'no_update': True}" attrs="{'invisible': [('partner_id', '=', False)]}"/>                                
                                <field name="nodal_officer_name" string="Name"/>
                                <field name="nodal_officer_designation" />
                                <field name="nodal_officer_mobile_no" />
                                <field name="nodal_officer_email_address"/>
                            </group>
                            <group string="User Info (User Nodal Officer)">
                                <field name="user_officer_id" string="Officer Name" domain="[('parent_id', '=', partner_id)]" options="{'no_create': True, 'no_delete': True, 'no_open': True, 'no_update': True}" attrs="{'invisible': [('partner_id', '=', False)]}"/>                                
                                <field name="user_officer_name" string="Name"/>
                                <field name="user_officer_designation" />
                                <field name="user_officer_mobile_no" />
                                <field name="user_officer_email_address"/>
                            </group>
                            <group string="Document Upload">
                                <field name="document_ids">
                                    <tree editable="bottom" delete="1">
                                        <field name="doc_name_selection" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" />
                                        <field name="upload_filename" invisible="1" />
                                        <field name="upload_file" filename="upload_filename" widget="FieldBinary" string="Upload File" />
                                    </tree>
                                </field>
                            </group>
                            
                            <group string="Account Holder">
                                <field name="account_holder_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" readonly="1"/>
                                <field name="department_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" readonly="1"/>
                                <field name="division_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" readonly="1"/>
                                <field name="section_id" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" readonly="1"/>
                            </group>
                       
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="kw_workorder_tree_view" model="ir.ui.view">
    <field name="name">Workorder Tree View</field>
    <field name="model">sales.workorder</field>
    <field name="arch" type="xml">
        <tree>
            <field name="company_id" required="1"/>
            <field name="country_id" required="1"/>
            <field name="state_id" string="State and UT" required="1"/>
            <field name="partner_id" string="Client Name" required="1"/>
            <field name="order_name"/>
            <field name="order_reference_no"/>
            <field name="order_date"/>
            <field name="procurement_mode"/>
            <field name="order_value"/>
            <field name="order_exempted_tax"/>
            <field name="delivery_location"/>
        </tree>
    </field>
</record>

        <record id="kw_workorder_action" model="ir.actions.act_window">
            <field name="name">Work Orders</field>
            <field name="res_model">sales.workorder</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p>
                    Manage your work orders here.
                </p>
            </field>
        </record>
    </data>
</odoo>