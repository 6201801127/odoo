<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="change_order_wiz_view" model="ir.ui.view">
            <field name="name">Change Order Wizard Form View</field>
            <field name="model">change_order_wizard</field>
            <field name="arch" type="xml">
              <form duplicate="false">
                <sheet>
                    <group>
                        <group>
                          <field name="sbu_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                        </group>
                          <group>
                              <field name="work_order_id" options="{'no_open': True,'no_create':True,'no_edit':True}" required="1"/>
                          </group>
                          <group string="Basic Lead Info">
                              <field name="name" string = "Lead Name"/>
                              <field name="company_id" options="{'no_open': True,'no_create':True,'no_edit':True}" string="CSM Subsidiary/Company"/>
                              <field name="source_id" string="Lead Source" options="{'no_create': True, 'no_delete': True, 'no_open': True, 'no_update': True}" />
                              <field name="approximate_delivery_timeline" />
                          </group>

                          <group string="Client Details" >
                            <field name="partner_id" string="Client Name" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" required="1"/>
                            <field name="client_type" string="Client Type" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" readonly="1"/>
                            <field name="country_id" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly="1"/>
                            <field name="state_id" string="State and UT" options="{'no_create_edit': True,'no_open':True,'no_create':True}" readonly="1"/>
                        </group>
                      </group>
                        <group string="Project Details">
                          <group>
                              <field name="project_detail_ids">
                                  <tree editable="1" delete="1">
                                      <field name="line_of_business_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                      <field name="domain_offering_service_line_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                      <field name="solution_service_line_id" options="{'no_open': True,'no_create':True,'no_edit':True}" />
                                  </tree>
                              </field>
                          </group>
                          <group>
                              <field name="high_level_scope_summary" required="1" />
                              <field name="technology_ids" widget="many2many_tags" options="{'no_open': True, 'no_create': True, 'no_edit': True}" />
                              <field name="developmen_is_required" widget="radio" string="Delivery Approach" options="{'horizontal': true}" />
                          </group>
                      </group>
                      <group string="Commercial Info">
                        <group>
                            <field name="estimate_lead_value" />
                            <field name="lead_currency_id" string="Currency Type"
                                options="{'no_open': True, 'no_create': True, 'no_edit': True}" />
                            <field name="exchange_rate_to_inr" />
                            <field name="value_in_inr" readonly="1" />
                        </group>
                    </group>
                    <group>
                      <table class="table table-bordered">
                          <tr>
                              <th style="background-color: #108fbb; color: white;padding-right: 20px;">Revenue Breakup Category (100
                                  %)</th>
                              <th style="background-color: #108fbb; color: white;padding-right: 20px;">A: Software Development,
                                  Operation and Maintenance, Consultancy</th>
                              <th style="background-color: #108fbb; color: white;padding-right: 20px;">B: Resource Deployment</th>
                              <th style="background-color: #108fbb; color: white;padding-right: 20px;">C: Ancillary Services</th>
                              <th style="background-color: #108fbb; color: white;padding-right: 20px;">D: Implementation, Supply,
                                  Maintenance</th>
                          </tr>
                          <tr>
                              <td style="background-color: #ddd; font-weight: bold;">Percentage</td>
                              <td style="background-color: #ddd">
                                  <field name="revenue_breakup_a" />
                              </td>
                              <td style="background-color: #ddd">
                                  <field name="revenue_breakup_b" />
                              </td>
                              <td style="background-color: #ddd">
                                  <field name="revenue_breakup_c" />
                              </td>
                              <td style="background-color: #ddd">
                                  <field name="revenue_breakup_d" />
                              </td>
                          </tr>
                      </table>
                  </group>
                  <group>
                    <group string="Contact Info (Client Nodal Officer)">
                      <field name="nodal_officer_id" string="Nodal Officer Name" domain="[('parent_id', '=', partner_id)]" options="{'no_create': True, 'no_delete': True, 'no_open': True, 'no_update': True}" attrs="{'invisible': [('partner_id', '=', False)]}"/>                                
                      <field name="nodal_officer_name" readonly="1" string="Name"/>
                      <field name="nodal_officer_designation" readonly="1" />
                      <field name="nodal_officer_mobile_no" readonly="1" />
                      <field name="nodal_officer_email_address" readonly="1" />
                    </group>
                    <group string="Document Upload">
                        <field name="document_ids">
                            <tree editable="bottom" delete="1">
                                <field name="doc_name_selection" options="{'no_create':True,'no_delete':True,'no_open':True,'no_update':True}" />
                                <field name="upload_filename" invisible="1" />
                                <field name="upload_file" filename="upload_filename" widget="FieldBinary" string="Upload File" />
                            </tree>
                        </field>
                    </group>
                </group>
                </sheet>
              </form>
            </field>
          </record>
          <record id="change_order_wiz_tree_view" model="ir.ui.view">
            <field name="name">Change Order Wizard Tree View</field>
            <field name="model">change_order_wizard</field>
            <field name="arch" type="xml">
                <tree string="Stages">
                    <field name="name"/>
                    <field name="sbu_id"/>
                    <field name="work_order_id"/>
                    <field name="partner_id"/>
                </tree>
            </field>
        </record>
    
          <record model="ir.actions.act_window" id="change_order_wiz_action_window">
            <field name="name">Change Order</field>
            <field name="res_model">change_order_wizard</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="target">current</field>

        </record>
    </data>
    
</odoo>
