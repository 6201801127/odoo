<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_helpdesk_status_pdf">
            <t t-call="web.html_container">
                <!-- <t t-foreach="docs" t-as="o"> -->
                <t t-call="web.external_layout">
                        <table>
                            <head>
                                <title>CSM Technologies | IT Services, Consulting, Technology</title>
                                <!-- <style>
                                    @media print{
                                        .details-table td,.details-table th{
        
                                            border:1px solid #000!important;
                                        }
                                        .grn-footer{position:fixed;left:0;right:0;top:850px;}
                                    }
                                </style> -->
                            </head>
                            <body style="margin: 0; padding: 0;font-family: arial,sans-serif;color:#676767; font-size: .9rem;margin-bottom:1rem;">
                                <table>
                                    <tr>
                                        <td height="73" >
                                            <img src="kw_inventory/static/img/csmlogobtb.png" width="150px" alt="logoimage"/>
                                            <p style="color: #000;font-size: .75rem;margin-bottom: -5px;margin-top: 3px;">
                                                Level-6,OCAC Tower, Acharya Vihar
                                            </p>
                                            <p style="color: #000;font-size: .75rem;margin-bottom: -5px;">
                                                Bhubaneswar, Khurdha,Odisha,India,751013
                                            </p>
                                            <p style="color: #000;font-size: .75rem;margin-bottom: 0px;">0674-6635900 | info@csm.tech | www.csm.tech</p>
                                        </td>
                                    </tr>
                                </table>
                            </body>
                        </table>&amp;nbsp;
                        <div>
                            <center>
                                <h3 class="text-center mt-2">
                                    <b>Helpdesk Status Report</b>
                                </h3>
                            </center>
                        </div> 
                        <table class="table table-sm table-bordered" style="border: 1px solid #000000; width:100%; cellpadding='5'; cellspacing='0'">
                            <tr>
                                <th>
                                    <b>SL No</b>
                                </th>
                                <th>
                                    <b>Ticket Number</b>
                                </th>
                                <th>
                                    <b>Created On</b>
                                </th>
                                <th>
                                    <b>Request Name</b>
                                </th>
                                <th >
                                    <b>Issue Name</b>
                                </th>
                                <!-- <th>
                                    <b>Subject</b>
                                </th> -->
                                <th>
                                    <b>Category</b>
                                </th>
                                <th>
                                    <b>Assigned Engineer</b>
                                </th>
                                <th>
                                    <b>Status</b>
                                </th>
                                <th>
                                    <b>Action Taken</b>
                                </th>
                                <th>
                                    <b>Closed On</b>
                                </th>
                            </tr>
                        <tbody>
                            <t t-as="o" t-foreach="docs">
                                <tr>
                                    <td>
                                        <span t-field="o.id"/>
                                    </td>
                                    <td>
                                        <span t-field="o.number"/>
                                    </td>
                                    <td>
                                        <span t-field="o.create_date"/>
                                    </td>
                                    <td>
                                        <span t-field="o.users_id"/>
                                    </td>
                                    <td>
                                        <span t-field="o.issue_name"/>
                                    </td>
                                    <!-- <td>
                                        <span t-field="o.description"/>
                                    </td> -->
                                    <td>
                                        <span t-field="o.category_id"/>
                                    </td>
                                    <td>
                                        <span t-field="o.user_id"/>
                                    </td>
                                    <td>
                                        <span t-field="o.stage_id"/>
                                    </td>
                                    <td>
                                        <span t-field="o.remarks_for_done"/>
                                    </td>
                                    <td>
                                        <span t-field="o.closed_date"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
            </t>
        </template>

        <record id="paper_format_helpdesk_status_report" model="report.paperformat">
            <field name="name">Helpdesk Report Layout</field>
            <field name="default" eval="True"/>
            <field name="format">A4</field>
            <field name="page_height">0</field>
            <field name="page_width">0</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">4</field>
            <field name="margin_bottom">4</field>
            <field name="margin_left">4</field>
            <field name="margin_right">4</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">0</field>
            <field name="dpi">80</field>
        </record> 

        <report
            id="action_report_helpdesk_status_pdf"
            string="Status Report PDF"
            model="helpdesk_status_report"
            report_type="qweb-pdf"
            attachment_use="True"
            name="helpdesk_mgmt.report_helpdesk_status_pdf"
            file="helpdesk_mgmt.report_helpdesk_status_pdf"
            print_report_name="'Ticket - %s' % (object.name)"
            paperformat="helpdesk_mgmt.paper_format_helpdesk_status_report"/>
           
    </data>
</odoo>
