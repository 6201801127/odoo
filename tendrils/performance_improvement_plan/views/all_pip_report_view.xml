<odoo>
    <data>
        <record model="ir.ui.view" id="performance_improvement_plan_all_report_list">
            <field name="name">PIP HR list</field>
            <field name="model">pip_hr_employee_counselling</field>
            <field name="arch" type="xml">
                <tree create='false' import="false">
                    <field name="reference"/>
                    <field name="emp_id" class="font-weight-bold" invisible="1"/>
                    <field name="emp_name" class="font-weight-bold"/>
                    <field name="emp_code"/>
                    <field name="emp_desg"/>
                    <field name="department_id"/>
                    <field name="project_id"/>
                    <field name="project_code" invisible="1"/>
                    <field name="reason"/>
                    <field name="remark_pm_rev" string="Description"/>
                    <field name="raise_by_emp"/>
                    <field name="suggestion" string="Suggestion(PM/Div. head)"/>
                    <field name="remark"/>
                    <field name="applied_date"/>
                    <field name="suggestion_head" invisible="1"/>
                    <field name="sbu_suggest" invisible="1"/>
                    <field name="hod_suggest" invisible="1"/>
                    <field name="take_action_date"/>
                    <field name="action_taken_by"/>
                    <field name="pip_status" class="font-weight-bold"/>
                    <field name="final_decision"/>
                    <!-- <field name="hr_final_decision"/> -->
                </tree>
            </field>
        </record>
        <record id="performance_improvement_plan_all_report_form" model="ir.ui.view">
            <field name="name">PIP Report Form</field>
            <field name="model">pip_hr_employee_counselling</field>
            <field name="arch" type="xml">
                <form string="PIP Process Report" create='false' delete='false' edit='false'>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" style="color: #108fbb !important;float:right;height=80px;"
                                name="button_employee_pip_details" type="object" icon="fa-info">
                            <span class="o_stat_text font-weight-bold">
                                View Details
                            </span>
                            </button>
                        </div>
                        <group>
                            <group>
                                <field name="reference"/>
                                <field name="emp_id" class="font-weight-bold" invisible="1"/>
                                <field name="emp_name" class="font-weight-bold"/>
                                <field name="emp_code"/>
                                <field name="emp_desg" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="department_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="project_id" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="project_code" invisible="1"/>
                                <field name="reason"/>
                                <field name="remark_pm_rev" string="Description" />
                               
                            </group>
                            <group>
                                <field name="raise_by_emp" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="suggestion" string="Suggestion(PM/Div. head)"/>
                                <field name="remark"/>
                                <field name="applied_date"/>
                                <field name="suggestion_head" invisible="1"/>
                                <field name="sbu_suggest" invisible="1"/>
                                <field name="hod_suggest" invisible="1"/>
                                <field name="take_action_date"/>
                                <field name="action_taken_by" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="pip_status" class="font-weight-bold"/>
                                <field name="final_decision"/>
                                <!-- <field name="hr_final_decision"/> -->
                            </group>
                            
                        </group>

                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="pip_report_search">
            <field name="name">pip_report_search</field>
            <field name="model">pip_hr_employee_counselling</field>
            <field name="arch" type="xml">
                <search>
                    <field name="emp_id"/>
                    <field name="emp_name"/>
                    <field name="emp_code"/>
                    <field name="emp_desg"/>
                    <field name="department_id"/>
                    <field name="project_id"/>
                    <field name="project_code"/>
                    <field name="reason"/>
                    <field name="remark"/>
                    <field name="remark_pm_rev"/>
                    <field name="raise_by_emp"/>
                    <field name="suggestion"/>
                    <field name="sbu_suggest"/>
                    <field name="hod_suggest"/>
                    <field name="take_action_date"/>
                    <field name="action_taken_by"/>
                    <field name="pip_status"/>
                    <group expand='0' string="Group By">
                    <filter string="Project" name="Project" domain="[]" context="{'group_by':'project_id'}"/>
                    <filter string="Status" name="Status" domain="[]" context="{'group_by':'remark'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="kw_pip_user_report_server_action" model="ir.actions.server">
            <field name="name">PIP Report</field>
            <field name="model_id" ref="model_pip_hr_employee_counselling"/>
            <field name="search_view_id" ref="pip_report_search"/>
            <field name="domain">[('remark','in',['RP','RT'])]</field>
            <field name="state">code</field>
            <field name="code">
                action = model.get_pip_report_view_data()
            </field>
        </record>

        <menuitem name="PIP Process Report"
                  id="pip_report_menu_1"
                  parent='menu_report_root'
                  action='kw_pip_user_report_server_action'
                  groups="performance_improvement_plan.group_pip_user,performance_improvement_plan.group_pip_manager,performance_improvement_plan.group_pip_hr_user,performance_improvement_plan.group_pip_module_user,performance_improvement_plan.group_pip_officer,performance_improvement_plan.group_pip_mis_user"
                  sequence="10"/>
    </data>
</odoo>