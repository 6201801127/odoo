<?xml version="1.0" encoding="UTF-8"?>
<odoo>


    <record id="view_dms_digisign_file_form" model="ir.ui.view">
        <field name="name">kw_dms_file.digi sign form</field>
        <field name="model">kw_dms.file</field>
        <field name="inherit_id" ref="kw_dms.view_dms_file_form" />
        <field name="arch" type="xml">

            <xpath expr="/form/header" position="inside">
                <field name="e_sign_status" invisible="1" readonly="1"/>
                <button name="action_digi_sign" groups="kw_dms.group_dms_manager" attrs="{'invisible':['|',('e_sign_status', '=',True),'|',('extension', '!=', 'pdf'),('permission_write', '=', False)]}" class="oe_highlight btn_e_sign"  type="object" string="e-Sign"   /> 
            </xpath>

            <xpath expr="//field[@name='name']" position="after">
                <field name="digitally_signed"  attrs="{'invisible':[('extension', '!=', 'pdf')]}" readonly="1" />
               
            </xpath>

        </field>
    </record>


</odoo>