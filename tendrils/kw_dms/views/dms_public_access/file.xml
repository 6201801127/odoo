<?xml version="1.0" encoding="UTF-8"?>
<odoo>


    <record id="view_dms_public_access_file_form" model="ir.ui.view">
        <field name="name">kw_dms_file.public_access form</field>
        <field name="model">kw_dms.file</field>
        <field name="inherit_id" ref="kw_dms.view_dms_file_form" />
        <field name="arch" type="xml">

            <xpath expr="/form/header" position="inside">
                <button class="oe_highlight" name="create_public_url" attrs="{'invisible':['|',('file_public_url', '!=', False),('permission_write', '=', False)]}" type="object"  string="Create Public URL"  />
            </xpath>

            <xpath expr="//field[@name='name']" position="after">
                <field name="file_public_url"  attrs="{'invisible':[('file_public_url', '=', False)]}" readonly="1" />
            </xpath>

        </field>
    </record>


</odoo>