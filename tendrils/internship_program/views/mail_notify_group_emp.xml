<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="mail_to_rh_manager_template" model="mail.template">
            <field name="name">Notify RH Mail Template</field>   
            <field name="email_from">${user.email or object.create_uid.email}</field>
            <field name="subject">${ctx['subject']}</field>
            <field name="email_to">${ctx['email_to']}</field>
            <field name="email_from">${ctx['email_from']}</field>
            <field name="email_cc">${ctx['email_cc']}</field>
            <field name="model_id" ref="internship_program.model_lk_batch"/>
            <field name="auto_delete" eval="False"/>
            <field name="body_html">
                <![CDATA[
                    <table border="0">
                        <tr>
                            <td>
                                <div style="margin-left: 1.2rem;margin-bottom:1em;">
                                    <h5 style="font-weight: 400;margin-bottom: 0;font-size: 16px;color:#676767;">
                                        <span style="color:rgb(22, 123, 158);font-size: 16px;margin-right: 2px;font-weight: 600;">Dear All</span>
                                            % if ctx['mail_for'] == 'applied':
                                                ${(ctx.get('name') or ''|safe)},
                                            % elif ctx['mail_for'] == 'internship_applied':
                                                ${(ctx.get('name') or ''|safe)},
                                            %endif
                                    </h5>
                                    % if ctx['mail_for'] == 'applied':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                            <strong><b> ${object.env.user.employee_ids.name}</b></strong> applied the traineeship
                                            program, please check and take action.
                                        </p>
                                    % elif ctx['mail_for'] == 'approved':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                            ${ctx['email_content']}
                                        </p>
                                    % elif ctx['mail_for'] == 'internship_applied':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                            <strong><b> ${object.env.user.employee_ids.name}</b></strong> applied the internship program,
                                            please check and take action.
                                        </p>
                                    % elif ctx['mail_for'] == 'internship_approved':
                                        <p style="color: #676767;line-height: 145%;margin: 10px 0 0 0;font-size: 16px;">
                                            ${ctx['email_content']}                                     
                                        </p>
                                    %endif    
                                </div>
                                <table border="1" cellpadding="5" cellspacing="0" style="width:100%;border-collapse: collapse;font-size: 14px; margin-top:1rem; margin-left:11px;">
                                    <tr>
                                        <th style="height: 30px;width:20%;padding-left:5px; font-weight:700;color:#676767;text-align:left;">Name</th>
                                        <th style="height: 30px;width:20%;padding-left:5px; font-weight:700;color:#676767;text-align:left;">Emp Code</th>
                                        <th style="height: 30px;width:20%;padding-left:5px; font-weight:700;color:#676767;text-align:left;">Designation</th>
                                        <th style="height: 30px;width:20%;padding-left:5px; font-weight:700;color:#676767;text-align:left;">Date of joining</th>
                                        <th style="height: 30px;width:10%;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Status</th>
                                        <th style="height: 30px;width:10%;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Score</th>
                                        <th style="height: 30px;width:10%;padding-left:5px; font-weight:700;color:#676767;text-align:left;"> Comments</th>

                                    </tr>
                                    %for rec in ctx['records']:
                                    <tr>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['name']}
                                        </td>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['employee_code']}
                                        </td>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['designation']}
                                        </td>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['date_of_joining']}
                                        </td>
                                        
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['status']}
                                        </td>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['score']}
                                        </td>
                                        <td style="padding-left:5px;color:#676767;height: 34px;width:40%;">
                                            ${rec['comments']}
                                        </td>
                                    </tr>
                                    % endfor
                                </table>
                            </td>
                        </tr>
                    </table>
                ]]>
            </field>
        </record>
    </data>
</odoo>
