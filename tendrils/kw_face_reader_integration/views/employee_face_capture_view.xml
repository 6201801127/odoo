<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>

		<record id="kw_face_capture_view_tree" model="ir.ui.view">
			<field name="name">kw_employee.view.tree</field>
			<field name="model">hr.employee</field>
			<field name="arch" type="xml">
				<tree import='false' create='false' edit='false' delete='false'>
					<!-- Add your fields here -->
					<field name="name" string="Employee Name"/>
                    <field name="capture_status" invisible="1" />
                    <field name="department_id" string="Department"/>
                    <field name="work_email" string="Email" />
					<field name="mobile_phone" string="Mobile"/>
                    <button name="get_face_capture_url"  type="object" string="Capture Photo" class="oe_highlight" 
                    attrs="{'invisible':[('capture_status','=',True)]}"/>
					<button name="get_face_capture_url"  type="object" string="Recapture Photo" class="oe_highlight" attrs="{'invisible':[('capture_status','!=',True)]}" />
					
				</tree>
			</field>
		</record>

		<record id="kw_face_capture_action_window" model="ir.actions.act_window">
			<field name="name">Face Capture</field>
			<field name="res_model">hr.employee</field>
			<field name="view_mode">tree,pivot</field>
			<field name="view_type">form</field>
			<field name="domain">[('active', '=', True),('employement_type.code','!=','O')]</field>
            <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('kw_face_capture_view_tree')})
            ]"/>
		</record>

        <!-- <menuitem name="Face Capture" id="get_face_capture_data_menu" parent="hr.menu_human_resources_configuration"
        sequence="99" action="kw_face_capture_action_window" groups="hr.group_hr_manager"/>
    -->
	<menuitem name="Face Capture" web_icon="kw_face_reader_integration,static/description/icon.png"
	id="get_face_capture_data_menu" sequence="99"
	action="kw_face_capture_action_window"
	groups="kw_face_reader_integration.face_reader_user_group"/>
	
	
	</data>
</odoo>