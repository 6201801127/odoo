<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <template id="kwonboard_work_experience_detail" name="Work Experience">
            <t t-call="website.layout">
                <div class="container mt-2 mb-2">
                    <div class="card">
                        <div class="card-body">
                            <div class="menu-bar">
                                <ol class="progresss progresss--medium">
                                    <li class="is-complete" data-step="1">  Personal Details  </li>
                                    <li class="is-complete" data-step="2">  Educational Details </li>
                                    <li class="is-active" data-step="3">  Work Experience Details </li>
                                    <li data-step="4" class=""> Identification Details </li>
                                    <li class="progresss__last" data-step="5"><span class="is-active"></span><span class="progress_name"> Documents Details</span></li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="card bg-white">
                        <div class="card-body pl-5 pr-5">

                             <!--Start : Message Template -->
                                <t t-call="kw_onboarding.kwonboard_response_message_template"></t>
                            <!--END : Message Template -->

                            <form name="frm_work_experience" id="frm_work_experience" class="form-horizontal" method="post" action="/workexperiencedata" autocomplete="off" enctype="multipart/form-data">
                               
                                <!-- Mandatory field -->
                                
                                <h4 class="text-dark">
                                    <b>Work Experiences</b>
                                    <span class="col-sm-4 p-0 text-danger font-weight-bold font-italic pull-right text-right small"> <span class="text-danger "> * </span> indicate mandatory fields </span>
                                </h4>
                                <hr/>

                                <div class="card mb-2">
                                    <div class="card-body bg-white">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <label for="workexperience" class="mdb-main-label">Work Experience Details: <i class="mandatory"> * </i></label>
                                                <div class="form-check form-check-inline ml-3">
                                                    <input class="form-check-input workexperience" type="radio" id="workexperience2" name="experience" value="2" t-att-checked="experience_sts == '2' or experience_sts == None or experience_sts == False"/>
                                                    <label class="form-check-label" for="workexperience2">Experience</label>
                                                </div>

                                                <div class="form-check form-check-inline ml-2">
                                                    <input class="form-check-input workexperience" type="radio" id="workexperience1" name="experience" value="1" t-att-checked="experience_sts == '1'"/>
                                                    <label class="form-check-label" for="workexperience1">Fresher</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="parent-block" class="hide work_exp_parent_block" >
                                    <t t-if="experience">
                                        <t t-set="cnt" t-value="0"/>
                                        <t t-foreach="experience" t-as="exp">
                                            <div id="main_00" class="item-block card bg-white mb-2">
                                                <div class="card-header bg-white">
                                                    <h3>
                                                        Work Experience <span class="block-counter-message"/>
                                                        <button type="button" class="btn btn-danger close_row pull-right btn-sm pr-3 pl-3"><i class="fa fa-trash"/></button>
                                                        <input type="hidden" t-att-id="'work_expid_'+str(cnt)" t-att-name="'work_expid_'+str(cnt)" class="form-control hiddn" t-att-value="exp.get('expid')"/>
                                                    </h3>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row md-form">
                                                        <div class="col-sm-3">
                                                            <select  title="Please select country name"  t-att-name="'work_country_'+str(cnt)"
                                                                     t-att-id="'work_country_'+str(cnt)" class="form-control clsoptrequired">
                                                                <option value="0">Select</option>
                                                                <t t-foreach="request.env['res.country'].sudo().search([])" t-as="country">
                                                                    <option t-att-value="country.id" t-att-selected="country.id==exp.get('country_id')"><t t-esc="country.name"/></option>
                                                                </t>
                                                            </select>
                                                            <label t-att-for="'work_country_'+str(cnt)" class="mdb-main-label">Country Name: <i class="mandatory"> * </i></label>
                                                        </div>

                                                        <div class="col-sm-3">
                                                            <input type="text" title="Please enter organization name" class="form-control orgval clsrequired"
                                                                   t-att-id="'work_orgname_'+str(cnt)" t-att-name="'work_orgname_'+str(cnt)"
                                                                   t-att-value="exp.get('name')" maxlength="50" />
                                                            <label t-att-for="'work_orgname_'+str(cnt)"> Organization Name: <i class="mandatory"> * </i></label>
                                                        </div>

                                                        <div class="col-sm-3">
                                                            <input type="text" title="Please enter designation name"  class="form-control desgval clsrequired"
                                                                   t-att-id="'work_desg_'+str(cnt)"  t-att-value="exp.get('designation_name')"
                                                                   t-att-name="'work_desg_'+str(cnt)" maxlength="50" />
                                                            <label t-att-for="'work_desg_'+str(cnt)"> Designation Name: <i class="mandatory"> * </i></label>
                                                        </div>

                                                        <div class="col-sm-3">
                                                            <select title="Please select organization type"  t-att-name="'work_orgtype_'+str(cnt)"
                                                                    t-att-id="'work_orgtype_'+str(cnt)" class="form-control clsoptrequired">
                                                                <option value="0">Select</option>
                                                                <t t-foreach="request.env['kwemp_organization'].sudo().search([])" t-as="organization">
                                                                    <option t-att-value="organization.id" t-att-selected="organization.id==exp.get('organization_type')"><t t-esc="organization.name"/></option>
                                                                </t>
                                                            </select>
                                                            <label t-att-for="'work_orgtype_'+str(cnt)" class="mdb-main-label"> Organization Type: <i class="mandatory"> * </i></label>
                                                        </div>
                                                    </div>

                                                    <div class="md-form row">
                                                        <div class="col-sm-3">
                                                            <select title="Please select industry" t-att-name="'work_indtype_'+str(cnt)" t-att-id="'work_indtype_'+str(cnt)"
                                                                     class="form-control clsoptrequired">
                                                                <option value="0">Select</option>
                                                                <t t-foreach="request.env['kwemp_industry'].sudo().search([])" t-as="industry">
                                                                    <option t-att-value="industry.id" t-att-selected="industry.id==exp.get('industry_type')"><t t-esc="industry.name"/></option>
                                                                </t>
                                                            </select>
                                                            <label t-att-for="'work_indtype_'+str(cnt)" class="mdb-main-label"> Industry: <i class="mandatory"> * </i></label>
                                                        </div>

                                                        <div class="col-sm-3">
                                                            <input type="text" title="Please select duration from" class="form-control work_datepicker clsrequired"
                                                                   t-att-value="exp.get('effective_from')" t-att-id="'work_dufrom_'+str(cnt)" t-att-name="'work_dufrom_'+str(cnt)" readonly="readonly"/>
                                                            <label t-att-for="'work_dufrom_'+str(cnt)"> Duration From: <i class="mandatory"> * </i></label>
                                                        </div>

                                                        <div class="col-sm-3">
                                                            <input type="text" title="Please select duration to" class="form-control work_datepicker clsrequired"
                                                                    t-att-value="exp.get('effective_to')" t-att-id="'work_duto_'+str(cnt)" t-att-name="'work_duto_'+str(cnt)" readonly="readonly"/>
                                                            <label t-att-for="'work_duto_'+str(cnt)"> Duration To: <i class="mandatory"> * </i></label>
                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                            <t t-set="cnt" t-value="cnt+1"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <div id="main_00" class="item-block card bg-white mb-2">
                                            <div class="card-header bg-white">
                                                <h3>
                                                    Work Experience <span class="block-counter-message"/>
                                                    <button type="button" class="btn btn-danger close_row pull-right btn-sm pr-3 pl-3"><i class="fa fa-trash"/></button>
                                                </h3>
                                            </div>
                                            <div class="card-body">
                                                <div class="md-form row">
                                                    <div class="col-sm-3">
                                                        <select  title="Please select country name" name="work_country_0" id="work_country_0" placeholder="Country Name" class="form-control clsoptrequired">
                                                            <option value="0">Select Country Name</option>
                                                            <t t-foreach="request.env['res.country'].sudo().search([])" t-as="country">
                                                                <option t-att-value="country.id"><t t-esc="country.name"/></option>
                                                            </t>
                                                        </select>
                                                        <label for="work_country_0" class="mdb-main-label">Country Name: <i class="mandatory"> * </i></label>
                                                    </div>

                                                    <div class="col-sm-3">
                                                        <input type="text" title="Please enter organization name" class="form-control orgval clsrequired"
                                                                id="work_orgname_0" name="work_orgname_0" maxlength="50"/>
                                                        <label for="work_orgname_0"> Organization Name: <i class="mandatory"> * </i></label>
                                                    </div>

                                                    <div class="col-sm-3">
                                                        <input type="text" title="Please enter designation name"
                                                               class="form-control desgval clsrequired" id="work_desg_0" name="work_desg_0" maxlength="50" />
                                                        <label for="work_desg_0"> Designation Name: <i class="mandatory"> * </i></label>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <select name="work_orgtype_0" title="Please select organization type"
                                                                id="work_orgtype_0" class="form-control clsoptrequired">
                                                            <option value="0">Select Organization Type</option>
                                                            <t t-foreach="request.env['kwemp_organization'].sudo().search([])" t-as="organization">
                                                                <option t-att-value="organization.id"><t t-esc="organization.name"/></option>
                                                            </t>
                                                        </select>
                                                        <label for="work_orgtype_0" class="mdb-main-label"> Organization Type: <i class="mandatory"> * </i></label>
                                                    </div>
                                                </div>

                                                <div class="md-form row">
                                                    <div class="col-sm-3">
                                                        <select  title="Please select industry" name="work_indtype_0"
                                                                 id="work_indtype_0" class="form-control clsoptrequired">
                                                            <option value="0">Select Industry</option>
                                                            <t t-foreach="request.env['kwemp_industry'].sudo().search([])" t-as="industry">
                                                                <option t-att-value="industry.id"><t t-esc="industry.name"/></option>
                                                            </t>
                                                        </select>
                                                        <label for="work_indtype_0" class="mdb-main-label"> Industry: <i class="mandatory"> * </i></label>
                                                    </div>

                                                    <div class="col-sm-3">
                                                        <input type='text' title="Please select duration from" class="form-control work_datepicker clsrequired" id="work_dufrom_0" name="work_dufrom_0" readonly="readonly"/>
                                                        <label for="work_dufrom_0"> Duration From: <i class="mandatory"> * </i></label>
                                                    </div>

                                                    <div class="col-sm-3">
                                                        <input type='text' title="Please select duration to" class="form-control work_datepicker clsrequired" id="work_duto_0" name="work_duto_0" readonly="readonly"/>
                                                        <label for="work_duto_0"> Duration To: <i class="mandatory"> * </i></label>
                                                    </div>

                                                </div>



                                            </div>
                                        </div>
                                    </t>
                                </div>
                                <div class="form-group row pull-right hide">
                                    <div class="col-sm-12">
                                        <button type="button" id="btnadd" class="btn btn-primary add-rows pull-right btn-sm">Add More</button>
                                    </div>
                                    <div class="clear"/>
                                </div>
                                <div class="clearfix"/>
                                <div id="parent-child-block" class="hide work_exp_parent_block" >
                                    <div class="card mb-2">
                                        <div class="card-body bg-white">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <label for="workexperience" class="mdb-main-label">Previous Work Details: <i class="mandatory"> * </i></label>
                                                        
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mb-2">
                                        <div class="card-body bg-white">
                                            <div class="md-form row">
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" title="Please enter emp code" id="previous_emp_code" name="previous_emp_code" t-att-value="previous_emp_code" class="form-control clsrequired" maxlength="200"/>
                                                    <label for="previous_emp_code">Employee Code:  <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input name="previous_date_of_relieving" type="text" title="Please enter date of relieving" t-att-value="previous_date_of_relieving" id="previous_date_of_relieving"  class="form-control work_datepicker clsrequired"  readonly="readonly"/>
                                                    <label for="previous_date_of_relieving">Date of Relieving:  <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" id="reason_for_leaving" title="Please enter reason" name="reason_for_leaving" t-att-value="reason_for_leaving" class="form-control clsrequired" maxlength="100" />
                                                    <label for="reason_for_leaving">Reason for Leaving: <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="number" id="previous_salary_per_month" name="previous_salary_per_month" title="Please enter salary" t-att-value="previous_salary_per_month" class="form-control clsrequired" maxlength="100" />
                                                    <label for="previous_salary_per_month">CTC: <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" id="previous_ra" name="previous_ra" title="Please enter RA name" t-att-value="previous_ra" class="form-control clsrequired" maxlength="100" />
                                                    <label for="previous_ra">Reporting Authority: <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" id="previous_ra_mail" name="previous_ra_mail" title="Please enter mail id" t-att-value="previous_ra_mail" class="form-control" maxlength="100" />
                                                    <label for="previous_ra_mail">Reporting Authority Mail ID:</label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="number" id="previous_ra_phone" name="previous_ra_phone" title="Please enter ph no" t-att-value="previous_ra_phone" class="form-control" onKeyPress="if(this.value.length==10) return false;" />
                                                    <label for="previous_ra_phone">Reporting Authority Phone No: </label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" id="previous_hr_name" name="previous_hr_name" title="Please enter HR name" t-att-value="previous_hr_name" class="form-control clsrequired" maxlength="100" />
                                                    <label for="previous_hr_name">HR Name: <i class="mandatory"> * </i></label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="text" id="previous_hr_mail" name="previous_hr_mail" title="Please enter HR mail id" t-att-value="previous_hr_mail" class="form-control" maxlength="100" />
                                                    <label for="previous_hr_mail">HR Mail Id: </label>
                                                </div>
                                                <div class="col-sm-3 mb-2">
                                                    <input type="number" id="previous_hr_phone" name="previous_hr_phone" title="Please enter HR ph no" t-att-value="previous_hr_phone" class="form-control" onKeyPress="if(this.value.length==10) return false;"/>
                                                    <label for="previous_hr_phone">HR Phone No:</label>
                                                </div>
                                                <t t-if="previous_exit_formalities_completion">
                                                    <div class="col-sm-3">
                                                        <span>Exit Formalities complete?: </span>
                                                        <fieldset id="group1">
                                                            <input type="radio" id="previous_exit_formalities_completion_1" name="previous_exit_formalities_completion" value="Yes"  t-att-checked="'Yes'==previous_exit_formalities_completion"/>
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_exit_formalities_completion_0" name="previous_exit_formalities_completion" value="No" t-att-checked="'No'==previous_exit_formalities_completion"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div>
                                                </t> 
                                                <t t-else="">
                                                    <div class="col-sm-3">
                                                        <span>Exit Formalities complete?: </span>
                                                        <fieldset id="group1">
                                                            <input type="radio" id="previous_exit_formalities_completion_1" name="previous_exit_formalities_completion" value="Yes"  checked="checked" />
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_exit_formalities_completion_0" name="previous_exit_formalities_completion" value="No"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div> 
                                                </t> 
                                                <div class="col-sm-3 mb-2 reason-options">
                                                        <input type="text" id="reason_for_not_complete" name="reason_for_not_complete" title="Please enter Reason" t-att-value="reason_for_not_complete" class="form-control desgval " maxlength="100" />
                                                        <label for="reason_for_not_complete">Reason for not complete Formalities?: <i class="mandatory"> * </i></label>
                                                </div>
                                                <t t-if="previous_payslip_available">
                                                    <div class="col-sm-3">
                                                        <span>Payslip Available?: </span>
                                                        <fieldset id="group2">
                                                            <input type="radio" id="previous_payslip_available_1" name="previous_payslip_available" value="Yes"  t-att-checked="'Yes'==previous_payslip_available"/>
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_payslip_available_0" name="previous_payslip_available" value="No" t-att-checked="'No'==previous_payslip_available"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div>
                                                   
                                                </t>
                                                <t t-else="">
                                                    <div class="col-sm-3">
                                                        <span>Payslip Available?:</span>
                                                        <fieldset id="group2">
                                                            <input type="radio" id="previous_payslip_available_1" name="previous_payslip_available" value="Yes"  checked="checked" />
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_payslip_available_0" name="previous_payslip_available" value="No"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div> 
                                                </t>       
                                                <div class="col-sm-3 mb-2 reason-payslip">
                                                    <input type="text" id="reason_for_not_available" name="reason_for_not_available" title="Please enter Reason" t-att-value="reason_for_not_available" class="form-control " maxlength="100" />
                                                    <label for="reason_for_not_available">Reason for not available: <i class="mandatory"> * </i></label>
                                                </div>
                                                 <t t-if="previous_relieving_letter">
                                                    <div class="col-sm-3">
                                                        <span>Relieving letter available?: </span>
                                                        <fieldset id="group2">
                                                            <input type="radio" id="previous_relieving_letter_1" name="previous_relieving_letter" value="Yes"  t-att-checked="'Yes'==previous_relieving_letter"/>
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_relieving_letter_0" name="previous_relieving_letter" value="No" t-att-checked="'No'==previous_relieving_letter"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div>
                                                </t>
                                                <t t-else="">
                                                    <div class="col-sm-3">
                                                        <span>Relieving letter available?:</span>
                                                        <fieldset id="group2">
                                                            <input type="radio" id="previous_relieving_letter_1" name="previous_relieving_letter" value="Yes"  checked="checked" />
                                                            <span class="mr-2">Yes</span>
                                                            <input type="radio" id="previous_relieving_letter_0" name="previous_relieving_letter" value="No"/>
                                                            <span class="mr-2">No</span>
                                                        </fieldset>
                                                    </div> 
                                                </t>     
                                                <div class="col-sm-3 mb-2 reason-releaving">
                                                    <input type="text" id="reason_for_not_having_relieving_letter" name="reason_for_not_having_relieving_letter" title="Please enter Reason" t-att-value="reason_for_not_having_relieving_letter" class="form-control " maxlength="100" />
                                                    <label for="reason_for_not_having_relieving_letter">Reason: <i class="mandatory"> * </i></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>            

                                    
                                </div>


                                <div>
                                    <a href="/educationaldetails/">
                                        <button type="button" class="btn btn-danger btn-md" id="btnSubmitEDBack">Back</button>
                                    </a>
                                    <button type="submit" class="btn btn-success btn-md" name="draft" value="draft"  id="btnSubmitED">Save Work Experience</button>
                                    <button type="submit" class="btn btn-success btn-md"  name="next" value="next" id="btnSubmitEDNext">Save And Next</button>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </t>
        </template>

        <template id="assets_frontend_work" name="onboarding_work_assets" inherit_id="kw_onboarding.kwonboard_work_experience_detail">
            <xpath expr="." position="inside">
                <link href='https://fonts.googleapis.com/css?family=Noto Sans' rel='stylesheet' />
                <link href="/kwantify_theme/static/src/mdb/css/mdb.min.css" rel="stylesheet"/>
<!--                <link rel="stylesheet" href="/kw_onboarding/static/src/css/bootstrap-datepicker.min.css"/>-->
                <link rel="stylesheet" href="/kw_onboarding/static/src/css/onboarding.css"/>

                <script type="text/javascript" src="/kwantify_theme/static/src/mdb/js/mdb.min.js"/>
                <script type="text/javascript" src="/kw_onboarding/static/src/lib/jquery.validate.min.js"/>
                <script type="text/javascript" src="/kw_onboarding/static/src/lib/additional-methods.js"/>
                <!-- <script type="text/javascript" src="/kw_onboarding/static/src/js/bootstrap-datepicker.min.js"/> -->

                <script type="text/javascript" src="/kw_onboarding/static/src/js/kw_onboarding_validation.js"/>
                <script type="text/javascript" src="/kw_onboarding/static/src/js/kw_onboard_workexperience_details.js"/>

            </xpath>
        </template>
    </data>
</odoo>
