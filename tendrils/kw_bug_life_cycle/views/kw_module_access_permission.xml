<odoo>
    <data>
        <record id="kw_module_access_tree" model="ir.ui.view">
            <field name="name">kw_module_access_tree</field>
            <field name="model">kw_module_access_permission</field>
            <field name="arch" type="xml">
                <tree delete='0' duplicate='0' class="bug_raise_tree">
                    <field name="project_id" />
                    <field name="module_access_ids" />
                </tree>
            </field>
        </record>

        <record id="kw_module_access_form" model="ir.ui.view">
            <field name="name">kw_module_access_form</field>
            <field name="model">kw_module_access_permission</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form delete="0" duplicate="0">
                    <sheet>
                        <group>
                            <field name="project_id" options="{'no_open': True, 'no_create': True, 'no_edit': True}" force_save="1" attrs="{'readonly': [('has_module_access_ids', '=', True)]}"/>
                            <field name="has_module_access_ids" invisible='1' />
                            <field name="module_access_ids">
                                <tree editable='bottom' create='1' delete='0' class="bug_raise_tree">
                                    <field name="module_access_id" invisible='1' />
                                    <field name="project_id" invisible='1' />
                                    <field name="is_module_used_tcw" invisible='1' />
                                    <field name="module_id" force_save="1" attrs="{'readonly': [('test_case_update_perm', '=', True)]}" options="{'no_open': True, 'no_create': True, 'no_edit': True}"/>
                                    <field name="test_case_update_perm" force_save="1" attrs="{'readonly': [('is_module_used_tcw', '=', True)]}"/>
                                    <!--                                        attrs="{'readonly': [('is_module_used', '=', True)]}"-->
                                    <field name="test_case_execution_perm" force_save="1"/>
                                    <field name="last_updated_by" readonly='1'/>
                                    <field name="last_updated_on" readonly='1'/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="module_access_tree" model="ir.ui.view">
            <field name="name">module_access_tree</field>
            <field name="model">module_access</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <field name="module_access_id" invisible='1' />
                        <field name="project_id" invisible='1' />
                        <field name="module_id" options="{'no_open': True, 'no_create': True, 'no_edit': True}" readonly='1'/>
                        <field name="test_case_update_perm" readonly='1'/>
                        <field name="test_case_execution_perm" readonly='1'/>
                        <field name="last_updated_by" readonly='1'/>
                        <field name="last_updated_on" readonly='1'/>
                    </group>
                </form>
            </field>
        </record>
        <record id="kw_module_access_search_view" model="ir.ui.view">
            <field name="name">kw_module_access_search_view</field>
            <field name="model">kw_module_access_permission</field>
            <field name="arch" type="xml">
                <search>
                    <field name="project_id"/>
                    <filter string="This Month" domain="[('last_updated_on', 'like',context_today().strftime('%Y-%m'))]" name="current_month_updation"/>
                    <filter string="This Year" domain="[('last_updated_on', 'like',context_today().strftime('%Y'))]" name="current_year_updation"/>
                    <filter string="Last Year" domain="[('last_updated_on', 'like',(context_today()-relativedelta(years=1)).strftime('%Y'))]" name="last_year_updation"/>
                    <separator/>
                    <filter name="group_by_project" string="Project" context="{'group_by':'project_id'}" />
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="kw_module_access_form_action">
            <field name="name">Access Permission</field>
            <field name="res_model">kw_module_access_permission</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="kw_module_access_search_view"/>
        </record>

    </data>
</odoo>