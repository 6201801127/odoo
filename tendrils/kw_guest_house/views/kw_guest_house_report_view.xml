<odoo>
  <data>


    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="kw_guest_house_report_list">
      <field name="name">kw_guest_house_report_list</field>
      <field name="model">kw_guest_house_report</field>
      <field name="arch" type="xml">
        <tree>
          <field name="guest_house_id"/>
          <field name="address"/>
          <field name="country"/>
          <field name="state"/>
          <!-- <field name="city"/> -->
          <field name="no_of_single_room"/>
          <field name="no_of_double_room"/>
          <field name="available_single_room"/>
          <field name="available_double_room"/>
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="kw_guest_house_booking_report_list">
      <field name="name">kw_guest_house_booking_report_list</field>
      <field name="model">kw_guest_house_booking_report</field>
      <field name="arch" type="xml">
        <tree>
          <field name="booking_id"/>
          <field name="employee_name"/>
          <field name="guest_type"/>
          <field name="tour_ref" attrs="{'invisible':[('guest_type', '!=', 'self')]}"/>
          <field name="no_of_guests" attrs="{'invisible':[('guest_type', '!=', 'guest')]}"/>
          <!-- <field name="requesting_for_id" attrs="{'invisible':[('guest_type', '!=', 'admin')]}"/> -->
          <field name="requesting_for" attrs="{'invisible':[('guest_type', '!=', 'new joinee')]}"/>
          <field name="guest_house_id"/>
          <field name="country"/>
          <field name="state"/>
          <!-- <field name="city"/> -->
          <field name="check_in_date_time"/>
          <field name="check_out_date_time"/>
          <field name="room_type"/>
          <field name="booking_type" attrs="{'invisible':[('room_type', '=', 'single')]}"/>
          <field name="room_no"/>
          <field name="status"/>
          <field name="rating"/>
          <field name="feedback"/>
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="kw_guest_house_report_search">
      <field name="name">kw_guest_house_report_search</field>
      <field name="model">kw_guest_house_report</field>
      <field name="arch" type="xml">
        <search>
          <field name="country"/>
          <field name="state"/>
          <!-- <field name="city"/> -->
          <group expand='0' string="Group By">
            <filter string="Country" name="Country" domain="[]" context="{'group_by':'country'}"/>
            <filter string="State" name="State" domain="[]" context="{'group_by':'state'}"/>
            <!-- <filter string="City" name="City" domain="[]" context="{'group_by':'city'}"/> -->
          </group>
        </search>
      </field>
    </record>


    <record model="ir.ui.view" id="kw_guest_house_booking_report_search">
      <field name="name">kw_guest_house_booking_report_search</field>
      <field name="model">kw_guest_house_booking_report</field>
      <field name="arch" type="xml">
        <search>
          <field name="employee_name"/>
          <field name="check_in_date"/>
          <field name="check_out_date"/>
          <field name="guest_type"/>
          <field name="guest_house_id"/>
          <field name="country"/>
          <field name="state"/>
          <!-- <field name="city"/> -->
          <field name="room_type"/>
          <field name="status"/>
          <filter string="This Month" name="filter_current_month" domain="[('check_in_date_time','&lt;',(context_today()+relativedelta(months=1)).strftime('%%Y-%%m-01')), ('check_in_date_time','&gt;=',time.strftime('%%Y-%%m-01'))]"/>
          <group expand='0' string="Group By">
            <filter string="Emloyee" name="Emloyee" domain="[]" context="{'group_by':'employee_name'}"/>
            <filter string="Check In Date" name="Check In Date" domain="[]" context="{'group_by':'check_in_date'}"/>
            <filter string="Check Out Date" name="Check Out Date" domain="[]" context="{'group_by':'check_out_date'}"/>
            <filter string="Guest Type" name="Guest Type" domain="[]" context="{'group_by':'guest_type'}"/>
            <filter string="Guest House" name="Guest House" domain="[]" context="{'group_by':'guest_house_id'}"/>
            <filter string="Country" name="Country" domain="[]" context="{'group_by':'country'}"/>
            <filter string="State" name="State" domain="[]" context="{'group_by':'state'}"/>
            <!-- <filter string="City" name="City" domain="[]" context="{'group_by':'city'}"/> -->
            <filter string="Room Type" name="Room Type" domain="[]" context="{'group_by':'room_type'}"/>
            <filter string="Status" name="Status" domain="[]" context="{'group_by':'status'}"/>
          </group>
        </search>
      </field>
    </record>

    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="kw_guest_house_report_action_window">
      <field name="name">Guest House Report</field>
      <field name="res_model">kw_guest_house_report</field>
      <field name="view_mode">tree</field>
      <field name="view_type">form</field>
      <field name="view_id" ref="kw_guest_house_report_list"/>
      <field name="search_view_id" ref="kw_guest_house_report_search"/>
      <field name="context">{'create': False, 'delete': False, 'copy': False, 'edit': False}</field>
    </record>

    <record model="ir.actions.act_window" id="kw_guest_house_booking_report_action_window">
      <field name="name">Guest House Booking Report</field>
      <field name="res_model">kw_guest_house_booking_report</field>
      <field name="view_mode">tree,search</field>
      <field name="view_type">form</field>
      <field name="view_id" ref="kw_guest_house_booking_report_list"/>
      <field name="search_view_id" ref="kw_guest_house_booking_report_search"/>
      <field name="domain">[('status','not in',['draft'])]</field>
      <field name="context">{'create': False, 'delete': False, 'copy': False, 'edit': False}</field>
    </record>

  </data>
</odoo>