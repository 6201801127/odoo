<odoo>
    <data>
        <!-- explicit list view definition -->
        <record id="feedback_assessment_pip_tree_view" model="ir.ui.view">
            <field name="name">PIP Tree View</field>
            <field name="model">kw_feedback_assessment_pip</field>
            <field name="arch" type="xml">
                <tree import='0'>
                    <field name="sequence"/>
                    <field name="employee_id"/>
                    <field name="requested_by"/>
                    <field name="requested_on"/>
                    <field name="comment"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>


        
        <record id="feedback_assessment_pip_form_view" model="ir.ui.view">
            <field name="name">PIP Form View</field>
            <field name="model">kw_feedback_assessment_pip</field>
            <field name="arch" type="xml">
                <form delete='false' create='true' edit='true'>
                    <header>
                        <button string="Update" name="action_update" type="object"
                                class="btn-success" attrs="{'invisible': [('state','in', ['draft','closed'])]}"/>
                        <button string="Submit" name="action_submit" type="object"
                                class="oe_highlight" attrs="{'invisible': [('state','in', ['inprogress','submitted','closed'])]}"/>
                        <button string="Approve" name="action_approve" type="object"
                                class="oe_highlight" attrs="{'invisible': [('state','in', ['draft','inprogress','closed'])]}"/>
                        <button string="Close" name="action_close" type="object"
                                class="btn-danger" attrs="{'invisible': [('state','in', ['draft','submitted','closed'])]}"/>
                        <field name="state" invisible="1"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,submitted,inprogress,closed"/>      
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="sequence"/>
                                <field name="requested_by" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="requested_on" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="employee_id" attrs="{'readonly':[('state','in', ['submitted','closed'])]}" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                <field name="emp_desgination" />
                                <field name="emp_department" />
                                <field name="emp_project" />
                                <!-- <field name="emp_project_manager" />
                                <field name="emp_sbu" /> -->
                                <field name="comment" attrs="{'readonly':[('state','in', ['submitted','closed'])]}"/>
                                <field name="log_ids" readonly="True"> 
                                    <tree>
                                        <!-- <field name="emp_id" invisible="1"/> -->
                                        <field name="employee_name" options="{'no_open': True,'no_create':True,'no_edit':True}"/>
                                        <field name="date"/>
                                        <field name="comment"/>
                                        <!-- <field name="state"/> -->
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </sheet>    
                </form>
            </field>
        </record>

    

        <record id="feedback_assessment_pip_apply_action_window" model="ir.actions.act_window">
            <field name="name">Apply</field>
            <field name="res_model">kw_feedback_assessment_pip</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="feedback_assessment_pip_tree_view"/>
        </record>

        <!-- <record id="feedback_assessment_pip_report_action_window" model="ir.actions.act_window">
            <field name="name">Performance Improvement Plan Report</field>
            <field name="res_model">kw_feedback_assessment_pip</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
            <field name="context">{'create': False,'edit':False,'delete':False}</field>
            <field name="view_id" ref="feedback_assessment_pip_tree_view"/>
        </record> -->


    </data>
</odoo>
