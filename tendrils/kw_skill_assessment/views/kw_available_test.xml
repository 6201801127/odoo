<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="kw_available_test_action_window" model="ir.actions.act_window">
			<field name="name">Available Test</field>
			<field name="res_model">kw_skill_question_set_config</field>
			<field name="view_mode">kanban</field>
			<field name="view_type">form</field>
			<field name="domain">[('assessment_type','=','skill'),('eligible_tests', '=',True)]</field>	
			<field name="context">{'search_default_skill_types':1}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					No assessment available...
				</p>
			</field>
		</record>

		<record model="ir.ui.view" id="kw_ques_set_config_view_kanban">
			<field name="name">kw_ques_set_config.view.kanban</field>
			<field name="model">kw_skill_question_set_config</field>
			<field name="arch" type="xml">
				<kanban create="false">
					<field name="name"/>
					<field name="skill"/>
					<field name="duration"/>
					<field name="total_questions"/>
					<field name="designation_id"/>
					<field name="question_type"/>
					<field name="frequency_val"/>
					<field name="eligible_tests" />
					<!-- <field name="no_of_questions"/> -->
					<templates>
						<t t-name="kanban-box">
							<div t-attf-class="oe_kanban_global_click">
								<div class="o_kanban_record_top container p-2 m-0">
									<div class="o_kanban_record_headings">
										<div class="text-left">
											<h1 class='text-uppercase'>
												<field name="name"/>
											</h1>
											<h1 class='text-uppercase badge badge-warning text-wrap font-weight-bold'
											    style="font-size: 1.2rem;">
												<field name="skill"/>
											</h1>
											<h1 class='text-uppercase badge badge-warning text-wrap font-weight-bold'
											    style="font-size: 1.2rem;">
												<field name="skill_types"/>
											</h1>
										</div>
										<div class="clearfix"/>
										<div class="row">
											<div class="col-sm-7">
												<span class="fa fa-clock-o mb-2"/> &amp;nbsp; Duration:
												<field name="duration"/>
												<br/>
												<span class="fa fa-tasks mb-2"/> &amp;nbsp; Total Questions:
												<field name="total_questions"/>
												<br/>
												<span class="fa fa-tasks mb-2"/> &amp;nbsp; Total Marks:
												<field name="total_marks"/>
												<!-- <t t-esc="record.designation_id.raw_value"/> -->
											</div>
											<div class="col-sm-5 text-right">
												<button class="btn btn-primary p-3" title="Click to attend test"
												        name='take_test'
												        attrs="{'invisible': ['|','|',('designation_id', '=', False),('question_type','=', False),('frequency_val','=',False)]}"
												        type="object">Take Test
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>

		<record id="model_name_view_search" model="ir.ui.view">
			<field name="name">kw_skill_question_set_config.view.search</field>
			<field name="model">kw_skill_question_set_config</field>
			<field name="arch" type="xml">
				<search string="Search Description">
					<field name="skill" />
					<!-- Add your fields here -->
					<!-- <filter string="Eligible" domain="[('eligible_tests', '=',True)]" name="eligible_tests"/> -->
					<!-- <filter string="Non Technical" domain="[('skill_types', '=',2)]" name="skill_types"/> -->
				</search>
			</field>
		</record>

		<template id="available_test_style" inherit_id="web.assets_backend">
			<xpath expr="." position="inside">
				<link rel="stylesheet" type="text/css" href="/kw_skill_assessment/static/src/css/style.css"/>
			</xpath>
		</template>
	</data>
</odoo>
