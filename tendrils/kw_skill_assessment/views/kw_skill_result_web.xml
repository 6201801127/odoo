<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <template id="kw_skill_result" name="Kwantify Skill Result">
            <t t-call="website.layout">
                <nav class="navbar navbar-expand-lg navbar-dark primary-color">
					<div class="container-fluid">
						<div class="row align-items-center full-width">
							<div class="col-sm-6">
                                <t t-if="answer_record.set_config_id.assessment_type == 'training'">
                                    <p class="h4 mb-0 text-capitalize"> <t t-esc="answer_record.set_config_id.name" /> Result </p>
                                </t>
                                <t t-if="answer_record.set_config_id.assessment_type == 'Induction'">
                                    <p class="h4 mb-0 text-capitalize"> <t t-esc="answer_record.set_config_id.name" /> Result </p>
                                </t>
                                <t t-else="">
								    <p class="h4 mb-0 text-uppercase ">Skill Assessment Result </p>
                                </t>
							</div>
							<div class="col-sm-6">
								<div class="float-right logedin-user">
									<img t-attf-src="/kw_skill_assessment/static/src/imgs/user.png" t-att-alt="employee.name"/>
									<div class="info">
										<p class="m-0 font-weight-bold"><strong> <span t-esc="employee.name"/></strong></p>
										<p class="m-0"><small> <span t-esc="employee.job_id.name" /></small></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</nav>

                <div class="container">
                    <div class="row mt-5">
                        <div class="col-sm-12 m-auto">
                            <div class="card mt-1">
                                <div class="card-body p-0">
                                    <div class="row px-5 pt-5">
                                        <t t-if="answer_record.set_config_id.assessment_type == 'training'">

                                        </t>
                                        <t t-if="answer_record.set_config_id.assessment_type == 'Induction'">

                                        </t>
                                        <t t-else="">
                                            <div class="col-sm-6">
                                                <p class="h1 heading"> ASSESSMENT RESULT </p>
                                                <p class="h6 sub-heading"> Here is your Assessment result </p>
                                            </div>
                                        </t>
                                    </div>
                                    <div class="row px-5 pb-1">
                                        <div class="col-sm-5 mt-3 text-center" style="margin-top: 2rem !important;">
                                            <div class="circle-icon">
                                                <span t-att-class="answer_record.score_id.icon" />
                                            </div>
                                            <p class="h3 mt-4" style="margin-bottom: 0rem !important;"> <span t-esc="answer_record.score_id.tagline" /> </p>
                                        </div>
                                        <div class="col-sm-7">
                                            <p class="h1 skill_name text-uppercase ml-3">
                                                <t t-esc="answer_record.skill_id.name"/>
                                            </p>
                                            <p class="h6 skill_type ml-3">
                                                <t t-esc="answer_record.skill_type_id.skill_type"/>
                                            </p>

                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class="font-weight-bold text-left">Question Type</th>
                                                        <th scope="col" class="font-weight-bold text-right">Total Questions</th>
                                                        <th scope="col" class="font-weight-bold text-right">Correct Answers</th>
                                                        <th scope="col" class="font-weight-bold text-right">Score</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="weightage_type" t-as="v">
                                                        <tr>
                                                            <td><span class="pull-left"><t t-esc="v" /> </span></td>
                                                            <td class="text-right"><span ><t t-esc="v_value[0]" /></span></td>
                                                            <td class="text-right"><span ><t t-esc="v_value[1]" /></span></td>
                                                            <td class="text-right"><span ><t t-esc="v_value[2]" /></span></td>
                                                        </tr>
                                                    </t>
                                                    <tr style="background: #ffe60933;" class="no-top-border">
                                                        <td class="font-weight-bold text-left"> Total </td>
                                                        <td class="font-weight-bold text-right"><t t-esc="total_ques" /> </td>
                                                        <td class="font-weight-bold text-right"> <t t-esc="total_correct_ans" /> </td>
                                                        <td class="font-weight-bold text-right"> <t t-esc="answer_record.total_mark_obtained" /> </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="container-fluid">
                                        <table class="table table-bordered" style="margin-bottom: unset;">
                                            <tr>
                                                <th class="p-percentage w-20">
                                                    <p class="h1 percentage  text-center"> <t t-esc="('%.2f' % answer_record.percentage_scored).rstrip('0').rstrip('.')"/>% </p>
                                                    <p class="h6 text-center"> Score Percentage </p>
                                                </th>
                                                <th class="p-5 w-20">
                                                    <p class="h1 score text-center" t-esc="answer_record.total_mark_obtained">  </p>
                                                    <p class="h6 text-center"> Your Score </p>
                                                </th>
                                                <th class="p-time w-20">
                                                    <p class="h1 time text-center" t-esc="time_taken"> </p>
                                                    <p class="h6 text-center"> Time Spent </p>
                                                </th>
                                                <th class="p-5 w-20">
                                                    <p class="h1 t-mark text-center" t-esc="answer_record.total_mark"> </p>
                                                    <p class="h6 text-center total-mark"> Total Mark </p>
                                                </th>
                                                <th class="p-time w-20">
                                                    <p class="h1 a-time text-center" t-esc="alloted_time"> </p>
                                                    <p class="h6 text-center alloted-time"> Alloted Time </p>
                                                </th>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-5 mb-5 text-center">
                                <t t-if="answer_record.set_config_id.assessment_type == 'training'">
                                    <a class="btn btn-primary signinButton btn-lg " t-attf-href="/web#action=kw_training.kw_training_my_training_act_window&amp;model=kw_training&amp;view_type=kanban"> Go to My Training </a>

                                </t>
                                <t t-if="answer_record.set_config_id.induction_code != 'POSH'">
                                    <t t-if="answer_record.set_config_id.assessment_type == 'Induction'">
                                    
                                        <a class="btn btn-primary signinButton btn-lg " t-attf-href="/web#action=kw_onboarding_induction_feedback.action_kw_induction_assessment_user_readonly_act_window&amp;model=kw_employee_induction_assessment&amp;view_type=kanban"> Go to My Assessment </a>
                                    </t>
                                </t>
                                <t t-if="answer_record.set_config_id.induction_code == 'POSH'">
                                    <a class="btn btn-primary signinButton btn-lg " t-attf-href="/web#action=kw_onboarding_induction_feedback.action_posh_induction_user_readonly_act_window&amp;model=kw_employee_posh_induction_details&amp;view_type=kanban"> Go to My Assessment </a>

                                </t>
                                <t t-else="">
                                    <a class="btn btn-primary signinButton btn-lg " t-attf-href="/web#action=kw_skill_assessment.kw_my_skill_action_window&amp;model=kw_skill_answer_master&amp;view_type=kanban"> Go to Dashboard </a>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                if (window.location.hash == "")
                {
                    window.location.hash = 'a';
                    window.location.reload();

                } 
                </script>

				
            </t>
        </template>

        <template id="kw_skill_result_assets" inherit_id="kw_skill_assessment.kw_skill_result">
            <xpath expr="." position="inside">
                <link href="/kwantify_theme/static/src/mdb/css/mdb.min.css" rel="stylesheet"/>
                <link href="/kw_skill_assessment/static/src/css/front_style.css" rel="stylesheet"/>
                <link href="/kw_skill_assessment/static/src/css/style.css" rel="stylesheet" />
                <script type="text/javascript" src="kwantify_theme/static/src/mdb/js/mdb.min.js"></script>
            </xpath>
        </template>
    </data>
</odoo>
