<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="kw_skill_assessment.skill_wise_report">
        <div class="container-fluid px-5 py-3">
            <div class="d-flex justify-content-between p-3"> 
                <div class="col-sm-2 px-0">
                </div>
                <div class="row">
                    <div class="color-block red">  </div> <span class="font-weight-bold ml-1 mr-3 mt-2" > Poor </span>
                    <div class="color-block orange">  </div> <span class="font-weight-bold ml-1 mr-3 mt-2" > Average </span>
                    <div class="color-block green">  </div> <span class="font-weight-bold ml-1 mr-3 mt-2" > Good </span>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between p-3"> 
                        <div class="table-responsive" style="overflow: auto;">
                            <table class="table table-bordered fixed_headers m-0" id="skill_employee">
                                <thead class="report_theads">
                                    <tr class="rpt_heading">
                                        <th class="text-left wordbreak align-middle" rowspan="2">Name</th>
                                        <th class="text-left wordbreak align-middle" rowspan="2">Designation</th>
                                        <t t-set="count" t-value="0" />
                                        <t t-foreach="widget.skill_type" t-as="st">
                                            <th class="text-center wordbreak align-middle" t-att-colspan="widget.count_child[count]" t-esc="st.name"></th>
                                            <t t-set="count" t-value="count+1" />
                                        </t>
                                        <th class="text-center wordbreak align-middle" rowspan="2">Skill Index</th>
                                    </tr>
                                    <tr class="rpt_heading">
                                        <t t-foreach="widget.skill_type" t-as="st">
                                            <t t-foreach="widget.skill_master" t-as="sm">
                                                <t t-if="sm.skill_type == st.id">
                                                    <th class="text-center wordbreak align-middle" t-esc="sm.name" >  </th>
                                                </t>
                                            </t>
                                        </t>
                                    </tr>
                                </thead>
                                <tbody class="report_tbodys">
                                    <t t-set="index" t-value="1"/>
                                    <tr t-foreach="widget.emp_scores" t-as="es">
                                        <td class="text-left wordbreak" data-toggle="tooltip" flow="down" data-placement="bottom" data-container="body"
                                                    t-att-title="(es.emp_name + es.emp_code)" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;">
                                            <t t-esc="es.emp_name" /> [<t t-esc="es.emp_code" />]
                                        </td>
                                        <td class="text-left wordbreak" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;"> <t t-esc="es.designation" /></td>
                                        <t t-foreach="widget.skill_master" t-as="sm">
                                            <t t-if="es[sm.name] == 'Red'">
                                                <td class="text-center red" data-toggle="tooltip" flow="down" data-placement="bottom" data-container="body" t-att-title="es[sm.id]"></td>
                                            </t>
                                            <t t-elif="es[sm.name] == 'Orange'">
                                                <td class="text-center orange" data-toggle="tooltip" flow="down" data-placement="bottom" data-container="body" t-att-title="es[sm.id]"></td>
                                            </t>
                                            <t t-elif="es[sm.name] == 'Green'">
                                                <td class="text-center green" data-toggle="tooltip" flow="down" data-placement="bottom" data-container="body" t-att-title="es[sm.id]"> </td>
                                            </t>
                                            <t t-else="">
                                                <td class="text-center"> </td>
                                            </t>
                                        </t>
                                        <t t-if="es.sum_skill_mark >= 0">
                                            <td class="text-center wordbreak"> <t t-esc="es.sum_skill_mark" /></td>
                                        </t>
                                        <t t-else="">
                                            <td class="text-center wordbreak"></td>
                                        </t>
                                        <t t-set="index" t-value="index+1" />
                                    </tr>
                                </tbody>
                                
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>
